{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport factory from \"codemirror-ssr\";\nimport usePlaceholder from \"codemirror-ssr/addon/display/placeholder.js\";\nimport useContinuelist from \"codemirror-ssr/addon/edit/continuelist.js\";\nimport useOverlay from \"codemirror-ssr/addon/mode/overlay.js\";\nimport useGfm from \"codemirror-ssr/mode/gfm/gfm.js\";\nimport useMarkdown from \"codemirror-ssr/mode/markdown/markdown.js\";\nimport useXml from \"codemirror-ssr/mode/xml/xml.js\";\nimport useYamlFrontmatter from \"codemirror-ssr/mode/yaml-frontmatter/yaml-frontmatter.js\";\nimport useYaml from \"codemirror-ssr/mode/yaml/yaml.js\";\nimport selectFiles from \"select-files\";\nimport wordCount from \"word-count\";\nimport { visit } from \"unist-util-visit\";\nimport { delegate } from \"tippy.js\";\nimport { defaultSchema } from \"hast-util-sanitize\";\nimport rehypeRaw from \"rehype-raw\";\nimport rehypeSanitize from \"rehype-sanitize\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\nimport { unified } from \"unified\";\nimport { debounce, throttle } from \"lodash-es\";\nconst index = \"\";\nfunction noop() {}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction is_function(thing) {\n  return typeof thing === \"function\";\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction not_equal(a, b) {\n  return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction append(target, node) {\n  target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n  target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n  if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\nfunction destroy_each(iterations, detaching) {\n  for (let i = 0; i < iterations.length; i += 1) {\n    if (iterations[i]) iterations[i].d(detaching);\n  }\n}\nfunction element(name) {\n  return document.createElement(name);\n}\nfunction text(data) {\n  return document.createTextNode(data);\n}\nfunction empty() {\n  return text(\"\");\n}\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\nfunction self(fn) {\n  return function (event) {\n    if (event.target === this) fn.call(this, event);\n  };\n}\nfunction attr(node, attribute, value) {\n  if (value == null) node.removeAttribute(attribute);else if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\nfunction children(element2) {\n  return Array.from(element2.childNodes);\n}\nfunction set_data(text2, data) {\n  data = \"\" + data;\n  if (text2.wholeText !== data) text2.data = data;\n}\nfunction toggle_class(element2, name, toggle) {\n  element2.classList[toggle ? \"add\" : \"remove\"](name);\n}\nfunction custom_event(type, detail, {\n  bubbles = false,\n  cancelable = false\n} = {}) {\n  const e = document.createEvent(\"CustomEvent\");\n  e.initCustomEvent(type, bubbles, cancelable, detail);\n  return e;\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component) throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction onMount(fn) {\n  get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n  get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n  get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n  const component = get_current_component();\n  return (type, detail, {\n    cancelable = false\n  } = {}) => {\n    const callbacks = component.$$.callbacks[type];\n    if (callbacks) {\n      const event = custom_event(type, detail, {\n        cancelable\n      });\n      callbacks.slice().forEach(fn => {\n        fn.call(component, event);\n      });\n      return !event.defaultPrevented;\n    }\n    return true;\n  };\n}\nconst dirty_components = [];\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n  if (!update_scheduled) {\n    update_scheduled = true;\n    resolved_promise.then(flush);\n  }\n}\nfunction tick() {\n  schedule_update();\n  return resolved_promise;\n}\nfunction add_render_callback(fn) {\n  render_callbacks.push(fn);\n}\nconst seen_callbacks = /* @__PURE__ */new Set();\nlet flushidx = 0;\nfunction flush() {\n  if (flushidx !== 0) {\n    return;\n  }\n  const saved_component = current_component;\n  do {\n    try {\n      while (flushidx < dirty_components.length) {\n        const component = dirty_components[flushidx];\n        flushidx++;\n        set_current_component(component);\n        update(component.$$);\n      }\n    } catch (e) {\n      dirty_components.length = 0;\n      flushidx = 0;\n      throw e;\n    }\n    set_current_component(null);\n    dirty_components.length = 0;\n    flushidx = 0;\n    while (binding_callbacks.length) binding_callbacks.pop()();\n    for (let i = 0; i < render_callbacks.length; i += 1) {\n      const callback = render_callbacks[i];\n      if (!seen_callbacks.has(callback)) {\n        seen_callbacks.add(callback);\n        callback();\n      }\n    }\n    render_callbacks.length = 0;\n  } while (dirty_components.length);\n  while (flush_callbacks.length) {\n    flush_callbacks.pop()();\n  }\n  update_scheduled = false;\n  seen_callbacks.clear();\n  set_current_component(saved_component);\n}\nfunction update($$) {\n  if ($$.fragment !== null) {\n    $$.update();\n    run_all($$.before_update);\n    const dirty = $$.dirty;\n    $$.dirty = [-1];\n    $$.fragment && $$.fragment.p($$.ctx, dirty);\n    $$.after_update.forEach(add_render_callback);\n  }\n}\nfunction flush_render_callbacks(fns) {\n  const filtered = [];\n  const targets = [];\n  render_callbacks.forEach(c => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n  targets.forEach(c => c());\n  render_callbacks = filtered;\n}\nconst outroing = /* @__PURE__ */new Set();\nlet outros;\nfunction group_outros() {\n  outros = {\n    r: 0,\n    c: [],\n    p: outros\n    // parent group\n  };\n}\nfunction check_outros() {\n  if (!outros.r) {\n    run_all(outros.c);\n  }\n  outros = outros.p;\n}\nfunction transition_in(block, local) {\n  if (block && block.i) {\n    outroing.delete(block);\n    block.i(local);\n  }\n}\nfunction transition_out(block, local, detach2, callback) {\n  if (block && block.o) {\n    if (outroing.has(block)) return;\n    outroing.add(block);\n    outros.c.push(() => {\n      outroing.delete(block);\n      if (callback) {\n        if (detach2) block.d(1);\n        callback();\n      }\n    });\n    block.o(local);\n  } else if (callback) {\n    callback();\n  }\n}\nfunction create_component(block) {\n  block && block.c();\n}\nfunction mount_component(component, target, anchor, customElement) {\n  const {\n    fragment,\n    after_update\n  } = component.$$;\n  fragment && fragment.m(target, anchor);\n  if (!customElement) {\n    add_render_callback(() => {\n      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n      if (component.$$.on_destroy) {\n        component.$$.on_destroy.push(...new_on_destroy);\n      } else {\n        run_all(new_on_destroy);\n      }\n      component.$$.on_mount = [];\n    });\n  }\n  after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n  const $$ = component.$$;\n  if ($$.fragment !== null) {\n    flush_render_callbacks($$.after_update);\n    run_all($$.on_destroy);\n    $$.fragment && $$.fragment.d(detaching);\n    $$.on_destroy = $$.fragment = null;\n    $$.ctx = [];\n  }\n}\nfunction make_dirty(component, i) {\n  if (component.$$.dirty[0] === -1) {\n    dirty_components.push(component);\n    schedule_update();\n    component.$$.dirty.fill(0);\n  }\n  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n}\nfunction init(component, options, instance2, create_fragment2, not_equal2, props, append_styles, dirty = [-1]) {\n  const parent_component = current_component;\n  set_current_component(component);\n  const $$ = component.$$ = {\n    fragment: null,\n    ctx: [],\n    // state\n    props,\n    update: noop,\n    not_equal: not_equal2,\n    bound: blank_object(),\n    // lifecycle\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n    // everything else\n    callbacks: blank_object(),\n    dirty,\n    skip_bound: false,\n    root: options.target || parent_component.$$.root\n  };\n  append_styles && append_styles($$.root);\n  let ready = false;\n  $$.ctx = instance2 ? instance2(component, options.props || {}, (i, ret, ...rest) => {\n    const value = rest.length ? rest[0] : ret;\n    if ($$.ctx && not_equal2($$.ctx[i], $$.ctx[i] = value)) {\n      if (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n      if (ready) make_dirty(component, i);\n    }\n    return ret;\n  }) : [];\n  $$.update();\n  ready = true;\n  run_all($$.before_update);\n  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;\n  if (options.target) {\n    if (options.hydrate) {\n      const nodes = children(options.target);\n      $$.fragment && $$.fragment.l(nodes);\n      nodes.forEach(detach);\n    } else {\n      $$.fragment && $$.fragment.c();\n    }\n    if (options.intro) transition_in(component.$$.fragment);\n    mount_component(component, options.target, options.anchor, options.customElement);\n    flush();\n  }\n  set_current_component(parent_component);\n}\nclass SvelteComponent {\n  $destroy() {\n    destroy_component(this, 1);\n    this.$destroy = noop;\n  }\n  $on(type, callback) {\n    if (!is_function(callback)) {\n      return noop;\n    }\n    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n    callbacks.push(callback);\n    return () => {\n      const index2 = callbacks.indexOf(callback);\n      if (index2 !== -1) callbacks.splice(index2, 1);\n    };\n  }\n  $set($$props) {\n    if (this.$$set && !is_empty($$props)) {\n      this.$$.skip_bound = true;\n      this.$$set($$props);\n      this.$$.skip_bound = false;\n    }\n  }\n}\nconst bold = \"Bold\";\nconst boldText = \"bold text\";\nconst cheatsheet = \"Markdown Cheatsheet\";\nconst closeHelp = \"Close help\";\nconst closeToc = \"Close table of contents\";\nconst code = \"Code\";\nconst codeBlock = \"Code block\";\nconst codeLang = \"lang\";\nconst codeText = \"code\";\nconst exitFullscreen = \"Exit fullscreen\";\nconst exitPreviewOnly = \"Exit preview only\";\nconst exitWriteOnly = \"Exit write only\";\nconst fullscreen = \"Fullscreen\";\nconst h1 = \"Heading 1\";\nconst h2 = \"Heading 2\";\nconst h3 = \"Heading 3\";\nconst h4 = \"Heading 4\";\nconst h5 = \"Heading 5\";\nconst h6 = \"Heading 6\";\nconst headingText = \"heading\";\nconst help = \"Help\";\nconst hr = \"Horizontal rule\";\nconst image = \"Image\";\nconst imageAlt = \"alt\";\nconst imageTitle = \"title\";\nconst italic = \"Italic\";\nconst italicText = \"italic text\";\nconst limited = \"The maximum character limit has been reached\";\nconst lines = \"Lines\";\nconst link = \"Link\";\nconst linkText = \"link text\";\nconst ol = \"Ordered list\";\nconst olItem = \"item\";\nconst preview = \"Preview\";\nconst previewOnly = \"Preview only\";\nconst quote = \"Quote\";\nconst quotedText = \"quoted text\";\nconst shortcuts = \"Shortcuts\";\nconst source = \"Source code\";\nconst sync = \"Scroll sync\";\nconst toc = \"Table of contents\";\nconst top = \"Scroll to top\";\nconst ul = \"Unordered list\";\nconst ulItem = \"item\";\nconst words = \"Words\";\nconst write = \"Write\";\nconst writeOnly = \"Write only\";\nconst en = {\n  bold,\n  boldText,\n  cheatsheet,\n  closeHelp,\n  closeToc,\n  code,\n  codeBlock,\n  codeLang,\n  codeText,\n  exitFullscreen,\n  exitPreviewOnly,\n  exitWriteOnly,\n  fullscreen,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  headingText,\n  help,\n  hr,\n  image,\n  imageAlt,\n  imageTitle,\n  italic,\n  italicText,\n  limited,\n  lines,\n  link,\n  linkText,\n  ol,\n  olItem,\n  preview,\n  previewOnly,\n  quote,\n  quotedText,\n  shortcuts,\n  source,\n  sync,\n  toc,\n  top,\n  ul,\n  ulItem,\n  words,\n  write,\n  writeOnly\n};\nconst icons = {\n  Close: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m8 8 32 32M8 40 40 8\"/></svg>',\n  H: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M12 5v38M36 5v38M12 24h24\"/></svg>',\n  H1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M25 8v32M6 24h19M34.226 24 39 19.017V40\"/></svg>',\n  H2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 25c0-3.167 2.667-5 5-5s5 1.833 5 5c0 5.7-10 9.933-10 15h10\"/></svg>',\n  H3: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 20h10l-7 9c4 0 7 2 7 6s-3 5-5 5c-2.381 0-4-1-5-2.1\"/></svg>',\n  LevelFourTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M39.977 40V20L31 32.997v2.023h12\"/></svg>',\n  LevelFiveTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M40 21.01h-8v7.024C32 28 34 27 37 27s4 2.534 4 6.5-1 6.5-5 6.5c-3 0-4-2-4-3.992\"/></svg>',\n  LevelSixTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16\"/><path stroke=\"currentColor\" stroke-width=\"4\" d=\"M36.5 40a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M41.596 24.74C40.778 22.545 38.804 21 36.5 21c-3.038 0-5.5 2.686-5.5 6v7\"/></svg>',\n  TextBold: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 24c5.506 0 9.969-4.477 9.969-10S29.506 4 24 4H11v20h13ZM28.031 44C33.537 44 38 39.523 38 34s-4.463-10-9.969-10H11v20h17.031Z\" clip-rule=\"evenodd\"/></svg>',\n  TextItalic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M20 6h16M12 42h16M29 5.952 19 42\"/></svg>',\n  Quote: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M18.853 9.116C11.323 13.952 7.14 19.58 6.303 26.003 5 36 13.94 40.893 18.47 36.497 23 32.1 20.285 26.52 17.005 24.994c-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.016-7.69 9.116-10.322a.749.749 0 0 0 .114-1.02L20.285 9.3c-.44-.572-.862-.55-1.432-.185ZM38.679 9.116c-7.53 4.836-11.714 10.465-12.55 16.887-1.303 9.997 7.637 14.89 12.167 10.494 4.53-4.397 1.815-9.977-1.466-11.503-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.017-7.69 9.117-10.322a.749.749 0 0 0 .113-1.02L40.11 9.3c-.44-.572-.862-.55-1.431-.185Z\" clip-rule=\"evenodd\"/></svg>',\n  LinkOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m26.24 16.373-9.14-9.14c-2.661-2.661-7.035-2.603-9.768.131-2.734 2.734-2.793 7.107-.131 9.768l7.935 7.936M32.903 23.003l7.935 7.935c2.661 2.662 2.603 7.035-.13 9.769-2.735 2.734-7.108 2.792-9.77.13l-9.14-9.14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26.11 26.142c2.733-2.734 2.792-7.108.13-9.769M21.799 21.798c-2.734 2.734-2.792 7.108-.131 9.769\"/></svg>',\n  Pic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 10a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V10Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M14.5 18a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m15 24 5 4 6-7 17 13v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4l10-10Z\"/></svg>',\n  Code: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 13 4 25.432 16 37M32 13l12 12.432L32 37\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"m28 4-7 40\"/></svg>',\n  CodeBrackets: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 4c-2 0-5 1-5 5v9c0 3-5 5-5 5s5 2 5 5v11c0 4 3 5 5 5M32 4c2 0 5 1 5 5v9c0 3 5 5 5 5s-5 2-5 5v11c0 4-3 5-5 5\"/></svg>',\n  ListTwo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 42a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 14a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 28a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M21 24h22M21 38h22M21 10h22\"/></svg>',\n  OrderedList: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 4v9M12 13H6M12 27H6M6 20s3-3 5 0-5 7-5 7M6 34.5s2-3 5-1 0 4.5 0 4.5 3 2.5 0 4.5-5-1-5-1M11 38H9M9 4 6 6M21 24h22M21 38h22M21 10h22\"/></svg>',\n  DividingLine: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 24h38M21 38h6M37 38h6M21 10h6M5 38h6M5 10h6M37 10h6\"/></svg>',\n  AlignTextLeftOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26 24H14M34 15H14M32 33H14\"/></svg>',\n  Helpcenter: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 28.625v-4a6 6 0 1 0-6-6\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M24 37.625a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\" clip-rule=\"evenodd\"/></svg>',\n  LeftExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"6\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M42 6v36\"/></svg>',\n  RightExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"14\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 6v36\"/></svg>',\n  OffScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6v9h9M15 6v9H6M15 42v-9H6M33 42v-9h8.9\"/></svg>',\n  FullScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6h9v9M42 33v9h-9M15 42H6v-9M6 15V6h9\"/></svg>',\n  GithubOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"M29.344 30.477c2.404-.5 4.585-1.366 6.28-2.638C38.52 25.668 40 22.314 40 19c0-2.324-.881-4.494-2.407-6.332-.85-1.024 1.636-8.667-.573-7.638-2.21 1.03-5.45 3.308-7.147 2.805A20.712 20.712 0 0 0 24 7c-1.8 0-3.532.223-5.147.634C16.505 8.232 14.259 6 12 5.03c-2.26-.97-1.026 6.934-1.697 7.765C8.84 14.605 8 16.73 8 19c0 3.314 1.79 6.668 4.686 8.84 1.93 1.446 4.348 2.368 7.054 2.822M19.74 30.662c-1.159 1.275-1.738 2.486-1.738 3.632v8.717M29.345 30.477c1.097 1.44 1.646 2.734 1.646 3.88v8.654M6 31.215c.899.11 1.566.524 2 1.24.652 1.075 3.074 5.063 5.825 5.063h4.177\"/></svg>'\n};\nfunction createCodeMirror() {\n  const codemirror = factory();\n  usePlaceholder(codemirror);\n  useOverlay(codemirror);\n  useXml(codemirror);\n  useMarkdown(codemirror);\n  useGfm(codemirror);\n  useYaml(codemirror);\n  useYamlFrontmatter(codemirror);\n  useContinuelist(codemirror);\n  return codemirror;\n}\nfunction createEditorUtils(codemirror, editor) {\n  return {\n    /**\n     * Wrap text with decorators, for example:\n     *\n     * `text -> *text*`\n     */\n    wrapText(before, after = before) {\n      const range = editor.somethingSelected() ? editor.listSelections()[0] : editor.findWordAt(editor.getCursor());\n      const from = range.from();\n      const to = range.to();\n      const text2 = editor.getRange(from, to);\n      const fromBefore = codemirror.Pos(from.line, from.ch - before.length);\n      const toAfter = codemirror.Pos(to.line, to.ch + after.length);\n      if (editor.getRange(fromBefore, from) === before && editor.getRange(to, toAfter) === after) {\n        editor.replaceRange(text2, fromBefore, toAfter);\n        editor.setSelection(fromBefore, codemirror.Pos(fromBefore.line, fromBefore.ch + text2.length));\n      } else {\n        editor.replaceRange(before + text2 + after, from, to);\n        const cursor = editor.getCursor();\n        editor.setSelection(codemirror.Pos(cursor.line, cursor.ch - after.length - text2.length), codemirror.Pos(cursor.line, cursor.ch - after.length));\n      }\n    },\n    /**\n     * replace multiple lines\n     *\n     * `line -> # line`\n     */\n    replaceLines(replace) {\n      const [selection] = editor.listSelections();\n      const range = [codemirror.Pos(selection.from().line, 0), codemirror.Pos(selection.to().line)];\n      const lines2 = editor.getRange(...range).split(\"\\n\");\n      editor.replaceRange(lines2.map(replace).join(\"\\n\"), ...range);\n      editor.setSelection(...range);\n    },\n    /**\n     * Append a block based on the cursor position\n     */\n    appendBlock(content) {\n      const cursor = editor.getCursor();\n      let emptyLine = -1;\n      for (let i = cursor.line; i < editor.lineCount(); i++) {\n        if (!editor.getLine(i).trim()) {\n          emptyLine = i;\n          break;\n        }\n      }\n      if (emptyLine === -1) {\n        editor.replaceRange(\"\\n\", codemirror.Pos(editor.lineCount()));\n        emptyLine = editor.lineCount();\n      }\n      editor.replaceRange(\"\\n\" + content, codemirror.Pos(emptyLine));\n      return codemirror.Pos(emptyLine + 1, 0);\n    },\n    /**\n     * Triggers a virtual file input and let user select files\n     *\n     * https://www.npmjs.com/package/select-files\n     */\n    selectFiles\n  };\n}\nfunction findStartIndex(num, nums) {\n  let startIndex = nums.length - 2;\n  for (let i = 0; i < nums.length; i++) {\n    if (num < nums[i]) {\n      startIndex = i - 1;\n      break;\n    }\n  }\n  startIndex = Math.max(startIndex, 0);\n  return startIndex;\n}\nconst getShortcutWithPrefix = (key, shift = false) => {\n  const shiftPrefix = shift ? \"Shift-\" : \"\";\n  const CmdPrefix = typeof navigator !== \"undefined\" && /Mac/.test(navigator.platform) ? \"Cmd-\" : \"Ctrl-\";\n  return shiftPrefix + CmdPrefix + key;\n};\nasync function handleImageUpload({\n  editor,\n  appendBlock,\n  codemirror\n}, uploadImages, files) {\n  const imgs = await uploadImages(files);\n  const pos = appendBlock(imgs.map(({\n    url,\n    alt,\n    title\n  }, i) => {\n    alt = alt != null ? alt : files[i].name;\n    return `![${alt}](${url}${title ? ` \"${title}\"` : \"\"})`;\n  }).join(\"\\n\\n\"));\n  editor.setSelection(pos, codemirror.Pos(pos.line + imgs.length * 2 - 2));\n  editor.focus();\n}\nfunction getBuiltinActions(locale, plugins, uploadImages) {\n  const leftActions = [{\n    icon: icons.H,\n    handler: {\n      type: \"dropdown\",\n      actions: [1, 2, 3, 4, 5, 6].map(level => ({\n        title: locale[`h${level}`],\n        icon: [icons.H1, icons.H2, icons.H3, icons.LevelFourTitle, icons.LevelFiveTitle, icons.LevelSixTitle][level - 1],\n        cheatsheet: level <= 3 ? `${\"#\".repeat(level)} ${locale.headingText}` : void 0,\n        handler: {\n          type: \"action\",\n          click({\n            replaceLines,\n            editor\n          }) {\n            replaceLines(line => {\n              line = line.trim().replace(/^#*/, \"\").trim();\n              line = \"#\".repeat(level) + \" \" + line;\n              return line;\n            });\n            editor.focus();\n          }\n        }\n      }))\n    }\n  }, {\n    title: locale.bold,\n    icon: icons.TextBold,\n    cheatsheet: `**${locale.boldText}**`,\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"B\"),\n      click({\n        wrapText,\n        editor\n      }) {\n        wrapText(\"**\");\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.italic,\n    icon: icons.TextItalic,\n    cheatsheet: `*${locale.italicText}*`,\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"I\"),\n      click({\n        wrapText,\n        editor\n      }) {\n        wrapText(\"*\");\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.quote,\n    icon: icons.Quote,\n    cheatsheet: `> ${locale.quotedText}`,\n    handler: {\n      type: \"action\",\n      click({\n        replaceLines,\n        editor\n      }) {\n        replaceLines(line => \"> \" + line);\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.link,\n    icon: icons.LinkOne,\n    cheatsheet: `[${locale.linkText}](url)`,\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"K\"),\n      click({\n        editor,\n        wrapText,\n        codemirror\n      }) {\n        wrapText(\"[\", \"](url)\");\n        const cursor = editor.getCursor();\n        editor.setSelection(codemirror.Pos(cursor.line, cursor.ch + 2), codemirror.Pos(cursor.line, cursor.ch + 5));\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.image,\n    icon: icons.Pic,\n    cheatsheet: `![${locale.imageAlt}](url \"${locale.imageTitle}\")`,\n    handler: uploadImages ? {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"I\", true),\n      async click(ctx) {\n        const fileList = await selectFiles({\n          accept: \"image/*\",\n          multiple: true\n        });\n        if (fileList == null ? void 0 : fileList.length) {\n          await handleImageUpload(ctx, uploadImages, Array.from(fileList));\n        }\n      }\n    } : void 0\n  }, {\n    title: locale.code,\n    icon: icons.Code,\n    cheatsheet: \"`\" + locale.codeText + \"`\",\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"K\", true),\n      click({\n        wrapText,\n        editor\n      }) {\n        wrapText(\"`\");\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.codeBlock,\n    icon: icons.CodeBrackets,\n    cheatsheet: \"```\" + locale.codeLang + \"↵\",\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"C\", true),\n      click({\n        editor,\n        appendBlock,\n        codemirror\n      }) {\n        const pos = appendBlock(\"```js\\n```\");\n        editor.setSelection(codemirror.Pos(pos.line, 3), codemirror.Pos(pos.line, 5));\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.ul,\n    icon: icons.ListTwo,\n    cheatsheet: `- ${locale.ulItem}`,\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"U\", true),\n      click({\n        replaceLines,\n        editor\n      }) {\n        replaceLines(line => \"- \" + line);\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.ol,\n    icon: icons.OrderedList,\n    cheatsheet: `1. ${locale.olItem}`,\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"O\", true),\n      click({\n        replaceLines,\n        editor\n      }) {\n        replaceLines((line, i) => `${i + 1}. ${line}`);\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.hr,\n    icon: icons.DividingLine,\n    cheatsheet: \"---\"\n  }];\n  const rightActions = [];\n  plugins.forEach(({\n    actions\n  }) => {\n    if (actions) {\n      actions.forEach(action => {\n        if (!action.position || action.position !== \"right\") leftActions.push(action);else rightActions.unshift(action);\n      });\n    }\n  });\n  return {\n    leftActions,\n    rightActions\n  };\n}\nfunction get_each_context$2(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction get_each_context_1$1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction create_if_block_1$2(ctx) {\n  let li;\n  let div0;\n  let raw_value = /*action*/\n  ctx[5].icon + \"\";\n  let div1;\n  let t0_value = /*action*/\n  ctx[5].title + \"\";\n  let t0;\n  let div2;\n  let code2;\n  let t1_value = /*action*/\n  ctx[5].cheatsheet + \"\";\n  let t1;\n  return {\n    c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      code2 = element(\"code\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, code2);\n      append(code2, t1);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\")) div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\")) set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].cheatsheet + \"\")) set_data(t1, t1_value);\n    },\n    d(detaching) {\n      if (detaching) detach(li);\n    }\n  };\n}\nfunction create_each_block_1$1(ctx) {\n  let if_block_anchor;\n  let if_block = /*action*/\n  ctx[5].cheatsheet && create_if_block_1$2(ctx);\n  return {\n    c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if ( /*action*/\n      ctx2[5].cheatsheet) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_1$2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$3(ctx) {\n  let li;\n  let div0;\n  let raw_value = /*action*/\n  ctx[5].icon + \"\";\n  let div1;\n  let t0_value = /*action*/\n  ctx[5].title + \"\";\n  let t0;\n  let div2;\n  let kbd;\n  let t1_value = /*action*/\n  ctx[5].handler.shortcut + \"\";\n  let t1;\n  return {\n    c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      kbd = element(\"kbd\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, kbd);\n      append(kbd, t1);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\")) div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\")) set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].handler.shortcut + \"\")) set_data(t1, t1_value);\n    },\n    d(detaching) {\n      if (detaching) detach(li);\n    }\n  };\n}\nfunction create_each_block$2(ctx) {\n  let if_block_anchor;\n  let if_block = /*action*/\n  ctx[5].handler && /*action*/\n  ctx[5].handler.type === \"action\" && /*action*/\n  ctx[5].handler.shortcut && create_if_block$3(ctx);\n  return {\n    c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if ( /*action*/\n      ctx2[5].handler && /*action*/\n      ctx2[5].handler.type === \"action\" && /*action*/\n      ctx2[5].handler.shortcut) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$3(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$5(ctx) {\n  let div;\n  let h20;\n  let t0_value = /*locale*/\n  ctx[0].cheatsheet + \"\";\n  let t0;\n  let ul0;\n  let h21;\n  let t1_value = /*locale*/\n  ctx[0].shortcuts + \"\";\n  let t1;\n  let ul1;\n  let each_value_1 = /*items*/\n  ctx[2];\n  let each_blocks_1 = [];\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    each_blocks_1[i] = create_each_block_1$1(get_each_context_1$1(ctx, each_value_1, i));\n  }\n  let each_value = /*items*/\n  ctx[2];\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div = element(\"div\");\n      h20 = element(\"h2\");\n      t0 = text(t0_value);\n      ul0 = element(\"ul\");\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        each_blocks_1[i].c();\n      }\n      h21 = element(\"h2\");\n      t1 = text(t1_value);\n      ul1 = element(\"ul\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div, \"class\", \"bytemd-help\");\n      toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n      ctx[1]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h20);\n      append(h20, t0);\n      append(div, ul0);\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        if (each_blocks_1[i]) {\n          each_blocks_1[i].m(ul0, null);\n        }\n      }\n      append(div, h21);\n      append(h21, t1);\n      append(div, ul1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(ul1, null);\n        }\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      1 && t0_value !== (t0_value = /*locale*/\n      ctx2[0].cheatsheet + \"\")) set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4) {\n        each_value_1 = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value_1.length; i += 1) {\n          const child_ctx = get_each_context_1$1(ctx2, each_value_1, i);\n          if (each_blocks_1[i]) {\n            each_blocks_1[i].p(child_ctx, dirty);\n          } else {\n            each_blocks_1[i] = create_each_block_1$1(child_ctx);\n            each_blocks_1[i].c();\n            each_blocks_1[i].m(ul0, null);\n          }\n        }\n        for (; i < each_blocks_1.length; i += 1) {\n          each_blocks_1[i].d(1);\n        }\n        each_blocks_1.length = each_value_1.length;\n      }\n      if (dirty & /*locale*/\n      1 && t1_value !== (t1_value = /*locale*/\n      ctx2[0].shortcuts + \"\")) set_data(t1, t1_value);\n      if (dirty & /*items*/\n      4) {\n        each_value = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context$2(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block$2(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(ul1, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching) detach(div);\n      destroy_each(each_blocks_1, detaching);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$5($$self, $$props, $$invalidate) {\n  let items;\n  let {\n    actions\n  } = $$props;\n  let {\n    locale\n  } = $$props;\n  let {\n    visible\n  } = $$props;\n  function flatItems(actions2) {\n    let items2 = [];\n    actions2.forEach(action => {\n      const {\n        handler,\n        cheatsheet: cheatsheet2\n      } = action;\n      if ((handler == null ? void 0 : handler.type) === \"dropdown\") {\n        items2.push(...flatItems(handler.actions));\n      }\n      if (cheatsheet2) {\n        items2.push(action);\n      }\n    });\n    return items2;\n  }\n  $$self.$$set = $$props2 => {\n    if (\"actions\" in $$props2) $$invalidate(3, actions = $$props2.actions);\n    if (\"locale\" in $$props2) $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2) $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*actions*/\n    8) {\n      $$invalidate(2, items = flatItems(actions));\n    }\n  };\n  return [locale, visible, items, actions];\n}\nclass Help extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$5, create_fragment$5, safe_not_equal, {\n      actions: 3,\n      locale: 0,\n      visible: 1\n    });\n  }\n}\nfunction create_if_block_1$1(ctx) {\n  let span;\n  let t_value = /*locale*/\n  ctx[2].limited + \"\";\n  let t;\n  return {\n    c() {\n      span = element(\"span\");\n      t = text(t_value);\n      attr(span, \"class\", \"bytemd-status-error\");\n    },\n    m(target, anchor) {\n      insert(target, span, anchor);\n      append(span, t);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].limited + \"\")) set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching) detach(span);\n    }\n  };\n}\nfunction create_if_block$2(ctx) {\n  let label;\n  let input;\n  let t_value = /*locale*/\n  ctx[2].sync + \"\";\n  let t;\n  let mounted;\n  let dispose;\n  return {\n    c() {\n      label = element(\"label\");\n      input = element(\"input\");\n      t = text(t_value);\n      attr(input, \"type\", \"checkbox\");\n      input.checked = /*syncEnabled*/\n      ctx[1];\n    },\n    m(target, anchor) {\n      insert(target, label, anchor);\n      append(label, input);\n      append(label, t);\n      if (!mounted) {\n        dispose = listen(input, \"change\", /*change_handler*/\n        ctx[8]);\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*syncEnabled*/\n      2) {\n        input.checked = /*syncEnabled*/\n        ctx2[1];\n      }\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].sync + \"\")) set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching) detach(label);\n      mounted = false;\n      dispose();\n    }\n  };\n}\nfunction create_fragment$4(ctx) {\n  let div2;\n  let div0;\n  let span0;\n  let t0_value = /*locale*/\n  ctx[2].words + \"\";\n  let t0;\n  let t1;\n  let strong0;\n  let t2;\n  let span1;\n  let t3_value = /*locale*/\n  ctx[2].lines + \"\";\n  let t3;\n  let t4;\n  let strong1;\n  let t5;\n  let div1;\n  let span2;\n  let t6_value = /*locale*/\n  ctx[2].top + \"\";\n  let t6;\n  let mounted;\n  let dispose;\n  let if_block0 = /*islimited*/\n  ctx[3] && create_if_block_1$1(ctx);\n  let if_block1 = /*showSync*/\n  ctx[0] && create_if_block$2(ctx);\n  return {\n    c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      span0 = element(\"span\");\n      t0 = text(t0_value);\n      t1 = text(\": \");\n      strong0 = element(\"strong\");\n      t2 = text( /*words*/\n      ctx[5]);\n      span1 = element(\"span\");\n      t3 = text(t3_value);\n      t4 = text(\": \");\n      strong1 = element(\"strong\");\n      t5 = text( /*lines*/\n      ctx[4]);\n      if (if_block0) if_block0.c();\n      div1 = element(\"div\");\n      if (if_block1) if_block1.c();\n      span2 = element(\"span\");\n      t6 = text(t6_value);\n      attr(div0, \"class\", \"bytemd-status-left\");\n      attr(div1, \"class\", \"bytemd-status-right\");\n      attr(div2, \"class\", \"bytemd-status\");\n    },\n    m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      append(div0, span0);\n      append(span0, t0);\n      append(span0, t1);\n      append(span0, strong0);\n      append(strong0, t2);\n      append(div0, span1);\n      append(span1, t3);\n      append(span1, t4);\n      append(span1, strong1);\n      append(strong1, t5);\n      if (if_block0) if_block0.m(div0, null);\n      append(div2, div1);\n      if (if_block1) if_block1.m(div1, null);\n      append(div1, span2);\n      append(span2, t6);\n      if (!mounted) {\n        dispose = [listen(span2, \"click\", /*click_handler*/\n        ctx[9]), listen(span2, \"keydown\", self( /*keydown_handler*/\n        ctx[10]))];\n        mounted = true;\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].words + \"\")) set_data(t0, t0_value);\n      if (dirty & /*words*/\n      32) set_data(t2, /*words*/\n      ctx2[5]);\n      if (dirty & /*locale*/\n      4 && t3_value !== (t3_value = /*locale*/\n      ctx2[2].lines + \"\")) set_data(t3, t3_value);\n      if (dirty & /*lines*/\n      16) set_data(t5, /*lines*/\n      ctx2[4]);\n      if ( /*islimited*/\n      ctx2[3]) {\n        if (if_block0) {\n          if_block0.p(ctx2, dirty);\n        } else {\n          if_block0 = create_if_block_1$1(ctx2);\n          if_block0.c();\n          if_block0.m(div0, null);\n        }\n      } else if (if_block0) {\n        if_block0.d(1);\n        if_block0 = null;\n      }\n      if ( /*showSync*/\n      ctx2[0]) {\n        if (if_block1) {\n          if_block1.p(ctx2, dirty);\n        } else {\n          if_block1 = create_if_block$2(ctx2);\n          if_block1.c();\n          if_block1.m(div1, span2);\n        }\n      } else if (if_block1) {\n        if_block1.d(1);\n        if_block1 = null;\n      }\n      if (dirty & /*locale*/\n      4 && t6_value !== (t6_value = /*locale*/\n      ctx2[2].top + \"\")) set_data(t6, t6_value);\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching) detach(div2);\n      if (if_block0) if_block0.d();\n      if (if_block1) if_block1.d();\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance$4($$self, $$props, $$invalidate) {\n  let words2;\n  let lines2;\n  let {\n    showSync\n  } = $$props;\n  let {\n    value\n  } = $$props;\n  let {\n    syncEnabled\n  } = $$props;\n  let {\n    locale\n  } = $$props;\n  let {\n    islimited\n  } = $$props;\n  const dispatch = createEventDispatcher();\n  const change_handler = () => dispatch(\"sync\", !syncEnabled);\n  const click_handler = () => dispatch(\"top\");\n  const keydown_handler = e => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"top\");\n  $$self.$$set = $$props2 => {\n    if (\"showSync\" in $$props2) $$invalidate(0, showSync = $$props2.showSync);\n    if (\"value\" in $$props2) $$invalidate(7, value = $$props2.value);\n    if (\"syncEnabled\" in $$props2) $$invalidate(1, syncEnabled = $$props2.syncEnabled);\n    if (\"locale\" in $$props2) $$invalidate(2, locale = $$props2.locale);\n    if (\"islimited\" in $$props2) $$invalidate(3, islimited = $$props2.islimited);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(5, words2 = wordCount(value));\n    }\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(4, lines2 = value.split(\"\\n\").length);\n    }\n  };\n  return [showSync, syncEnabled, locale, islimited, lines2, words2, dispatch, value, change_handler, click_handler, keydown_handler];\n}\nclass Status extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$4, create_fragment$4, safe_not_equal, {\n      showSync: 0,\n      value: 7,\n      syncEnabled: 1,\n      locale: 2,\n      islimited: 3\n    });\n  }\n}\nfunction get_each_context$1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[11] = list[i];\n  child_ctx[13] = i;\n  return child_ctx;\n}\nfunction create_each_block$1(ctx) {\n  let li;\n  let t_value = /*item*/\n  ctx[11].text + \"\";\n  let t;\n  let li_class_value;\n  let li_style_value;\n  let mounted;\n  let dispose;\n  function click_handler() {\n    return /*click_handler*/(\n      ctx[8]( /*index*/\n      ctx[13])\n    );\n  }\n  function keydown_handler(...args) {\n    return /*keydown_handler*/(\n      ctx[9]( /*index*/\n      ctx[13], ...args)\n    );\n  }\n  return {\n    c() {\n      li = element(\"li\");\n      t = text(t_value);\n      attr(li, \"class\", li_class_value = `bytemd-toc-${/*item*/ctx[11].level}`);\n      attr(li, \"style\", li_style_value = `padding-left:${/*item*/(ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8}px`);\n      toggle_class(li, \"bytemd-toc-active\", /*currentHeadingIndex*/\n      ctx[4] === /*index*/\n      ctx[13]);\n      toggle_class(li, \"bytemd-toc-first\", /*item*/\n      ctx[11].level === /*minLevel*/\n      ctx[3]);\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, t);\n      if (!mounted) {\n        dispose = [listen(li, \"click\", click_handler), listen(li, \"keydown\", self(keydown_handler))];\n        mounted = true;\n      }\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty & /*items*/\n      4 && t_value !== (t_value = /*item*/\n      ctx[11].text + \"\")) set_data(t, t_value);\n      if (dirty & /*items*/\n      4 && li_class_value !== (li_class_value = `bytemd-toc-${/*item*/ctx[11].level}`)) {\n        attr(li, \"class\", li_class_value);\n      }\n      if (dirty & /*items, minLevel*/\n      12 && li_style_value !== (li_style_value = `padding-left:${/*item*/(ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8}px`)) {\n        attr(li, \"style\", li_style_value);\n      }\n      if (dirty & /*items, currentHeadingIndex*/\n      20) {\n        toggle_class(li, \"bytemd-toc-active\", /*currentHeadingIndex*/\n        ctx[4] === /*index*/\n        ctx[13]);\n      }\n      if (dirty & /*items, items, minLevel*/\n      12) {\n        toggle_class(li, \"bytemd-toc-first\", /*item*/\n        ctx[11].level === /*minLevel*/\n        ctx[3]);\n      }\n    },\n    d(detaching) {\n      if (detaching) detach(li);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_fragment$3(ctx) {\n  let div;\n  let h22;\n  let t_value = /*locale*/\n  ctx[0].toc + \"\";\n  let t;\n  let ul2;\n  let each_value = /*items*/\n  ctx[2];\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div = element(\"div\");\n      h22 = element(\"h2\");\n      t = text(t_value);\n      ul2 = element(\"ul\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div, \"class\", \"bytemd-toc\");\n      toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n      ctx[1]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h22);\n      append(h22, t);\n      append(div, ul2);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(ul2, null);\n        }\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      1 && t_value !== (t_value = /*locale*/\n      ctx2[0].toc + \"\")) set_data(t, t_value);\n      if (dirty & /*items, minLevel, currentHeadingIndex, dispatch*/\n      60) {\n        each_value = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context$1(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block$1(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(ul2, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching) detach(div);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$3($$self, $$props, $$invalidate) {\n  let {\n    hast\n  } = $$props;\n  let {\n    currentBlockIndex\n  } = $$props;\n  let {\n    locale\n  } = $$props;\n  let {\n    visible\n  } = $$props;\n  const dispatch = createEventDispatcher();\n  let items;\n  let minLevel = 6;\n  let currentHeadingIndex = 0;\n  function stringifyHeading(e) {\n    let result = \"\";\n    visit(e, node => {\n      if (node.type === \"text\") {\n        result += node.value;\n      }\n    });\n    return result;\n  }\n  const click_handler = index2 => {\n    dispatch(\"click\", index2);\n  };\n  const keydown_handler = (index2, e) => {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      dispatch(\"click\", index2);\n    }\n  };\n  $$self.$$set = $$props2 => {\n    if (\"hast\" in $$props2) $$invalidate(6, hast = $$props2.hast);\n    if (\"currentBlockIndex\" in $$props2) $$invalidate(7, currentBlockIndex = $$props2.currentBlockIndex);\n    if (\"locale\" in $$props2) $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2) $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*hast, minLevel, items, currentBlockIndex*/\n    204) {\n      (() => {\n        $$invalidate(2, items = []);\n        $$invalidate(4, currentHeadingIndex = 0);\n        hast.children.filter(v => v.type === \"element\").forEach((node, index2) => {\n          if (node.tagName[0] === \"h\" && !!node.children.length) {\n            const i = Number(node.tagName[1]);\n            $$invalidate(3, minLevel = Math.min(minLevel, i));\n            items.push({\n              level: i,\n              text: stringifyHeading(node)\n            });\n          }\n          if (currentBlockIndex >= index2) {\n            $$invalidate(4, currentHeadingIndex = items.length - 1);\n          }\n        });\n      })();\n    }\n  };\n  return [locale, visible, items, minLevel, currentHeadingIndex, dispatch, hast, currentBlockIndex, click_handler, keydown_handler];\n}\nclass Toc extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$3, create_fragment$3, not_equal, {\n      hast: 6,\n      currentBlockIndex: 7,\n      locale: 0,\n      visible: 1\n    });\n  }\n}\nfunction get_each_context(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction get_each_context_1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction create_else_block(ctx) {\n  let div0;\n  let t0_value = /*locale*/\n  ctx[2].write + \"\";\n  let t0;\n  let div1;\n  let t1_value = /*locale*/\n  ctx[2].preview + \"\";\n  let t1;\n  let mounted;\n  let dispose;\n  return {\n    c() {\n      div0 = element(\"div\");\n      t0 = text(t0_value);\n      div1 = element(\"div\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(div0, \"bytemd-toolbar-tab-active\", /*activeTab*/\n      ctx[1] !== \"preview\");\n      attr(div1, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(div1, \"bytemd-toolbar-tab-active\", /*activeTab*/\n      ctx[1] === \"preview\");\n    },\n    m(target, anchor) {\n      insert(target, div0, anchor);\n      append(div0, t0);\n      insert(target, div1, anchor);\n      append(div1, t1);\n      if (!mounted) {\n        dispose = [listen(div0, \"click\", /*click_handler*/\n        ctx[16]), listen(div0, \"keydown\", self( /*keydown_handler*/\n        ctx[17])), listen(div1, \"click\", /*click_handler_1*/\n        ctx[18]), listen(div1, \"keydown\", self( /*keydown_handler_1*/\n        ctx[19]))];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].write + \"\")) set_data(t0, t0_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(div0, \"bytemd-toolbar-tab-active\", /*activeTab*/\n        ctx2[1] !== \"preview\");\n      }\n      if (dirty & /*locale*/\n      4 && t1_value !== (t1_value = /*locale*/\n      ctx2[2].preview + \"\")) set_data(t1, t1_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(div1, \"bytemd-toolbar-tab-active\", /*activeTab*/\n        ctx2[1] === \"preview\");\n      }\n    },\n    d(detaching) {\n      if (detaching) detach(div0);\n      if (detaching) detach(div1);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_if_block_1(ctx) {\n  let each_1_anchor;\n  let each_value_1 = /*actions*/\n  ctx[3];\n  let each_blocks = [];\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n  }\n  return {\n    c() {\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      each_1_anchor = empty();\n    },\n    m(target, anchor) {\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(target, anchor);\n        }\n      }\n      insert(target, each_1_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*tippyClass, actions*/\n      8) {\n        each_value_1 = /*actions*/\n        ctx2[3];\n        let i;\n        for (i = 0; i < each_value_1.length; i += 1) {\n          const child_ctx = get_each_context_1(ctx2, each_value_1, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block_1(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value_1.length;\n      }\n    },\n    d(detaching) {\n      destroy_each(each_blocks, detaching);\n      if (detaching) detach(each_1_anchor);\n    }\n  };\n}\nfunction create_if_block_2(ctx) {\n  let div;\n  let raw_value = /*item*/\n  ctx[25].icon + \"\";\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass].join(\" \"));\n      attr(div, \"bytemd-tippy-path\", /*index*/\n      ctx[27]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*actions*/\n      8 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\")) div.innerHTML = raw_value;\n    },\n    d(detaching) {\n      if (detaching) detach(div);\n    }\n  };\n}\nfunction create_each_block_1(ctx) {\n  let if_block_anchor;\n  let if_block = /*item*/\n  ctx[25].handler && create_if_block_2(ctx);\n  return {\n    c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if ( /*item*/\n      ctx2[25].handler) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$1(ctx) {\n  let div;\n  let raw_value = /*item*/\n  ctx[25].icon + \"\";\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass, tippyClassRight].join(\" \"));\n      attr(div, \"bytemd-tippy-path\", /*index*/\n      ctx[27]);\n      toggle_class(div, \"bytemd-toolbar-icon-active\", /*item*/\n      ctx[25].active);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*rightActions*/\n      32 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\")) div.innerHTML = raw_value;\n      if (dirty & /*rightActions*/\n      32) {\n        toggle_class(div, \"bytemd-toolbar-icon-active\", /*item*/\n        ctx2[25].active);\n      }\n    },\n    d(detaching) {\n      if (detaching) detach(div);\n    }\n  };\n}\nfunction create_each_block(ctx) {\n  let if_block_anchor;\n  let if_block = ! /*item*/\n  ctx[25].hidden && create_if_block$1(ctx);\n  return {\n    c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (! /*item*/\n      ctx2[25].hidden) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$1(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$2(ctx) {\n  let div2;\n  let div0;\n  let div1;\n  let mounted;\n  let dispose;\n  function select_block_type(ctx2, dirty) {\n    if ( /*split*/\n    ctx2[0]) return create_if_block_1;\n    return create_else_block;\n  }\n  let current_block_type = select_block_type(ctx);\n  let if_block = current_block_type(ctx);\n  let each_value = /*rightActions*/\n  ctx[5];\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      if_block.c();\n      div1 = element(\"div\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div0, \"class\", \"bytemd-toolbar-left\");\n      attr(div1, \"class\", \"bytemd-toolbar-right\");\n      attr(div2, \"class\", \"bytemd-toolbar\");\n    },\n    m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      if_block.m(div0, null);\n      append(div2, div1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(div1, null);\n        }\n      }\n      ctx[20](div2);\n      if (!mounted) {\n        dispose = [listen(div2, \"click\", /*handleClick*/\n        ctx[7]), listen(div2, \"keydown\", self( /*keydown_handler_2*/\n        ctx[21]))];\n        mounted = true;\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {\n        if_block.p(ctx2, dirty);\n      } else {\n        if_block.d(1);\n        if_block = current_block_type(ctx2);\n        if (if_block) {\n          if_block.c();\n          if_block.m(div0, null);\n        }\n      }\n      if (dirty & /*tippyClass, tippyClassRight, rightActions*/\n      32) {\n        each_value = /*rightActions*/\n        ctx2[5];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(div1, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching) detach(div2);\n      if_block.d();\n      destroy_each(each_blocks, detaching);\n      ctx[20](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nconst tippyClass = \"bytemd-tippy\";\nconst tippyClassRight = \"bytemd-tippy-right\";\nconst tippyPathKey = \"bytemd-tippy-path\";\nfunction instance$2($$self, $$props, $$invalidate) {\n  let tocActive;\n  let helpActive;\n  let writeActive;\n  let previewActive;\n  let rightActions;\n  const dispatch = createEventDispatcher();\n  let toolbar;\n  let {\n    context\n  } = $$props;\n  let {\n    split\n  } = $$props;\n  let {\n    activeTab\n  } = $$props;\n  let {\n    fullscreen: fullscreen2\n  } = $$props;\n  let {\n    sidebar\n  } = $$props;\n  let {\n    locale\n  } = $$props;\n  let {\n    actions\n  } = $$props;\n  let {\n    rightAfferentActions\n  } = $$props;\n  function getPayloadFromElement(e) {\n    var _a, _b;\n    const paths = (_b = (_a = e.getAttribute(tippyPathKey)) == null ? void 0 : _a.split(\"-\")) == null ? void 0 : _b.map(x => parseInt(x, 10));\n    if (!paths) return;\n    let item = {\n      title: \"\",\n      handler: {\n        type: \"dropdown\",\n        actions: e.classList.contains(tippyClassRight) ? rightActions : actions\n      }\n    };\n    paths == null ? void 0 : paths.forEach(index2 => {\n      var _a2;\n      if (((_a2 = item.handler) == null ? void 0 : _a2.type) === \"dropdown\") {\n        item = item.handler.actions[index2];\n      }\n    });\n    return {\n      paths,\n      item\n    };\n  }\n  let delegateInstance;\n  function init2() {\n    delegateInstance = delegate(toolbar, {\n      target: `.${tippyClass}`,\n      onCreate({\n        setProps,\n        reference\n      }) {\n        const payload = getPayloadFromElement(reference);\n        if (!payload) return;\n        const {\n          item,\n          paths\n        } = payload;\n        const {\n          handler\n        } = item;\n        if (!handler) return;\n        if (handler.type === \"action\") {\n          setProps({\n            content: item.title,\n            onHidden(ins) {\n              ins.destroy();\n            }\n          });\n        } else if (handler.type === \"dropdown\") {\n          const dropdown = document.createElement(\"div\");\n          dropdown.classList.add(\"bytemd-dropdown\");\n          if (item.title) {\n            const dropdownTitle = document.createElement(\"div\");\n            dropdownTitle.classList.add(\"bytemd-dropdown-title\");\n            dropdownTitle.appendChild(document.createTextNode(item.title));\n            dropdown.appendChild(dropdownTitle);\n          }\n          handler.actions.forEach((subAction, i) => {\n            var _a;\n            const dropdownItem = document.createElement(\"div\");\n            dropdownItem.classList.add(\"bytemd-dropdown-item\");\n            dropdownItem.setAttribute(tippyPathKey, [...paths, i].join(\"-\"));\n            if (((_a = subAction.handler) == null ? void 0 : _a.type) === \"dropdown\") {\n              dropdownItem.classList.add(tippyClass);\n            }\n            if (reference.classList.contains(tippyClassRight)) {\n              dropdownItem.classList.add(tippyClassRight);\n            }\n            dropdownItem.innerHTML = `${subAction.icon ? `<div class=\"bytemd-dropdown-item-icon\">${subAction.icon}</div>` : \"\"}<div class=\"bytemd-dropdown-item-title\">${subAction.title}</div>`;\n            dropdown.appendChild(dropdownItem);\n          });\n          setProps({\n            allowHTML: true,\n            showOnCreate: true,\n            theme: \"light-border\",\n            placement: \"bottom-start\",\n            interactive: true,\n            interactiveDebounce: 50,\n            arrow: false,\n            offset: [0, 4],\n            content: dropdown.outerHTML,\n            onHidden(ins) {\n              ins.destroy();\n            },\n            onCreate(ins) {\n              [...ins.popper.querySelectorAll(\".bytemd-dropdown-item\")].forEach((el, i) => {\n                var _a;\n                const actionHandler = (_a = handler.actions[i]) == null ? void 0 : _a.handler;\n                if ((actionHandler == null ? void 0 : actionHandler.type) === \"action\") {\n                  const {\n                    mouseenter,\n                    mouseleave\n                  } = actionHandler;\n                  if (mouseenter) {\n                    el.addEventListener(\"mouseenter\", () => {\n                      mouseenter(context);\n                    });\n                  }\n                  if (mouseleave) {\n                    el.addEventListener(\"mouseleave\", () => {\n                      mouseleave(context);\n                    });\n                  }\n                }\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n  onMount(() => {\n    init2();\n  });\n  function handleClick(e) {\n    var _a, _b;\n    const target = e.target.closest(`[${tippyPathKey}]`);\n    if (!target) return;\n    const handler = (_b = (_a = getPayloadFromElement(target)) == null ? void 0 : _a.item) == null ? void 0 : _b.handler;\n    if ((handler == null ? void 0 : handler.type) === \"action\") {\n      handler.click(context);\n    }\n    delegateInstance == null ? void 0 : delegateInstance.destroy();\n    init2();\n  }\n  const click_handler = () => dispatch(\"tab\", \"write\");\n  const keydown_handler = e => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"write\");\n  const click_handler_1 = () => dispatch(\"tab\", \"preview\");\n  const keydown_handler_1 = e => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"preview\");\n  function div2_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      toolbar = $$value;\n      $$invalidate(4, toolbar);\n    });\n  }\n  const keydown_handler_2 = e => [\"Enter\", \"Space\"].includes(e.code) && handleClick(e);\n  $$self.$$set = $$props2 => {\n    if (\"context\" in $$props2) $$invalidate(8, context = $$props2.context);\n    if (\"split\" in $$props2) $$invalidate(0, split = $$props2.split);\n    if (\"activeTab\" in $$props2) $$invalidate(1, activeTab = $$props2.activeTab);\n    if (\"fullscreen\" in $$props2) $$invalidate(9, fullscreen2 = $$props2.fullscreen);\n    if (\"sidebar\" in $$props2) $$invalidate(10, sidebar = $$props2.sidebar);\n    if (\"locale\" in $$props2) $$invalidate(2, locale = $$props2.locale);\n    if (\"actions\" in $$props2) $$invalidate(3, actions = $$props2.actions);\n    if (\"rightAfferentActions\" in $$props2) $$invalidate(11, rightAfferentActions = $$props2.rightAfferentActions);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(15, tocActive = sidebar === \"toc\");\n    }\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(14, helpActive = sidebar === \"help\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(13, writeActive = activeTab === \"write\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(12, previewActive = activeTab === \"preview\");\n    }\n    if ($$self.$$.dirty & /*tocActive, locale, helpActive, writeActive, split, previewActive, fullscreen, rightAfferentActions*/\n    64005) {\n      $$invalidate(5, rightActions = [{\n        title: tocActive ? locale.closeToc : locale.toc,\n        icon: icons.AlignTextLeftOne,\n        handler: {\n          type: \"action\",\n          click() {\n            dispatch(\"click\", \"toc\");\n          }\n        },\n        active: tocActive\n      }, {\n        title: helpActive ? locale.closeHelp : locale.help,\n        icon: icons.Helpcenter,\n        handler: {\n          type: \"action\",\n          click() {\n            dispatch(\"click\", \"help\");\n          }\n        },\n        active: helpActive\n      }, {\n        title: writeActive ? locale.exitWriteOnly : locale.writeOnly,\n        icon: icons.LeftExpand,\n        handler: {\n          type: \"action\",\n          click() {\n            dispatch(\"tab\", \"write\");\n          }\n        },\n        active: writeActive,\n        hidden: !split\n      }, {\n        title: previewActive ? locale.exitPreviewOnly : locale.previewOnly,\n        icon: icons.RightExpand,\n        handler: {\n          type: \"action\",\n          click() {\n            dispatch(\"tab\", \"preview\");\n          }\n        },\n        active: previewActive,\n        hidden: !split\n      }, {\n        title: fullscreen2 ? locale.exitFullscreen : locale.fullscreen,\n        icon: fullscreen2 ? icons.OffScreen : icons.FullScreen,\n        handler: {\n          type: \"action\",\n          click() {\n            dispatch(\"click\", \"fullscreen\");\n          }\n        }\n      }, {\n        title: locale.source,\n        icon: icons.GithubOne,\n        handler: {\n          type: \"action\",\n          click() {\n            window.open(\"https://github.com/bytedance/bytemd\");\n          }\n        }\n      }, ...rightAfferentActions]);\n    }\n  };\n  return [split, activeTab, locale, actions, toolbar, rightActions, dispatch, handleClick, context, fullscreen2, sidebar, rightAfferentActions, previewActive, writeActive, helpActive, tocActive, click_handler, keydown_handler, click_handler_1, keydown_handler_1, div2_binding, keydown_handler_2];\n}\nclass Toolbar extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$2, create_fragment$2, not_equal, {\n      context: 8,\n      split: 0,\n      activeTab: 1,\n      fullscreen: 9,\n      sidebar: 10,\n      locale: 2,\n      actions: 3,\n      rightAfferentActions: 11\n    });\n  }\n}\nconst schemaStr = JSON.stringify(defaultSchema);\nfunction getProcessor({\n  sanitize,\n  plugins,\n  remarkRehype: remarkRehypeOptions = {}\n}) {\n  let processor = unified().use(remarkParse);\n  plugins == null ? void 0 : plugins.forEach(({\n    remark\n  }) => {\n    if (remark) processor = remark(processor);\n  });\n  processor = processor.use(remarkRehype, {\n    allowDangerousHtml: true,\n    ...remarkRehypeOptions\n  }).use(rehypeRaw);\n  let schema = JSON.parse(schemaStr);\n  schema.attributes[\"*\"].push(\"className\");\n  if (typeof sanitize === \"function\") {\n    schema = sanitize(schema);\n  }\n  processor = processor.use(rehypeSanitize, schema);\n  plugins == null ? void 0 : plugins.forEach(({\n    rehype\n  }) => {\n    if (rehype) processor = rehype(processor);\n  });\n  return processor.use(rehypeStringify);\n}\nfunction create_fragment$1(ctx) {\n  let div;\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", \"markdown-body\");\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = /*html*/\n      ctx[1];\n      ctx[8](div);\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*html*/\n      2) div.innerHTML = /*html*/\n      ctx2[1];\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching) detach(div);\n      ctx[8](null);\n    }\n  };\n}\nfunction instance$1($$self, $$props, $$invalidate) {\n  let html;\n  const dispatch = createEventDispatcher();\n  let {\n    value = \"\"\n  } = $$props;\n  let {\n    plugins = []\n  } = $$props;\n  let {\n    sanitize = void 0\n  } = $$props;\n  let {\n    remarkRehype: remarkRehype2 = void 0\n  } = $$props;\n  let markdownBody;\n  let cbs = [];\n  function on() {\n    cbs = plugins.map(p => {\n      var _a;\n      return (_a = p.viewerEffect) == null ? void 0 : _a.call(p, {\n        markdownBody,\n        file\n      });\n    });\n  }\n  function off() {\n    cbs.forEach(cb => cb == null ? void 0 : cb());\n  }\n  onMount(() => {\n    markdownBody.addEventListener(\"click\", e => {\n      var _a;\n      const $ = e.target;\n      if ($.tagName !== \"A\") return;\n      const href = $.getAttribute(\"href\");\n      if (!(href == null ? void 0 : href.startsWith(\"#\"))) return;\n      (_a = markdownBody.querySelector(\"#user-content-\" + href.slice(1))) == null ? void 0 : _a.scrollIntoView();\n    });\n  });\n  onDestroy(off);\n  let file;\n  let i = 0;\n  const dispatchPlugin = () => (tree, file2) => {\n    tick().then(() => {\n      dispatch(\"hast\", {\n        hast: tree,\n        file: file2\n      });\n    });\n  };\n  afterUpdate(() => {\n    off();\n    on();\n  });\n  function div_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      markdownBody = $$value;\n      $$invalidate(0, markdownBody);\n    });\n  }\n  $$self.$$set = $$props2 => {\n    if (\"value\" in $$props2) $$invalidate(2, value = $$props2.value);\n    if (\"plugins\" in $$props2) $$invalidate(3, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2) $$invalidate(4, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2) $$invalidate(5, remarkRehype2 = $$props2.remarkRehype);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*sanitize, plugins, remarkRehype, value, i*/\n    188) {\n      try {\n        $$invalidate(6, file = getProcessor({\n          sanitize,\n          plugins: [...plugins, {\n            // remark: (p) =>\n            //   p.use(() => (tree) =>{\n            //     console.log(tree)\n            //   }),\n            rehype: processor => processor.use(dispatchPlugin)\n          }],\n          remarkRehype: remarkRehype2\n        }).processSync(value));\n        $$invalidate(7, i++, i);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    if ($$self.$$.dirty & /*file, i*/\n    192) {\n      $$invalidate(1, html = `${file}<!--${i}-->`);\n    }\n  };\n  return [markdownBody, html, value, plugins, sanitize, remarkRehype2, file, i, div_binding];\n}\nclass Viewer extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$1, create_fragment$1, not_equal, {\n      value: 2,\n      plugins: 3,\n      sanitize: 4,\n      remarkRehype: 5\n    });\n  }\n}\nfunction create_if_block(ctx) {\n  let viewer;\n  let current;\n  viewer = new Viewer({\n    props: {\n      value: ( /*debouncedValue*/\n      ctx[16]),\n      plugins: ( /*plugins*/\n      ctx[1]),\n      sanitize: ( /*sanitize*/\n      ctx[2]),\n      remarkRehype: ( /*remarkRehype*/\n      ctx[3])\n    }\n  });\n  viewer.$on(\"hast\", /*hast_handler*/\n  ctx[35]);\n  return {\n    c() {\n      create_component(viewer.$$.fragment);\n    },\n    m(target, anchor) {\n      mount_component(viewer, target, anchor);\n      current = true;\n    },\n    p(ctx2, dirty) {\n      const viewer_changes = {};\n      if (dirty[0] & /*debouncedValue*/\n      65536) viewer_changes.value = /*debouncedValue*/\n      ctx2[16];\n      if (dirty[0] & /*plugins*/\n      2) viewer_changes.plugins = /*plugins*/\n      ctx2[1];\n      if (dirty[0] & /*sanitize*/\n      4) viewer_changes.sanitize = /*sanitize*/\n      ctx2[2];\n      if (dirty[0] & /*remarkRehype*/\n      8) viewer_changes.remarkRehype = /*remarkRehype*/\n      ctx2[3];\n      viewer.$set(viewer_changes);\n    },\n    i(local) {\n      if (current) return;\n      transition_in(viewer.$$.fragment, local);\n      current = true;\n    },\n    o(local) {\n      transition_out(viewer.$$.fragment, local);\n      current = false;\n    },\n    d(detaching) {\n      destroy_component(viewer, detaching);\n    }\n  };\n}\nfunction create_fragment(ctx) {\n  let div5;\n  let toolbar;\n  let div4;\n  let div0;\n  let div0_style_value;\n  let div1;\n  let div1_style_value;\n  let div3;\n  let div2;\n  let raw_value = icons.Close + \"\";\n  let help2;\n  let toc2;\n  let status;\n  let current;\n  let mounted;\n  let dispose;\n  toolbar = new Toolbar({\n    props: {\n      context: ( /*context*/\n      ctx[10]),\n      split: ( /*split*/\n      ctx[11]),\n      activeTab: ( /*activeTab*/\n      ctx[8]),\n      sidebar: ( /*sidebar*/\n      ctx[9]),\n      fullscreen: ( /*fullscreen*/\n      ctx[15]),\n      rightAfferentActions: ( /*actions*/\n      ctx[21].rightActions),\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      actions: ( /*actions*/\n      ctx[21].leftActions)\n    }\n  });\n  toolbar.$on(\"key\", /*key_handler*/\n  ctx[31]);\n  toolbar.$on(\"tab\", /*tab_handler*/\n  ctx[32]);\n  toolbar.$on(\"click\", /*click_handler*/\n  ctx[33]);\n  let if_block = ! /*overridePreview*/\n  ctx[4] && ( /*split*/\n  ctx[11] || /*activeTab*/\n  ctx[8] === \"preview\") && create_if_block(ctx);\n  help2 = new Help({\n    props: {\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      actions: ( /*actions*/\n      ctx[21].leftActions),\n      visible: ( /*sidebar*/\n      ctx[9] === \"help\")\n    }\n  });\n  toc2 = new Toc({\n    props: {\n      hast: ( /*hast*/\n      ctx[18]),\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      currentBlockIndex: ( /*currentBlockIndex*/\n      ctx[20]),\n      visible: ( /*sidebar*/\n      ctx[9] === \"toc\")\n    }\n  });\n  toc2.$on(\"click\", /*click_handler_2*/\n  ctx[39]);\n  status = new Status({\n    props: {\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      showSync: ! /*overridePreview*/\n      ctx[4] && /*split*/\n      ctx[11],\n      value: ( /*debouncedValue*/\n      ctx[16]),\n      syncEnabled: ( /*syncEnabled*/\n      ctx[17]),\n      islimited: ( /*value*/\n      ctx[0].length > /*maxLength*/\n      ctx[5])\n    }\n  });\n  status.$on(\"sync\", /*sync_handler*/\n  ctx[40]);\n  status.$on(\"top\", /*top_handler*/\n  ctx[41]);\n  return {\n    c() {\n      div5 = element(\"div\");\n      create_component(toolbar.$$.fragment);\n      div4 = element(\"div\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      if (if_block) if_block.c();\n      div3 = element(\"div\");\n      div2 = element(\"div\");\n      create_component(help2.$$.fragment);\n      create_component(toc2.$$.fragment);\n      create_component(status.$$.fragment);\n      attr(div0, \"class\", \"bytemd-editor\");\n      attr(div0, \"style\", div0_style_value = /*styles*/\n      ctx[22].edit);\n      attr(div1, \"class\", \"bytemd-preview\");\n      attr(div1, \"style\", div1_style_value = /*styles*/\n      ctx[22].preview);\n      attr(div2, \"class\", \"bytemd-sidebar-close\");\n      attr(div3, \"class\", \"bytemd-sidebar\");\n      toggle_class(div3, \"bytemd-hidden\", /*sidebar*/\n      ctx[9] === false);\n      attr(div4, \"class\", \"bytemd-body\");\n      attr(div5, \"class\", \"bytemd\");\n      toggle_class(div5, \"bytemd-split\", /*split*/\n      ctx[11] && /*activeTab*/\n      ctx[8] === false);\n      toggle_class(div5, \"bytemd-fullscreen\", /*fullscreen*/\n      ctx[15]);\n    },\n    m(target, anchor) {\n      insert(target, div5, anchor);\n      mount_component(toolbar, div5, null);\n      append(div5, div4);\n      append(div4, div0);\n      ctx[34](div0);\n      append(div4, div1);\n      if (if_block) if_block.m(div1, null);\n      ctx[36](div1);\n      append(div4, div3);\n      append(div3, div2);\n      div2.innerHTML = raw_value;\n      mount_component(help2, div3, null);\n      mount_component(toc2, div3, null);\n      mount_component(status, div5, null);\n      ctx[42](div5);\n      current = true;\n      if (!mounted) {\n        dispose = [listen(div2, \"click\", /*click_handler_1*/\n        ctx[37]), listen(div2, \"keydown\", self( /*keydown_handler*/\n        ctx[38]))];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      const toolbar_changes = {};\n      if (dirty[0] & /*context*/\n      1024) toolbar_changes.context = /*context*/\n      ctx2[10];\n      if (dirty[0] & /*split*/\n      2048) toolbar_changes.split = /*split*/\n      ctx2[11];\n      if (dirty[0] & /*activeTab*/\n      256) toolbar_changes.activeTab = /*activeTab*/\n      ctx2[8];\n      if (dirty[0] & /*sidebar*/\n      512) toolbar_changes.sidebar = /*sidebar*/\n      ctx2[9];\n      if (dirty[0] & /*fullscreen*/\n      32768) toolbar_changes.fullscreen = /*fullscreen*/\n      ctx2[15];\n      if (dirty[0] & /*actions*/\n      2097152) toolbar_changes.rightAfferentActions = /*actions*/\n      ctx2[21].rightActions;\n      if (dirty[0] & /*mergedLocale*/\n      4096) toolbar_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152) toolbar_changes.actions = /*actions*/\n      ctx2[21].leftActions;\n      toolbar.$set(toolbar_changes);\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div0_style_value !== (div0_style_value = /*styles*/\n      ctx2[22].edit)) {\n        attr(div0, \"style\", div0_style_value);\n      }\n      if (! /*overridePreview*/\n      ctx2[4] && ( /*split*/\n      ctx2[11] || /*activeTab*/\n      ctx2[8] === \"preview\")) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n          if (dirty[0] & /*overridePreview, split, activeTab*/\n          2320) {\n            transition_in(if_block, 1);\n          }\n        } else {\n          if_block = create_if_block(ctx2);\n          if_block.c();\n          transition_in(if_block, 1);\n          if_block.m(div1, null);\n        }\n      } else if (if_block) {\n        group_outros();\n        transition_out(if_block, 1, 1, () => {\n          if_block = null;\n        });\n        check_outros();\n      }\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div1_style_value !== (div1_style_value = /*styles*/\n      ctx2[22].preview)) {\n        attr(div1, \"style\", div1_style_value);\n      }\n      const help_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096) help_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152) help_changes.actions = /*actions*/\n      ctx2[21].leftActions;\n      if (dirty[0] & /*sidebar*/\n      512) help_changes.visible = /*sidebar*/\n      ctx2[9] === \"help\";\n      help2.$set(help_changes);\n      const toc_changes = {};\n      if (dirty[0] & /*hast*/\n      262144) toc_changes.hast = /*hast*/\n      ctx2[18];\n      if (dirty[0] & /*mergedLocale*/\n      4096) toc_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*currentBlockIndex*/\n      1048576) toc_changes.currentBlockIndex = /*currentBlockIndex*/\n      ctx2[20];\n      if (dirty[0] & /*sidebar*/\n      512) toc_changes.visible = /*sidebar*/\n      ctx2[9] === \"toc\";\n      toc2.$set(toc_changes);\n      if (!current || dirty[0] & /*sidebar*/\n      512) {\n        toggle_class(div3, \"bytemd-hidden\", /*sidebar*/\n        ctx2[9] === false);\n      }\n      const status_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096) status_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*overridePreview, split*/\n      2064) status_changes.showSync = ! /*overridePreview*/\n      ctx2[4] && /*split*/\n      ctx2[11];\n      if (dirty[0] & /*debouncedValue*/\n      65536) status_changes.value = /*debouncedValue*/\n      ctx2[16];\n      if (dirty[0] & /*syncEnabled*/\n      131072) status_changes.syncEnabled = /*syncEnabled*/\n      ctx2[17];\n      if (dirty[0] & /*value, maxLength*/\n      33) status_changes.islimited = /*value*/\n      ctx2[0].length > /*maxLength*/\n      ctx2[5];\n      status.$set(status_changes);\n      if (!current || dirty[0] & /*split, activeTab*/\n      2304) {\n        toggle_class(div5, \"bytemd-split\", /*split*/\n        ctx2[11] && /*activeTab*/\n        ctx2[8] === false);\n      }\n      if (!current || dirty[0] & /*fullscreen*/\n      32768) {\n        toggle_class(div5, \"bytemd-fullscreen\", /*fullscreen*/\n        ctx2[15]);\n      }\n    },\n    i(local) {\n      if (current) return;\n      transition_in(toolbar.$$.fragment, local);\n      transition_in(if_block);\n      transition_in(help2.$$.fragment, local);\n      transition_in(toc2.$$.fragment, local);\n      transition_in(status.$$.fragment, local);\n      current = true;\n    },\n    o(local) {\n      transition_out(toolbar.$$.fragment, local);\n      transition_out(if_block);\n      transition_out(help2.$$.fragment, local);\n      transition_out(toc2.$$.fragment, local);\n      transition_out(status.$$.fragment, local);\n      current = false;\n    },\n    d(detaching) {\n      if (detaching) detach(div5);\n      destroy_component(toolbar);\n      ctx[34](null);\n      if (if_block) if_block.d();\n      ctx[36](null);\n      destroy_component(help2);\n      destroy_component(toc2);\n      destroy_component(status);\n      ctx[42](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance($$self, $$props, $$invalidate) {\n  let mergedLocale;\n  let actions;\n  let split;\n  let styles;\n  let context;\n  let {\n    value = \"\"\n  } = $$props;\n  let {\n    plugins = []\n  } = $$props;\n  let {\n    sanitize = void 0\n  } = $$props;\n  let {\n    remarkRehype: remarkRehype2 = void 0\n  } = $$props;\n  let {\n    mode = \"auto\"\n  } = $$props;\n  let {\n    previewDebounce = 300\n  } = $$props;\n  let {\n    placeholder = void 0\n  } = $$props;\n  let {\n    editorConfig = void 0\n  } = $$props;\n  let {\n    locale = void 0\n  } = $$props;\n  let {\n    uploadImages = void 0\n  } = $$props;\n  let {\n    overridePreview = void 0\n  } = $$props;\n  let {\n    maxLength = Infinity\n  } = $$props;\n  const dispatch = createEventDispatcher();\n  let root;\n  let editorEl;\n  let previewEl;\n  let containerWidth = Infinity;\n  let codemirror;\n  let editor;\n  let activeTab;\n  let fullscreen2 = false;\n  let sidebar = false;\n  let cbs = [];\n  let keyMap = {};\n  function on() {\n    cbs = plugins.map(p => {\n      var _a;\n      return (_a = p.editorEffect) == null ? void 0 : _a.call(p, context);\n    });\n    keyMap = {};\n    actions.leftActions.forEach(({\n      handler\n    }) => {\n      if ((handler == null ? void 0 : handler.type) === \"action\" && handler.shortcut) {\n        keyMap[handler.shortcut] = () => {\n          handler.click(context);\n        };\n      }\n    });\n    editor.addKeyMap(keyMap);\n  }\n  function off() {\n    cbs.forEach(cb => cb && cb());\n    editor == null ? void 0 : editor.removeKeyMap(keyMap);\n  }\n  let debouncedValue = value;\n  const setDebouncedValue = debounce(value2 => {\n    $$invalidate(16, debouncedValue = value2);\n    overridePreview == null ? void 0 : overridePreview(previewEl, {\n      value: debouncedValue,\n      plugins,\n      sanitize,\n      remarkRehype: remarkRehype2\n    });\n  }, previewDebounce);\n  let syncEnabled = true;\n  let editCalled = false;\n  let previewCalled = false;\n  let editPs;\n  let previewPs;\n  let hast = {\n    type: \"root\",\n    children: []\n  };\n  let vfile;\n  let currentBlockIndex = 0;\n  onMount(async () => {\n    $$invalidate(30, codemirror = createCodeMirror());\n    $$invalidate(7, editor = codemirror(editorEl, {\n      value,\n      mode: \"yaml-frontmatter\",\n      lineWrapping: true,\n      tabSize: 8,\n      indentUnit: 4,\n      extraKeys: {\n        Enter: \"newlineAndIndentContinueMarkdownList\"\n      },\n      ...editorConfig,\n      placeholder\n    }));\n    editor.addKeyMap({\n      Tab: \"indentMore\",\n      \"Shift-Tab\": \"indentLess\"\n    });\n    editor.on(\"change\", () => {\n      dispatch(\"change\", {\n        value: editor.getValue()\n      });\n    });\n    const updateBlockPositions = throttle(() => {\n      editPs = [];\n      previewPs = [];\n      const scrollInfo = editor.getScrollInfo();\n      const body = previewEl.childNodes[0];\n      if (!(body instanceof HTMLElement)) return;\n      const leftNodes = hast.children.filter(v => v.type === \"element\");\n      const rightNodes = [...body.childNodes].filter(v => v instanceof HTMLElement);\n      for (let i = 0; i < leftNodes.length; i++) {\n        const leftNode = leftNodes[i];\n        const rightNode = rightNodes[i];\n        if (!leftNode.position) {\n          continue;\n        }\n        const left = editor.heightAtLine(leftNode.position.start.line - 1, \"local\") / (scrollInfo.height - scrollInfo.clientHeight);\n        const right = (rightNode.offsetTop - body.offsetTop) / (previewEl.scrollHeight - previewEl.clientHeight);\n        if (left >= 1 || right >= 1) {\n          break;\n        }\n        editPs.push(left);\n        previewPs.push(right);\n      }\n      editPs.push(1);\n      previewPs.push(1);\n    }, 1e3);\n    const editorScrollHandler = () => {\n      if (overridePreview) return;\n      if (!syncEnabled) return;\n      if (previewCalled) {\n        previewCalled = false;\n        return;\n      }\n      updateBlockPositions();\n      const info = editor.getScrollInfo();\n      const leftRatio = info.top / (info.height - info.clientHeight);\n      const startIndex = findStartIndex(leftRatio, editPs);\n      const rightRatio = (leftRatio - editPs[startIndex]) * (previewPs[startIndex + 1] - previewPs[startIndex]) / (editPs[startIndex + 1] - editPs[startIndex]) + previewPs[startIndex];\n      previewEl.scrollTo(0, rightRatio * (previewEl.scrollHeight - previewEl.clientHeight));\n      editCalled = true;\n    };\n    const previewScrollHandler = () => {\n      if (overridePreview) return;\n      updateBlockPositions();\n      $$invalidate(20, currentBlockIndex = findStartIndex(previewEl.scrollTop / (previewEl.scrollHeight - previewEl.offsetHeight), previewPs));\n      if (!syncEnabled) return;\n      if (editCalled) {\n        editCalled = false;\n        return;\n      }\n      const rightRatio = previewEl.scrollTop / (previewEl.scrollHeight - previewEl.clientHeight);\n      const startIndex = findStartIndex(rightRatio, previewPs);\n      const leftRatio = (rightRatio - previewPs[startIndex]) * (editPs[startIndex + 1] - editPs[startIndex]) / (previewPs[startIndex + 1] - previewPs[startIndex]) + editPs[startIndex];\n      if (isNaN(leftRatio)) {\n        return;\n      }\n      const info = editor.getScrollInfo();\n      editor.scrollTo(0, leftRatio * (info.height - info.clientHeight));\n      previewCalled = true;\n    };\n    editor.on(\"scroll\", editorScrollHandler);\n    previewEl.addEventListener(\"scroll\", previewScrollHandler, {\n      passive: true\n    });\n    const handleImages = async (e, itemList) => {\n      if (!uploadImages) return;\n      const files = Array.from(itemList != null ? itemList : []).map(item => {\n        if (item.type.startsWith(\"image/\")) {\n          return item.getAsFile();\n        }\n      }).filter(f => f != null);\n      if (files.length) {\n        e.preventDefault();\n        await handleImageUpload(context, uploadImages, files);\n      }\n    };\n    editor.on(\"drop\", async (_, e) => {\n      var _a;\n      handleImages(e, (_a = e.dataTransfer) == null ? void 0 : _a.items);\n    });\n    editor.on(\"paste\", async (_, e) => {\n      var _a;\n      handleImages(e, (_a = e.clipboardData) == null ? void 0 : _a.items);\n    });\n    new ResizeObserver(entries => {\n      $$invalidate(29, containerWidth = entries[0].contentRect.width);\n    }).observe(root, {\n      box: \"border-box\"\n      // console.log(containerWidth);\n    });\n  });\n  onDestroy(off);\n  const key_handler = e => {\n    editor.setOption(\"keyMap\", e.detail);\n    editor.focus();\n  };\n  const tab_handler = e => {\n    const v = e.detail;\n    if (split) {\n      $$invalidate(8, activeTab = activeTab === v ? false : v);\n    } else {\n      $$invalidate(8, activeTab = v);\n    }\n    if (activeTab === \"write\") {\n      tick().then(() => {\n        editor && editor.focus();\n      });\n    }\n    if (v === \"write\") {\n      tick().then(() => {\n        editor && editor.setSize(null, null);\n      });\n    }\n  };\n  const click_handler = e => {\n    switch (e.detail) {\n      case \"fullscreen\":\n        $$invalidate(15, fullscreen2 = !fullscreen2);\n        break;\n      case \"help\":\n        $$invalidate(9, sidebar = sidebar === \"help\" ? false : \"help\");\n        break;\n      case \"toc\":\n        $$invalidate(9, sidebar = sidebar === \"toc\" ? false : \"toc\");\n        break;\n    }\n  };\n  function div0_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      editorEl = $$value;\n      $$invalidate(13, editorEl);\n    });\n  }\n  const hast_handler = e => {\n    $$invalidate(18, hast = e.detail.hast);\n    $$invalidate(19, vfile = e.detail.file);\n  };\n  function div1_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      previewEl = $$value;\n      $$invalidate(14, previewEl);\n    });\n  }\n  const click_handler_1 = () => {\n    $$invalidate(9, sidebar = false);\n  };\n  const keydown_handler = e => {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      $$invalidate(9, sidebar = false);\n    }\n  };\n  const click_handler_2 = e => {\n    const headings = previewEl.querySelectorAll(\"h1,h2,h3,h4,h5,h6\");\n    headings[e.detail].scrollIntoView();\n  };\n  const sync_handler = e => {\n    $$invalidate(17, syncEnabled = e.detail);\n  };\n  const top_handler = () => {\n    editor.scrollTo(null, 0);\n    previewEl.scrollTo({\n      top: 0\n    });\n  };\n  function div5_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      root = $$value;\n      $$invalidate(6, root);\n    });\n  }\n  $$self.$$set = $$props2 => {\n    if (\"value\" in $$props2) $$invalidate(0, value = $$props2.value);\n    if (\"plugins\" in $$props2) $$invalidate(1, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2) $$invalidate(2, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2) $$invalidate(3, remarkRehype2 = $$props2.remarkRehype);\n    if (\"mode\" in $$props2) $$invalidate(23, mode = $$props2.mode);\n    if (\"previewDebounce\" in $$props2) $$invalidate(24, previewDebounce = $$props2.previewDebounce);\n    if (\"placeholder\" in $$props2) $$invalidate(25, placeholder = $$props2.placeholder);\n    if (\"editorConfig\" in $$props2) $$invalidate(26, editorConfig = $$props2.editorConfig);\n    if (\"locale\" in $$props2) $$invalidate(27, locale = $$props2.locale);\n    if (\"uploadImages\" in $$props2) $$invalidate(28, uploadImages = $$props2.uploadImages);\n    if (\"overridePreview\" in $$props2) $$invalidate(4, overridePreview = $$props2.overridePreview);\n    if (\"maxLength\" in $$props2) $$invalidate(5, maxLength = $$props2.maxLength);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty[0] & /*locale*/\n    134217728) {\n      $$invalidate(12, mergedLocale = {\n        ...en,\n        ...locale\n      });\n    }\n    if ($$self.$$.dirty[0] & /*mergedLocale, plugins, uploadImages*/\n    268439554) {\n      $$invalidate(21, actions = getBuiltinActions(mergedLocale, plugins, uploadImages));\n    }\n    if ($$self.$$.dirty[0] & /*mode, containerWidth*/\n    545259520) {\n      $$invalidate(11, split = mode === \"split\" || mode === \"auto\" && containerWidth >= 800);\n    }\n    if ($$self.$$.dirty[0] & /*split*/\n    2048) {\n      (_ => {\n        if (split) $$invalidate(8, activeTab = false);\n      })();\n    }\n    if ($$self.$$.dirty[0] & /*split, activeTab, sidebar*/\n    2816) {\n      $$invalidate(22, styles = (() => {\n        let edit;\n        let preview2;\n        if (split && activeTab === false) {\n          if (sidebar) {\n            edit = `width:calc(50% - ${sidebar ? 140 : 0}px)`;\n            preview2 = `width:calc(50% - ${sidebar ? 140 : 0}px)`;\n          } else {\n            edit = \"width:50%\";\n            preview2 = \"width:50%\";\n          }\n        } else if (activeTab === \"preview\") {\n          edit = \"display:none\";\n          preview2 = `width:calc(100% - ${sidebar ? 280 : 0}px)`;\n        } else {\n          edit = `width:calc(100% - ${sidebar ? 280 : 0}px)`;\n          preview2 = \"display:none\";\n        }\n        return {\n          edit,\n          preview: preview2\n        };\n      })());\n    }\n    if ($$self.$$.dirty[0] & /*codemirror, editor, root*/\n    1073742016) {\n      $$invalidate(10, context = (() => {\n        const context2 = {\n          // @ts-ignore\n          codemirror,\n          editor,\n          root,\n          // @ts-ignore\n          ...createEditorUtils(codemirror, editor)\n        };\n        return context2;\n      })());\n    }\n    if ($$self.$$.dirty[0] & /*value*/\n    1) {\n      setDebouncedValue(value);\n    }\n    if ($$self.$$.dirty[0] & /*editor, value*/\n    129) {\n      if (editor && value !== editor.getValue()) {\n        editor.setValue(value);\n      }\n    }\n    if ($$self.$$.dirty[0] & /*editor, plugins*/\n    130) {\n      if (editor && plugins) {\n        off();\n        tick().then(() => {\n          on();\n        });\n      }\n    }\n  };\n  return [value, plugins, sanitize, remarkRehype2, overridePreview, maxLength, root, editor, activeTab, sidebar, context, split, mergedLocale, editorEl, previewEl, fullscreen2, debouncedValue, syncEnabled, hast, vfile, currentBlockIndex, actions, styles, mode, previewDebounce, placeholder, editorConfig, locale, uploadImages, containerWidth, codemirror, key_handler, tab_handler, click_handler, div0_binding, hast_handler, div1_binding, click_handler_1, keydown_handler, click_handler_2, sync_handler, top_handler, div5_binding];\n}\nclass Editor extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance, create_fragment, not_equal, {\n      value: 0,\n      plugins: 1,\n      sanitize: 2,\n      remarkRehype: 3,\n      mode: 23,\n      previewDebounce: 24,\n      placeholder: 25,\n      editorConfig: 26,\n      locale: 27,\n      uploadImages: 28,\n      overridePreview: 4,\n      maxLength: 5\n    }, null, [-1, -1]);\n  }\n}\nexport { Editor, Viewer, getProcessor };","map":{"version":3,"names":["factory","usePlaceholder","useContinuelist","useOverlay","useGfm","useMarkdown","useXml","useYamlFrontmatter","useYaml","selectFiles","wordCount","visit","delegate","defaultSchema","rehypeRaw","rehypeSanitize","rehypeStringify","remarkParse","remarkRehype","unified","debounce","throttle","index","noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","not_equal","is_empty","obj","keys","length","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","d","element","name","document","createElement","text","data","createTextNode","empty","listen","event","handler","options","addEventListener","removeEventListener","self","call","attr","attribute","value","removeAttribute","getAttribute","setAttribute","children","element2","Array","from","childNodes","set_data","text2","wholeText","toggle_class","toggle","classList","custom_event","type","detail","bubbles","cancelable","e","createEvent","initCustomEvent","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","afterUpdate","after_update","onDestroy","on_destroy","createEventDispatcher","callbacks","slice","defaultPrevented","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","seen_callbacks","Set","flushidx","saved_component","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","flush_render_callbacks","filtered","targets","c","indexOf","outroing","outros","group_outros","r","check_outros","transition_in","block","local","delete","transition_out","detach2","o","create_component","mount_component","customElement","m","new_on_destroy","map","filter","destroy_component","make_dirty","fill","init","instance2","create_fragment2","not_equal2","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","l","intro","SvelteComponent","$destroy","$on","index2","splice","$set","$$props","$$set","bold","boldText","cheatsheet","closeHelp","closeToc","code","codeBlock","codeLang","codeText","exitFullscreen","exitPreviewOnly","exitWriteOnly","fullscreen","h1","h2","h3","h4","h5","h6","headingText","help","hr","image","imageAlt","imageTitle","italic","italicText","limited","lines","link","linkText","ol","olItem","preview","previewOnly","quote","quotedText","shortcuts","source","sync","toc","top","ul","ulItem","words","write","writeOnly","en","icons","Close","H","H1","H2","H3","LevelFourTitle","LevelFiveTitle","LevelSixTitle","TextBold","TextItalic","Quote","LinkOne","Pic","Code","CodeBrackets","ListTwo","OrderedList","DividingLine","AlignTextLeftOne","Helpcenter","LeftExpand","RightExpand","OffScreen","FullScreen","GithubOne","createCodeMirror","codemirror","createEditorUtils","editor","wrapText","before","after","range","somethingSelected","listSelections","findWordAt","getCursor","to","getRange","fromBefore","Pos","line","ch","toAfter","replaceRange","setSelection","cursor","replaceLines","replace","selection","lines2","split","join","appendBlock","content","emptyLine","lineCount","getLine","trim","findStartIndex","num","nums","startIndex","Math","max","getShortcutWithPrefix","key","shift","shiftPrefix","CmdPrefix","navigator","test","platform","handleImageUpload","uploadImages","files","imgs","pos","url","alt","title","focus","getBuiltinActions","locale","plugins","leftActions","icon","actions","level","repeat","click","shortcut","fileList","accept","multiple","rightActions","action","position","unshift","get_each_context$2","list","child_ctx","get_each_context_1$1","create_if_block_1$2","li","div0","raw_value","div1","t0_value","t0","div2","code2","t1_value","t1","innerHTML","ctx2","create_each_block_1$1","if_block_anchor","if_block","create_if_block$3","kbd","create_each_block$2","create_fragment$5","div","h20","ul0","h21","ul1","each_value_1","each_blocks_1","each_value","each_blocks","instance$5","$$self","$$invalidate","items","visible","flatItems","actions2","items2","cheatsheet2","$$props2","Help","constructor","create_if_block_1$1","span","t_value","t","create_if_block$2","label","input","mounted","dispose","checked","create_fragment$4","span0","strong0","t2","span1","t3_value","t3","t4","strong1","t5","span2","t6_value","t6","if_block0","if_block1","instance$4","words2","showSync","syncEnabled","islimited","dispatch","change_handler","click_handler","keydown_handler","includes","Status","get_each_context$1","create_each_block$1","li_class_value","li_style_value","args","new_ctx","create_fragment$3","h22","ul2","instance$3","hast","currentBlockIndex","minLevel","currentHeadingIndex","stringifyHeading","result","v","tagName","Number","min","Toc","get_each_context","get_each_context_1","create_else_block","create_if_block_1","each_1_anchor","create_each_block_1","create_if_block_2","tippyClass","create_if_block$1","tippyClassRight","active","create_each_block","hidden","create_fragment$2","select_block_type","current_block_type","tippyPathKey","instance$2","tocActive","helpActive","writeActive","previewActive","toolbar","activeTab","fullscreen2","sidebar","rightAfferentActions","getPayloadFromElement","_a","_b","paths","x","parseInt","item","contains","_a2","delegateInstance","init2","onCreate","setProps","reference","payload","onHidden","ins","destroy","dropdown","dropdownTitle","subAction","dropdownItem","allowHTML","showOnCreate","theme","placement","interactive","interactiveDebounce","arrow","offset","outerHTML","popper","querySelectorAll","el","actionHandler","mouseenter","mouseleave","handleClick","closest","click_handler_1","keydown_handler_1","div2_binding","$$value","keydown_handler_2","window","open","Toolbar","schemaStr","JSON","stringify","getProcessor","sanitize","remarkRehypeOptions","processor","use","remark","allowDangerousHtml","schema","parse","attributes","rehype","create_fragment$1","instance$1","html","remarkRehype2","markdownBody","cbs","on","viewerEffect","file","off","cb","$","href","startsWith","querySelector","scrollIntoView","dispatchPlugin","tree","file2","div_binding","processSync","err","console","error","Viewer","create_if_block","viewer","current","viewer_changes","create_fragment","div5","div4","div0_style_value","div1_style_value","div3","help2","toc2","status","edit","toolbar_changes","help_changes","toc_changes","status_changes","instance","mergedLocale","styles","mode","previewDebounce","placeholder","editorConfig","overridePreview","maxLength","Infinity","editorEl","previewEl","containerWidth","keyMap","editorEffect","addKeyMap","removeKeyMap","debouncedValue","setDebouncedValue","value2","editCalled","previewCalled","editPs","previewPs","vfile","lineWrapping","tabSize","indentUnit","extraKeys","Enter","Tab","getValue","updateBlockPositions","scrollInfo","getScrollInfo","body","HTMLElement","leftNodes","rightNodes","leftNode","rightNode","left","heightAtLine","start","height","clientHeight","right","offsetTop","scrollHeight","editorScrollHandler","info","leftRatio","rightRatio","scrollTo","previewScrollHandler","scrollTop","offsetHeight","isNaN","passive","handleImages","itemList","getAsFile","f","preventDefault","_","dataTransfer","clipboardData","ResizeObserver","entries","contentRect","width","observe","box","key_handler","setOption","tab_handler","setSize","div0_binding","hast_handler","div1_binding","click_handler_2","headings","sync_handler","top_handler","div5_binding","preview2","context2","setValue","Editor"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/bytemd/dist/index.mjs"],"sourcesContent":["import factory from \"codemirror-ssr\";\nimport usePlaceholder from \"codemirror-ssr/addon/display/placeholder.js\";\nimport useContinuelist from \"codemirror-ssr/addon/edit/continuelist.js\";\nimport useOverlay from \"codemirror-ssr/addon/mode/overlay.js\";\nimport useGfm from \"codemirror-ssr/mode/gfm/gfm.js\";\nimport useMarkdown from \"codemirror-ssr/mode/markdown/markdown.js\";\nimport useXml from \"codemirror-ssr/mode/xml/xml.js\";\nimport useYamlFrontmatter from \"codemirror-ssr/mode/yaml-frontmatter/yaml-frontmatter.js\";\nimport useYaml from \"codemirror-ssr/mode/yaml/yaml.js\";\nimport selectFiles from \"select-files\";\nimport wordCount from \"word-count\";\nimport { visit } from \"unist-util-visit\";\nimport { delegate } from \"tippy.js\";\nimport { defaultSchema } from \"hast-util-sanitize\";\nimport rehypeRaw from \"rehype-raw\";\nimport rehypeSanitize from \"rehype-sanitize\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\nimport { unified } from \"unified\";\nimport { debounce, throttle } from \"lodash-es\";\nconst index = \"\";\nfunction noop() {\n}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction is_function(thing) {\n  return typeof thing === \"function\";\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || (a && typeof a === \"object\" || typeof a === \"function\");\n}\nfunction not_equal(a, b) {\n  return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction append(target, node) {\n  target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n  target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n  if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\nfunction destroy_each(iterations, detaching) {\n  for (let i = 0; i < iterations.length; i += 1) {\n    if (iterations[i])\n      iterations[i].d(detaching);\n  }\n}\nfunction element(name) {\n  return document.createElement(name);\n}\nfunction text(data) {\n  return document.createTextNode(data);\n}\nfunction empty() {\n  return text(\"\");\n}\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\nfunction self(fn) {\n  return function(event) {\n    if (event.target === this)\n      fn.call(this, event);\n  };\n}\nfunction attr(node, attribute, value) {\n  if (value == null)\n    node.removeAttribute(attribute);\n  else if (node.getAttribute(attribute) !== value)\n    node.setAttribute(attribute, value);\n}\nfunction children(element2) {\n  return Array.from(element2.childNodes);\n}\nfunction set_data(text2, data) {\n  data = \"\" + data;\n  if (text2.wholeText !== data)\n    text2.data = data;\n}\nfunction toggle_class(element2, name, toggle) {\n  element2.classList[toggle ? \"add\" : \"remove\"](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n  const e = document.createEvent(\"CustomEvent\");\n  e.initCustomEvent(type, bubbles, cancelable, detail);\n  return e;\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component)\n    throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction onMount(fn) {\n  get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n  get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n  get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n  const component = get_current_component();\n  return (type, detail, { cancelable = false } = {}) => {\n    const callbacks = component.$$.callbacks[type];\n    if (callbacks) {\n      const event = custom_event(type, detail, { cancelable });\n      callbacks.slice().forEach((fn) => {\n        fn.call(component, event);\n      });\n      return !event.defaultPrevented;\n    }\n    return true;\n  };\n}\nconst dirty_components = [];\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n  if (!update_scheduled) {\n    update_scheduled = true;\n    resolved_promise.then(flush);\n  }\n}\nfunction tick() {\n  schedule_update();\n  return resolved_promise;\n}\nfunction add_render_callback(fn) {\n  render_callbacks.push(fn);\n}\nconst seen_callbacks = /* @__PURE__ */ new Set();\nlet flushidx = 0;\nfunction flush() {\n  if (flushidx !== 0) {\n    return;\n  }\n  const saved_component = current_component;\n  do {\n    try {\n      while (flushidx < dirty_components.length) {\n        const component = dirty_components[flushidx];\n        flushidx++;\n        set_current_component(component);\n        update(component.$$);\n      }\n    } catch (e) {\n      dirty_components.length = 0;\n      flushidx = 0;\n      throw e;\n    }\n    set_current_component(null);\n    dirty_components.length = 0;\n    flushidx = 0;\n    while (binding_callbacks.length)\n      binding_callbacks.pop()();\n    for (let i = 0; i < render_callbacks.length; i += 1) {\n      const callback = render_callbacks[i];\n      if (!seen_callbacks.has(callback)) {\n        seen_callbacks.add(callback);\n        callback();\n      }\n    }\n    render_callbacks.length = 0;\n  } while (dirty_components.length);\n  while (flush_callbacks.length) {\n    flush_callbacks.pop()();\n  }\n  update_scheduled = false;\n  seen_callbacks.clear();\n  set_current_component(saved_component);\n}\nfunction update($$) {\n  if ($$.fragment !== null) {\n    $$.update();\n    run_all($$.before_update);\n    const dirty = $$.dirty;\n    $$.dirty = [-1];\n    $$.fragment && $$.fragment.p($$.ctx, dirty);\n    $$.after_update.forEach(add_render_callback);\n  }\n}\nfunction flush_render_callbacks(fns) {\n  const filtered = [];\n  const targets = [];\n  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n  targets.forEach((c) => c());\n  render_callbacks = filtered;\n}\nconst outroing = /* @__PURE__ */ new Set();\nlet outros;\nfunction group_outros() {\n  outros = {\n    r: 0,\n    c: [],\n    p: outros\n    // parent group\n  };\n}\nfunction check_outros() {\n  if (!outros.r) {\n    run_all(outros.c);\n  }\n  outros = outros.p;\n}\nfunction transition_in(block, local) {\n  if (block && block.i) {\n    outroing.delete(block);\n    block.i(local);\n  }\n}\nfunction transition_out(block, local, detach2, callback) {\n  if (block && block.o) {\n    if (outroing.has(block))\n      return;\n    outroing.add(block);\n    outros.c.push(() => {\n      outroing.delete(block);\n      if (callback) {\n        if (detach2)\n          block.d(1);\n        callback();\n      }\n    });\n    block.o(local);\n  } else if (callback) {\n    callback();\n  }\n}\nfunction create_component(block) {\n  block && block.c();\n}\nfunction mount_component(component, target, anchor, customElement) {\n  const { fragment, after_update } = component.$$;\n  fragment && fragment.m(target, anchor);\n  if (!customElement) {\n    add_render_callback(() => {\n      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n      if (component.$$.on_destroy) {\n        component.$$.on_destroy.push(...new_on_destroy);\n      } else {\n        run_all(new_on_destroy);\n      }\n      component.$$.on_mount = [];\n    });\n  }\n  after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n  const $$ = component.$$;\n  if ($$.fragment !== null) {\n    flush_render_callbacks($$.after_update);\n    run_all($$.on_destroy);\n    $$.fragment && $$.fragment.d(detaching);\n    $$.on_destroy = $$.fragment = null;\n    $$.ctx = [];\n  }\n}\nfunction make_dirty(component, i) {\n  if (component.$$.dirty[0] === -1) {\n    dirty_components.push(component);\n    schedule_update();\n    component.$$.dirty.fill(0);\n  }\n  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n}\nfunction init(component, options, instance2, create_fragment2, not_equal2, props, append_styles, dirty = [-1]) {\n  const parent_component = current_component;\n  set_current_component(component);\n  const $$ = component.$$ = {\n    fragment: null,\n    ctx: [],\n    // state\n    props,\n    update: noop,\n    not_equal: not_equal2,\n    bound: blank_object(),\n    // lifecycle\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n    // everything else\n    callbacks: blank_object(),\n    dirty,\n    skip_bound: false,\n    root: options.target || parent_component.$$.root\n  };\n  append_styles && append_styles($$.root);\n  let ready = false;\n  $$.ctx = instance2 ? instance2(component, options.props || {}, (i, ret, ...rest) => {\n    const value = rest.length ? rest[0] : ret;\n    if ($$.ctx && not_equal2($$.ctx[i], $$.ctx[i] = value)) {\n      if (!$$.skip_bound && $$.bound[i])\n        $$.bound[i](value);\n      if (ready)\n        make_dirty(component, i);\n    }\n    return ret;\n  }) : [];\n  $$.update();\n  ready = true;\n  run_all($$.before_update);\n  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;\n  if (options.target) {\n    if (options.hydrate) {\n      const nodes = children(options.target);\n      $$.fragment && $$.fragment.l(nodes);\n      nodes.forEach(detach);\n    } else {\n      $$.fragment && $$.fragment.c();\n    }\n    if (options.intro)\n      transition_in(component.$$.fragment);\n    mount_component(component, options.target, options.anchor, options.customElement);\n    flush();\n  }\n  set_current_component(parent_component);\n}\nclass SvelteComponent {\n  $destroy() {\n    destroy_component(this, 1);\n    this.$destroy = noop;\n  }\n  $on(type, callback) {\n    if (!is_function(callback)) {\n      return noop;\n    }\n    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n    callbacks.push(callback);\n    return () => {\n      const index2 = callbacks.indexOf(callback);\n      if (index2 !== -1)\n        callbacks.splice(index2, 1);\n    };\n  }\n  $set($$props) {\n    if (this.$$set && !is_empty($$props)) {\n      this.$$.skip_bound = true;\n      this.$$set($$props);\n      this.$$.skip_bound = false;\n    }\n  }\n}\nconst bold = \"Bold\";\nconst boldText = \"bold text\";\nconst cheatsheet = \"Markdown Cheatsheet\";\nconst closeHelp = \"Close help\";\nconst closeToc = \"Close table of contents\";\nconst code = \"Code\";\nconst codeBlock = \"Code block\";\nconst codeLang = \"lang\";\nconst codeText = \"code\";\nconst exitFullscreen = \"Exit fullscreen\";\nconst exitPreviewOnly = \"Exit preview only\";\nconst exitWriteOnly = \"Exit write only\";\nconst fullscreen = \"Fullscreen\";\nconst h1 = \"Heading 1\";\nconst h2 = \"Heading 2\";\nconst h3 = \"Heading 3\";\nconst h4 = \"Heading 4\";\nconst h5 = \"Heading 5\";\nconst h6 = \"Heading 6\";\nconst headingText = \"heading\";\nconst help = \"Help\";\nconst hr = \"Horizontal rule\";\nconst image = \"Image\";\nconst imageAlt = \"alt\";\nconst imageTitle = \"title\";\nconst italic = \"Italic\";\nconst italicText = \"italic text\";\nconst limited = \"The maximum character limit has been reached\";\nconst lines = \"Lines\";\nconst link = \"Link\";\nconst linkText = \"link text\";\nconst ol = \"Ordered list\";\nconst olItem = \"item\";\nconst preview = \"Preview\";\nconst previewOnly = \"Preview only\";\nconst quote = \"Quote\";\nconst quotedText = \"quoted text\";\nconst shortcuts = \"Shortcuts\";\nconst source = \"Source code\";\nconst sync = \"Scroll sync\";\nconst toc = \"Table of contents\";\nconst top = \"Scroll to top\";\nconst ul = \"Unordered list\";\nconst ulItem = \"item\";\nconst words = \"Words\";\nconst write = \"Write\";\nconst writeOnly = \"Write only\";\nconst en = {\n  bold,\n  boldText,\n  cheatsheet,\n  closeHelp,\n  closeToc,\n  code,\n  codeBlock,\n  codeLang,\n  codeText,\n  exitFullscreen,\n  exitPreviewOnly,\n  exitWriteOnly,\n  fullscreen,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  headingText,\n  help,\n  hr,\n  image,\n  imageAlt,\n  imageTitle,\n  italic,\n  italicText,\n  limited,\n  lines,\n  link,\n  linkText,\n  ol,\n  olItem,\n  preview,\n  previewOnly,\n  quote,\n  quotedText,\n  shortcuts,\n  source,\n  sync,\n  toc,\n  top,\n  ul,\n  ulItem,\n  words,\n  write,\n  writeOnly\n};\nconst icons = {\n  Close: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m8 8 32 32M8 40 40 8\"/></svg>',\n  H: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M12 5v38M36 5v38M12 24h24\"/></svg>',\n  H1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M25 8v32M6 24h19M34.226 24 39 19.017V40\"/></svg>',\n  H2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 25c0-3.167 2.667-5 5-5s5 1.833 5 5c0 5.7-10 9.933-10 15h10\"/></svg>',\n  H3: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 20h10l-7 9c4 0 7 2 7 6s-3 5-5 5c-2.381 0-4-1-5-2.1\"/></svg>',\n  LevelFourTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M39.977 40V20L31 32.997v2.023h12\"/></svg>',\n  LevelFiveTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M40 21.01h-8v7.024C32 28 34 27 37 27s4 2.534 4 6.5-1 6.5-5 6.5c-3 0-4-2-4-3.992\"/></svg>',\n  LevelSixTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16\"/><path stroke=\"currentColor\" stroke-width=\"4\" d=\"M36.5 40a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M41.596 24.74C40.778 22.545 38.804 21 36.5 21c-3.038 0-5.5 2.686-5.5 6v7\"/></svg>',\n  TextBold: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 24c5.506 0 9.969-4.477 9.969-10S29.506 4 24 4H11v20h13ZM28.031 44C33.537 44 38 39.523 38 34s-4.463-10-9.969-10H11v20h17.031Z\" clip-rule=\"evenodd\"/></svg>',\n  TextItalic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M20 6h16M12 42h16M29 5.952 19 42\"/></svg>',\n  Quote: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M18.853 9.116C11.323 13.952 7.14 19.58 6.303 26.003 5 36 13.94 40.893 18.47 36.497 23 32.1 20.285 26.52 17.005 24.994c-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.016-7.69 9.116-10.322a.749.749 0 0 0 .114-1.02L20.285 9.3c-.44-.572-.862-.55-1.432-.185ZM38.679 9.116c-7.53 4.836-11.714 10.465-12.55 16.887-1.303 9.997 7.637 14.89 12.167 10.494 4.53-4.397 1.815-9.977-1.466-11.503-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.017-7.69 9.117-10.322a.749.749 0 0 0 .113-1.02L40.11 9.3c-.44-.572-.862-.55-1.431-.185Z\" clip-rule=\"evenodd\"/></svg>',\n  LinkOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m26.24 16.373-9.14-9.14c-2.661-2.661-7.035-2.603-9.768.131-2.734 2.734-2.793 7.107-.131 9.768l7.935 7.936M32.903 23.003l7.935 7.935c2.661 2.662 2.603 7.035-.13 9.769-2.735 2.734-7.108 2.792-9.77.13l-9.14-9.14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26.11 26.142c2.733-2.734 2.792-7.108.13-9.769M21.799 21.798c-2.734 2.734-2.792 7.108-.131 9.769\"/></svg>',\n  Pic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 10a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V10Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M14.5 18a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m15 24 5 4 6-7 17 13v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4l10-10Z\"/></svg>',\n  Code: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 13 4 25.432 16 37M32 13l12 12.432L32 37\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"m28 4-7 40\"/></svg>',\n  CodeBrackets: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 4c-2 0-5 1-5 5v9c0 3-5 5-5 5s5 2 5 5v11c0 4 3 5 5 5M32 4c2 0 5 1 5 5v9c0 3 5 5 5 5s-5 2-5 5v11c0 4-3 5-5 5\"/></svg>',\n  ListTwo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 42a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 14a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 28a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M21 24h22M21 38h22M21 10h22\"/></svg>',\n  OrderedList: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 4v9M12 13H6M12 27H6M6 20s3-3 5 0-5 7-5 7M6 34.5s2-3 5-1 0 4.5 0 4.5 3 2.5 0 4.5-5-1-5-1M11 38H9M9 4 6 6M21 24h22M21 38h22M21 10h22\"/></svg>',\n  DividingLine: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 24h38M21 38h6M37 38h6M21 10h6M5 38h6M5 10h6M37 10h6\"/></svg>',\n  AlignTextLeftOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26 24H14M34 15H14M32 33H14\"/></svg>',\n  Helpcenter: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 28.625v-4a6 6 0 1 0-6-6\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M24 37.625a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\" clip-rule=\"evenodd\"/></svg>',\n  LeftExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"6\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M42 6v36\"/></svg>',\n  RightExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"14\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 6v36\"/></svg>',\n  OffScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6v9h9M15 6v9H6M15 42v-9H6M33 42v-9h8.9\"/></svg>',\n  FullScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6h9v9M42 33v9h-9M15 42H6v-9M6 15V6h9\"/></svg>',\n  GithubOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"M29.344 30.477c2.404-.5 4.585-1.366 6.28-2.638C38.52 25.668 40 22.314 40 19c0-2.324-.881-4.494-2.407-6.332-.85-1.024 1.636-8.667-.573-7.638-2.21 1.03-5.45 3.308-7.147 2.805A20.712 20.712 0 0 0 24 7c-1.8 0-3.532.223-5.147.634C16.505 8.232 14.259 6 12 5.03c-2.26-.97-1.026 6.934-1.697 7.765C8.84 14.605 8 16.73 8 19c0 3.314 1.79 6.668 4.686 8.84 1.93 1.446 4.348 2.368 7.054 2.822M19.74 30.662c-1.159 1.275-1.738 2.486-1.738 3.632v8.717M29.345 30.477c1.097 1.44 1.646 2.734 1.646 3.88v8.654M6 31.215c.899.11 1.566.524 2 1.24.652 1.075 3.074 5.063 5.825 5.063h4.177\"/></svg>'\n};\nfunction createCodeMirror() {\n  const codemirror = factory();\n  usePlaceholder(codemirror);\n  useOverlay(codemirror);\n  useXml(codemirror);\n  useMarkdown(codemirror);\n  useGfm(codemirror);\n  useYaml(codemirror);\n  useYamlFrontmatter(codemirror);\n  useContinuelist(codemirror);\n  return codemirror;\n}\nfunction createEditorUtils(codemirror, editor) {\n  return {\n    /**\n     * Wrap text with decorators, for example:\n     *\n     * `text -> *text*`\n     */\n    wrapText(before, after = before) {\n      const range = editor.somethingSelected() ? editor.listSelections()[0] : editor.findWordAt(editor.getCursor());\n      const from = range.from();\n      const to = range.to();\n      const text2 = editor.getRange(from, to);\n      const fromBefore = codemirror.Pos(from.line, from.ch - before.length);\n      const toAfter = codemirror.Pos(to.line, to.ch + after.length);\n      if (editor.getRange(fromBefore, from) === before && editor.getRange(to, toAfter) === after) {\n        editor.replaceRange(text2, fromBefore, toAfter);\n        editor.setSelection(\n          fromBefore,\n          codemirror.Pos(fromBefore.line, fromBefore.ch + text2.length)\n        );\n      } else {\n        editor.replaceRange(before + text2 + after, from, to);\n        const cursor = editor.getCursor();\n        editor.setSelection(\n          codemirror.Pos(cursor.line, cursor.ch - after.length - text2.length),\n          codemirror.Pos(cursor.line, cursor.ch - after.length)\n        );\n      }\n    },\n    /**\n     * replace multiple lines\n     *\n     * `line -> # line`\n     */\n    replaceLines(replace) {\n      const [selection] = editor.listSelections();\n      const range = [\n        codemirror.Pos(selection.from().line, 0),\n        codemirror.Pos(selection.to().line)\n      ];\n      const lines2 = editor.getRange(...range).split(\"\\n\");\n      editor.replaceRange(lines2.map(replace).join(\"\\n\"), ...range);\n      editor.setSelection(...range);\n    },\n    /**\n     * Append a block based on the cursor position\n     */\n    appendBlock(content) {\n      const cursor = editor.getCursor();\n      let emptyLine = -1;\n      for (let i = cursor.line; i < editor.lineCount(); i++) {\n        if (!editor.getLine(i).trim()) {\n          emptyLine = i;\n          break;\n        }\n      }\n      if (emptyLine === -1) {\n        editor.replaceRange(\"\\n\", codemirror.Pos(editor.lineCount()));\n        emptyLine = editor.lineCount();\n      }\n      editor.replaceRange(\"\\n\" + content, codemirror.Pos(emptyLine));\n      return codemirror.Pos(emptyLine + 1, 0);\n    },\n    /**\n     * Triggers a virtual file input and let user select files\n     *\n     * https://www.npmjs.com/package/select-files\n     */\n    selectFiles\n  };\n}\nfunction findStartIndex(num, nums) {\n  let startIndex = nums.length - 2;\n  for (let i = 0; i < nums.length; i++) {\n    if (num < nums[i]) {\n      startIndex = i - 1;\n      break;\n    }\n  }\n  startIndex = Math.max(startIndex, 0);\n  return startIndex;\n}\nconst getShortcutWithPrefix = (key, shift = false) => {\n  const shiftPrefix = shift ? \"Shift-\" : \"\";\n  const CmdPrefix = typeof navigator !== \"undefined\" && /Mac/.test(navigator.platform) ? \"Cmd-\" : \"Ctrl-\";\n  return shiftPrefix + CmdPrefix + key;\n};\nasync function handleImageUpload({ editor, appendBlock, codemirror }, uploadImages, files) {\n  const imgs = await uploadImages(files);\n  const pos = appendBlock(\n    imgs.map(({ url, alt, title }, i) => {\n      alt = alt != null ? alt : files[i].name;\n      return `![${alt}](${url}${title ? ` \"${title}\"` : \"\"})`;\n    }).join(\"\\n\\n\")\n  );\n  editor.setSelection(pos, codemirror.Pos(pos.line + imgs.length * 2 - 2));\n  editor.focus();\n}\nfunction getBuiltinActions(locale, plugins, uploadImages) {\n  const leftActions = [\n    {\n      icon: icons.H,\n      handler: {\n        type: \"dropdown\",\n        actions: [1, 2, 3, 4, 5, 6].map((level) => ({\n          title: locale[`h${level}`],\n          icon: [\n            icons.H1,\n            icons.H2,\n            icons.H3,\n            icons.LevelFourTitle,\n            icons.LevelFiveTitle,\n            icons.LevelSixTitle\n          ][level - 1],\n          cheatsheet: level <= 3 ? `${\"#\".repeat(level)} ${locale.headingText}` : void 0,\n          handler: {\n            type: \"action\",\n            click({ replaceLines, editor }) {\n              replaceLines((line) => {\n                line = line.trim().replace(/^#*/, \"\").trim();\n                line = \"#\".repeat(level) + \" \" + line;\n                return line;\n              });\n              editor.focus();\n            }\n          }\n        }))\n      }\n    },\n    {\n      title: locale.bold,\n      icon: icons.TextBold,\n      cheatsheet: `**${locale.boldText}**`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"B\"),\n        click({ wrapText, editor }) {\n          wrapText(\"**\");\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.italic,\n      icon: icons.TextItalic,\n      cheatsheet: `*${locale.italicText}*`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"I\"),\n        click({ wrapText, editor }) {\n          wrapText(\"*\");\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.quote,\n      icon: icons.Quote,\n      cheatsheet: `> ${locale.quotedText}`,\n      handler: {\n        type: \"action\",\n        click({ replaceLines, editor }) {\n          replaceLines((line) => \"> \" + line);\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.link,\n      icon: icons.LinkOne,\n      cheatsheet: `[${locale.linkText}](url)`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"K\"),\n        click({ editor, wrapText, codemirror }) {\n          wrapText(\"[\", \"](url)\");\n          const cursor = editor.getCursor();\n          editor.setSelection(\n            codemirror.Pos(cursor.line, cursor.ch + 2),\n            codemirror.Pos(cursor.line, cursor.ch + 5)\n          );\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.image,\n      icon: icons.Pic,\n      cheatsheet: `![${locale.imageAlt}](url \"${locale.imageTitle}\")`,\n      handler: uploadImages ? {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"I\", true),\n        async click(ctx) {\n          const fileList = await selectFiles({\n            accept: \"image/*\",\n            multiple: true\n          });\n          if (fileList == null ? void 0 : fileList.length) {\n            await handleImageUpload(ctx, uploadImages, Array.from(fileList));\n          }\n        }\n      } : void 0\n    },\n    {\n      title: locale.code,\n      icon: icons.Code,\n      cheatsheet: \"`\" + locale.codeText + \"`\",\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"K\", true),\n        click({ wrapText, editor }) {\n          wrapText(\"`\");\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.codeBlock,\n      icon: icons.CodeBrackets,\n      cheatsheet: \"```\" + locale.codeLang + \"↵\",\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"C\", true),\n        click({ editor, appendBlock, codemirror }) {\n          const pos = appendBlock(\"```js\\n```\");\n          editor.setSelection(\n            codemirror.Pos(pos.line, 3),\n            codemirror.Pos(pos.line, 5)\n          );\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.ul,\n      icon: icons.ListTwo,\n      cheatsheet: `- ${locale.ulItem}`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"U\", true),\n        click({ replaceLines, editor }) {\n          replaceLines((line) => \"- \" + line);\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.ol,\n      icon: icons.OrderedList,\n      cheatsheet: `1. ${locale.olItem}`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"O\", true),\n        click({ replaceLines, editor }) {\n          replaceLines((line, i) => `${i + 1}. ${line}`);\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.hr,\n      icon: icons.DividingLine,\n      cheatsheet: \"---\"\n    }\n  ];\n  const rightActions = [];\n  plugins.forEach(({ actions }) => {\n    if (actions) {\n      actions.forEach((action) => {\n        if (!action.position || action.position !== \"right\")\n          leftActions.push(action);\n        else\n          rightActions.unshift(action);\n      });\n    }\n  });\n  return {\n    leftActions,\n    rightActions\n  };\n}\nfunction get_each_context$2(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction get_each_context_1$1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction create_if_block_1$2(ctx) {\n  let li;\n  let div0;\n  let raw_value = (\n    /*action*/\n    ctx[5].icon + \"\"\n  );\n  let div1;\n  let t0_value = (\n    /*action*/\n    ctx[5].title + \"\"\n  );\n  let t0;\n  let div2;\n  let code2;\n  let t1_value = (\n    /*action*/\n    ctx[5].cheatsheet + \"\"\n  );\n  let t1;\n  return {\n    c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      code2 = element(\"code\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, code2);\n      append(code2, t1);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\"))\n        div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].cheatsheet + \"\"))\n        set_data(t1, t1_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(li);\n    }\n  };\n}\nfunction create_each_block_1$1(ctx) {\n  let if_block_anchor;\n  let if_block = (\n    /*action*/\n    ctx[5].cheatsheet && create_if_block_1$2(ctx)\n  );\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (\n        /*action*/\n        ctx2[5].cheatsheet\n      ) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_1$2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$3(ctx) {\n  let li;\n  let div0;\n  let raw_value = (\n    /*action*/\n    ctx[5].icon + \"\"\n  );\n  let div1;\n  let t0_value = (\n    /*action*/\n    ctx[5].title + \"\"\n  );\n  let t0;\n  let div2;\n  let kbd;\n  let t1_value = (\n    /*action*/\n    ctx[5].handler.shortcut + \"\"\n  );\n  let t1;\n  return {\n    c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      kbd = element(\"kbd\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, kbd);\n      append(kbd, t1);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\"))\n        div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].handler.shortcut + \"\"))\n        set_data(t1, t1_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(li);\n    }\n  };\n}\nfunction create_each_block$2(ctx) {\n  let if_block_anchor;\n  let if_block = (\n    /*action*/\n    ctx[5].handler && /*action*/\n    ctx[5].handler.type === \"action\" && /*action*/\n    ctx[5].handler.shortcut && create_if_block$3(ctx)\n  );\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (\n        /*action*/\n        ctx2[5].handler && /*action*/\n        ctx2[5].handler.type === \"action\" && /*action*/\n        ctx2[5].handler.shortcut\n      ) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$3(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$5(ctx) {\n  let div;\n  let h20;\n  let t0_value = (\n    /*locale*/\n    ctx[0].cheatsheet + \"\"\n  );\n  let t0;\n  let ul0;\n  let h21;\n  let t1_value = (\n    /*locale*/\n    ctx[0].shortcuts + \"\"\n  );\n  let t1;\n  let ul1;\n  let each_value_1 = (\n    /*items*/\n    ctx[2]\n  );\n  let each_blocks_1 = [];\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    each_blocks_1[i] = create_each_block_1$1(get_each_context_1$1(ctx, each_value_1, i));\n  }\n  let each_value = (\n    /*items*/\n    ctx[2]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div = element(\"div\");\n      h20 = element(\"h2\");\n      t0 = text(t0_value);\n      ul0 = element(\"ul\");\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        each_blocks_1[i].c();\n      }\n      h21 = element(\"h2\");\n      t1 = text(t1_value);\n      ul1 = element(\"ul\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div, \"class\", \"bytemd-help\");\n      toggle_class(div, \"bytemd-hidden\", !/*visible*/\n      ctx[1]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h20);\n      append(h20, t0);\n      append(div, ul0);\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        if (each_blocks_1[i]) {\n          each_blocks_1[i].m(ul0, null);\n        }\n      }\n      append(div, h21);\n      append(h21, t1);\n      append(div, ul1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(ul1, null);\n        }\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      1 && t0_value !== (t0_value = /*locale*/\n      ctx2[0].cheatsheet + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4) {\n        each_value_1 = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value_1.length; i += 1) {\n          const child_ctx = get_each_context_1$1(ctx2, each_value_1, i);\n          if (each_blocks_1[i]) {\n            each_blocks_1[i].p(child_ctx, dirty);\n          } else {\n            each_blocks_1[i] = create_each_block_1$1(child_ctx);\n            each_blocks_1[i].c();\n            each_blocks_1[i].m(ul0, null);\n          }\n        }\n        for (; i < each_blocks_1.length; i += 1) {\n          each_blocks_1[i].d(1);\n        }\n        each_blocks_1.length = each_value_1.length;\n      }\n      if (dirty & /*locale*/\n      1 && t1_value !== (t1_value = /*locale*/\n      ctx2[0].shortcuts + \"\"))\n        set_data(t1, t1_value);\n      if (dirty & /*items*/\n      4) {\n        each_value = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context$2(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block$2(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(ul1, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", !/*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div);\n      destroy_each(each_blocks_1, detaching);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$5($$self, $$props, $$invalidate) {\n  let items;\n  let { actions } = $$props;\n  let { locale } = $$props;\n  let { visible } = $$props;\n  function flatItems(actions2) {\n    let items2 = [];\n    actions2.forEach((action) => {\n      const { handler, cheatsheet: cheatsheet2 } = action;\n      if ((handler == null ? void 0 : handler.type) === \"dropdown\") {\n        items2.push(...flatItems(handler.actions));\n      }\n      if (cheatsheet2) {\n        items2.push(action);\n      }\n    });\n    return items2;\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"actions\" in $$props2)\n      $$invalidate(3, actions = $$props2.actions);\n    if (\"locale\" in $$props2)\n      $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2)\n      $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*actions*/\n    8) {\n      $$invalidate(2, items = flatItems(actions));\n    }\n  };\n  return [locale, visible, items, actions];\n}\nclass Help extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$5, create_fragment$5, safe_not_equal, { actions: 3, locale: 0, visible: 1 });\n  }\n}\nfunction create_if_block_1$1(ctx) {\n  let span;\n  let t_value = (\n    /*locale*/\n    ctx[2].limited + \"\"\n  );\n  let t;\n  return {\n    c() {\n      span = element(\"span\");\n      t = text(t_value);\n      attr(span, \"class\", \"bytemd-status-error\");\n    },\n    m(target, anchor) {\n      insert(target, span, anchor);\n      append(span, t);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].limited + \"\"))\n        set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(span);\n    }\n  };\n}\nfunction create_if_block$2(ctx) {\n  let label;\n  let input;\n  let t_value = (\n    /*locale*/\n    ctx[2].sync + \"\"\n  );\n  let t;\n  let mounted;\n  let dispose;\n  return {\n    c() {\n      label = element(\"label\");\n      input = element(\"input\");\n      t = text(t_value);\n      attr(input, \"type\", \"checkbox\");\n      input.checked = /*syncEnabled*/\n      ctx[1];\n    },\n    m(target, anchor) {\n      insert(target, label, anchor);\n      append(label, input);\n      append(label, t);\n      if (!mounted) {\n        dispose = listen(\n          input,\n          \"change\",\n          /*change_handler*/\n          ctx[8]\n        );\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*syncEnabled*/\n      2) {\n        input.checked = /*syncEnabled*/\n        ctx2[1];\n      }\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].sync + \"\"))\n        set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(label);\n      mounted = false;\n      dispose();\n    }\n  };\n}\nfunction create_fragment$4(ctx) {\n  let div2;\n  let div0;\n  let span0;\n  let t0_value = (\n    /*locale*/\n    ctx[2].words + \"\"\n  );\n  let t0;\n  let t1;\n  let strong0;\n  let t2;\n  let span1;\n  let t3_value = (\n    /*locale*/\n    ctx[2].lines + \"\"\n  );\n  let t3;\n  let t4;\n  let strong1;\n  let t5;\n  let div1;\n  let span2;\n  let t6_value = (\n    /*locale*/\n    ctx[2].top + \"\"\n  );\n  let t6;\n  let mounted;\n  let dispose;\n  let if_block0 = (\n    /*islimited*/\n    ctx[3] && create_if_block_1$1(ctx)\n  );\n  let if_block1 = (\n    /*showSync*/\n    ctx[0] && create_if_block$2(ctx)\n  );\n  return {\n    c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      span0 = element(\"span\");\n      t0 = text(t0_value);\n      t1 = text(\": \");\n      strong0 = element(\"strong\");\n      t2 = text(\n        /*words*/\n        ctx[5]\n      );\n      span1 = element(\"span\");\n      t3 = text(t3_value);\n      t4 = text(\": \");\n      strong1 = element(\"strong\");\n      t5 = text(\n        /*lines*/\n        ctx[4]\n      );\n      if (if_block0)\n        if_block0.c();\n      div1 = element(\"div\");\n      if (if_block1)\n        if_block1.c();\n      span2 = element(\"span\");\n      t6 = text(t6_value);\n      attr(div0, \"class\", \"bytemd-status-left\");\n      attr(div1, \"class\", \"bytemd-status-right\");\n      attr(div2, \"class\", \"bytemd-status\");\n    },\n    m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      append(div0, span0);\n      append(span0, t0);\n      append(span0, t1);\n      append(span0, strong0);\n      append(strong0, t2);\n      append(div0, span1);\n      append(span1, t3);\n      append(span1, t4);\n      append(span1, strong1);\n      append(strong1, t5);\n      if (if_block0)\n        if_block0.m(div0, null);\n      append(div2, div1);\n      if (if_block1)\n        if_block1.m(div1, null);\n      append(div1, span2);\n      append(span2, t6);\n      if (!mounted) {\n        dispose = [\n          listen(\n            span2,\n            \"click\",\n            /*click_handler*/\n            ctx[9]\n          ),\n          listen(span2, \"keydown\", self(\n            /*keydown_handler*/\n            ctx[10]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].words + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*words*/\n      32)\n        set_data(\n          t2,\n          /*words*/\n          ctx2[5]\n        );\n      if (dirty & /*locale*/\n      4 && t3_value !== (t3_value = /*locale*/\n      ctx2[2].lines + \"\"))\n        set_data(t3, t3_value);\n      if (dirty & /*lines*/\n      16)\n        set_data(\n          t5,\n          /*lines*/\n          ctx2[4]\n        );\n      if (\n        /*islimited*/\n        ctx2[3]\n      ) {\n        if (if_block0) {\n          if_block0.p(ctx2, dirty);\n        } else {\n          if_block0 = create_if_block_1$1(ctx2);\n          if_block0.c();\n          if_block0.m(div0, null);\n        }\n      } else if (if_block0) {\n        if_block0.d(1);\n        if_block0 = null;\n      }\n      if (\n        /*showSync*/\n        ctx2[0]\n      ) {\n        if (if_block1) {\n          if_block1.p(ctx2, dirty);\n        } else {\n          if_block1 = create_if_block$2(ctx2);\n          if_block1.c();\n          if_block1.m(div1, span2);\n        }\n      } else if (if_block1) {\n        if_block1.d(1);\n        if_block1 = null;\n      }\n      if (dirty & /*locale*/\n      4 && t6_value !== (t6_value = /*locale*/\n      ctx2[2].top + \"\"))\n        set_data(t6, t6_value);\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div2);\n      if (if_block0)\n        if_block0.d();\n      if (if_block1)\n        if_block1.d();\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance$4($$self, $$props, $$invalidate) {\n  let words2;\n  let lines2;\n  let { showSync } = $$props;\n  let { value } = $$props;\n  let { syncEnabled } = $$props;\n  let { locale } = $$props;\n  let { islimited } = $$props;\n  const dispatch = createEventDispatcher();\n  const change_handler = () => dispatch(\"sync\", !syncEnabled);\n  const click_handler = () => dispatch(\"top\");\n  const keydown_handler = (e) => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"top\");\n  $$self.$$set = ($$props2) => {\n    if (\"showSync\" in $$props2)\n      $$invalidate(0, showSync = $$props2.showSync);\n    if (\"value\" in $$props2)\n      $$invalidate(7, value = $$props2.value);\n    if (\"syncEnabled\" in $$props2)\n      $$invalidate(1, syncEnabled = $$props2.syncEnabled);\n    if (\"locale\" in $$props2)\n      $$invalidate(2, locale = $$props2.locale);\n    if (\"islimited\" in $$props2)\n      $$invalidate(3, islimited = $$props2.islimited);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(5, words2 = wordCount(value));\n    }\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(4, lines2 = value.split(\"\\n\").length);\n    }\n  };\n  return [\n    showSync,\n    syncEnabled,\n    locale,\n    islimited,\n    lines2,\n    words2,\n    dispatch,\n    value,\n    change_handler,\n    click_handler,\n    keydown_handler\n  ];\n}\nclass Status extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$4, create_fragment$4, safe_not_equal, {\n      showSync: 0,\n      value: 7,\n      syncEnabled: 1,\n      locale: 2,\n      islimited: 3\n    });\n  }\n}\nfunction get_each_context$1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[11] = list[i];\n  child_ctx[13] = i;\n  return child_ctx;\n}\nfunction create_each_block$1(ctx) {\n  let li;\n  let t_value = (\n    /*item*/\n    ctx[11].text + \"\"\n  );\n  let t;\n  let li_class_value;\n  let li_style_value;\n  let mounted;\n  let dispose;\n  function click_handler() {\n    return (\n      /*click_handler*/\n      ctx[8](\n        /*index*/\n        ctx[13]\n      )\n    );\n  }\n  function keydown_handler(...args) {\n    return (\n      /*keydown_handler*/\n      ctx[9](\n        /*index*/\n        ctx[13],\n        ...args\n      )\n    );\n  }\n  return {\n    c() {\n      li = element(\"li\");\n      t = text(t_value);\n      attr(li, \"class\", li_class_value = `bytemd-toc-${/*item*/\n      ctx[11].level}`);\n      attr(li, \"style\", li_style_value = `padding-left:${/*item*/\n      (ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8}px`);\n      toggle_class(\n        li,\n        \"bytemd-toc-active\",\n        /*currentHeadingIndex*/\n        ctx[4] === /*index*/\n        ctx[13]\n      );\n      toggle_class(\n        li,\n        \"bytemd-toc-first\",\n        /*item*/\n        ctx[11].level === /*minLevel*/\n        ctx[3]\n      );\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, t);\n      if (!mounted) {\n        dispose = [\n          listen(li, \"click\", click_handler),\n          listen(li, \"keydown\", self(keydown_handler))\n        ];\n        mounted = true;\n      }\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty & /*items*/\n      4 && t_value !== (t_value = /*item*/\n      ctx[11].text + \"\"))\n        set_data(t, t_value);\n      if (dirty & /*items*/\n      4 && li_class_value !== (li_class_value = `bytemd-toc-${/*item*/\n      ctx[11].level}`)) {\n        attr(li, \"class\", li_class_value);\n      }\n      if (dirty & /*items, minLevel*/\n      12 && li_style_value !== (li_style_value = `padding-left:${/*item*/\n      (ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8}px`)) {\n        attr(li, \"style\", li_style_value);\n      }\n      if (dirty & /*items, currentHeadingIndex*/\n      20) {\n        toggle_class(\n          li,\n          \"bytemd-toc-active\",\n          /*currentHeadingIndex*/\n          ctx[4] === /*index*/\n          ctx[13]\n        );\n      }\n      if (dirty & /*items, items, minLevel*/\n      12) {\n        toggle_class(\n          li,\n          \"bytemd-toc-first\",\n          /*item*/\n          ctx[11].level === /*minLevel*/\n          ctx[3]\n        );\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(li);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_fragment$3(ctx) {\n  let div;\n  let h22;\n  let t_value = (\n    /*locale*/\n    ctx[0].toc + \"\"\n  );\n  let t;\n  let ul2;\n  let each_value = (\n    /*items*/\n    ctx[2]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div = element(\"div\");\n      h22 = element(\"h2\");\n      t = text(t_value);\n      ul2 = element(\"ul\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div, \"class\", \"bytemd-toc\");\n      toggle_class(div, \"bytemd-hidden\", !/*visible*/\n      ctx[1]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h22);\n      append(h22, t);\n      append(div, ul2);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(ul2, null);\n        }\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      1 && t_value !== (t_value = /*locale*/\n      ctx2[0].toc + \"\"))\n        set_data(t, t_value);\n      if (dirty & /*items, minLevel, currentHeadingIndex, dispatch*/\n      60) {\n        each_value = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context$1(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block$1(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(ul2, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", !/*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$3($$self, $$props, $$invalidate) {\n  let { hast } = $$props;\n  let { currentBlockIndex } = $$props;\n  let { locale } = $$props;\n  let { visible } = $$props;\n  const dispatch = createEventDispatcher();\n  let items;\n  let minLevel = 6;\n  let currentHeadingIndex = 0;\n  function stringifyHeading(e) {\n    let result = \"\";\n    visit(e, (node) => {\n      if (node.type === \"text\") {\n        result += node.value;\n      }\n    });\n    return result;\n  }\n  const click_handler = (index2) => {\n    dispatch(\"click\", index2);\n  };\n  const keydown_handler = (index2, e) => {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      dispatch(\"click\", index2);\n    }\n  };\n  $$self.$$set = ($$props2) => {\n    if (\"hast\" in $$props2)\n      $$invalidate(6, hast = $$props2.hast);\n    if (\"currentBlockIndex\" in $$props2)\n      $$invalidate(7, currentBlockIndex = $$props2.currentBlockIndex);\n    if (\"locale\" in $$props2)\n      $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2)\n      $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*hast, minLevel, items, currentBlockIndex*/\n    204) {\n      (() => {\n        $$invalidate(2, items = []);\n        $$invalidate(4, currentHeadingIndex = 0);\n        hast.children.filter((v) => v.type === \"element\").forEach((node, index2) => {\n          if (node.tagName[0] === \"h\" && !!node.children.length) {\n            const i = Number(node.tagName[1]);\n            $$invalidate(3, minLevel = Math.min(minLevel, i));\n            items.push({ level: i, text: stringifyHeading(node) });\n          }\n          if (currentBlockIndex >= index2) {\n            $$invalidate(4, currentHeadingIndex = items.length - 1);\n          }\n        });\n      })();\n    }\n  };\n  return [\n    locale,\n    visible,\n    items,\n    minLevel,\n    currentHeadingIndex,\n    dispatch,\n    hast,\n    currentBlockIndex,\n    click_handler,\n    keydown_handler\n  ];\n}\nclass Toc extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$3, create_fragment$3, not_equal, {\n      hast: 6,\n      currentBlockIndex: 7,\n      locale: 0,\n      visible: 1\n    });\n  }\n}\nfunction get_each_context(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction get_each_context_1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction create_else_block(ctx) {\n  let div0;\n  let t0_value = (\n    /*locale*/\n    ctx[2].write + \"\"\n  );\n  let t0;\n  let div1;\n  let t1_value = (\n    /*locale*/\n    ctx[2].preview + \"\"\n  );\n  let t1;\n  let mounted;\n  let dispose;\n  return {\n    c() {\n      div0 = element(\"div\");\n      t0 = text(t0_value);\n      div1 = element(\"div\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(\n        div0,\n        \"bytemd-toolbar-tab-active\",\n        /*activeTab*/\n        ctx[1] !== \"preview\"\n      );\n      attr(div1, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(\n        div1,\n        \"bytemd-toolbar-tab-active\",\n        /*activeTab*/\n        ctx[1] === \"preview\"\n      );\n    },\n    m(target, anchor) {\n      insert(target, div0, anchor);\n      append(div0, t0);\n      insert(target, div1, anchor);\n      append(div1, t1);\n      if (!mounted) {\n        dispose = [\n          listen(\n            div0,\n            \"click\",\n            /*click_handler*/\n            ctx[16]\n          ),\n          listen(div0, \"keydown\", self(\n            /*keydown_handler*/\n            ctx[17]\n          )),\n          listen(\n            div1,\n            \"click\",\n            /*click_handler_1*/\n            ctx[18]\n          ),\n          listen(div1, \"keydown\", self(\n            /*keydown_handler_1*/\n            ctx[19]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].write + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(\n          div0,\n          \"bytemd-toolbar-tab-active\",\n          /*activeTab*/\n          ctx2[1] !== \"preview\"\n        );\n      }\n      if (dirty & /*locale*/\n      4 && t1_value !== (t1_value = /*locale*/\n      ctx2[2].preview + \"\"))\n        set_data(t1, t1_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(\n          div1,\n          \"bytemd-toolbar-tab-active\",\n          /*activeTab*/\n          ctx2[1] === \"preview\"\n        );\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div0);\n      if (detaching)\n        detach(div1);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_if_block_1(ctx) {\n  let each_1_anchor;\n  let each_value_1 = (\n    /*actions*/\n    ctx[3]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n  }\n  return {\n    c() {\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      each_1_anchor = empty();\n    },\n    m(target, anchor) {\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(target, anchor);\n        }\n      }\n      insert(target, each_1_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*tippyClass, actions*/\n      8) {\n        each_value_1 = /*actions*/\n        ctx2[3];\n        let i;\n        for (i = 0; i < each_value_1.length; i += 1) {\n          const child_ctx = get_each_context_1(ctx2, each_value_1, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block_1(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value_1.length;\n      }\n    },\n    d(detaching) {\n      destroy_each(each_blocks, detaching);\n      if (detaching)\n        detach(each_1_anchor);\n    }\n  };\n}\nfunction create_if_block_2(ctx) {\n  let div;\n  let raw_value = (\n    /*item*/\n    ctx[25].icon + \"\"\n  );\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass].join(\" \"));\n      attr(\n        div,\n        \"bytemd-tippy-path\",\n        /*index*/\n        ctx[27]\n      );\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*actions*/\n      8 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\"))\n        div.innerHTML = raw_value;\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div);\n    }\n  };\n}\nfunction create_each_block_1(ctx) {\n  let if_block_anchor;\n  let if_block = (\n    /*item*/\n    ctx[25].handler && create_if_block_2(ctx)\n  );\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (\n        /*item*/\n        ctx2[25].handler\n      ) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$1(ctx) {\n  let div;\n  let raw_value = (\n    /*item*/\n    ctx[25].icon + \"\"\n  );\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass, tippyClassRight].join(\" \"));\n      attr(\n        div,\n        \"bytemd-tippy-path\",\n        /*index*/\n        ctx[27]\n      );\n      toggle_class(\n        div,\n        \"bytemd-toolbar-icon-active\",\n        /*item*/\n        ctx[25].active\n      );\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*rightActions*/\n      32 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\"))\n        div.innerHTML = raw_value;\n      if (dirty & /*rightActions*/\n      32) {\n        toggle_class(\n          div,\n          \"bytemd-toolbar-icon-active\",\n          /*item*/\n          ctx2[25].active\n        );\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div);\n    }\n  };\n}\nfunction create_each_block(ctx) {\n  let if_block_anchor;\n  let if_block = !/*item*/\n  ctx[25].hidden && create_if_block$1(ctx);\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (!/*item*/\n      ctx2[25].hidden) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$1(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$2(ctx) {\n  let div2;\n  let div0;\n  let div1;\n  let mounted;\n  let dispose;\n  function select_block_type(ctx2, dirty) {\n    if (\n      /*split*/\n      ctx2[0]\n    )\n      return create_if_block_1;\n    return create_else_block;\n  }\n  let current_block_type = select_block_type(ctx);\n  let if_block = current_block_type(ctx);\n  let each_value = (\n    /*rightActions*/\n    ctx[5]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      if_block.c();\n      div1 = element(\"div\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div0, \"class\", \"bytemd-toolbar-left\");\n      attr(div1, \"class\", \"bytemd-toolbar-right\");\n      attr(div2, \"class\", \"bytemd-toolbar\");\n    },\n    m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      if_block.m(div0, null);\n      append(div2, div1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(div1, null);\n        }\n      }\n      ctx[20](div2);\n      if (!mounted) {\n        dispose = [\n          listen(\n            div2,\n            \"click\",\n            /*handleClick*/\n            ctx[7]\n          ),\n          listen(div2, \"keydown\", self(\n            /*keydown_handler_2*/\n            ctx[21]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {\n        if_block.p(ctx2, dirty);\n      } else {\n        if_block.d(1);\n        if_block = current_block_type(ctx2);\n        if (if_block) {\n          if_block.c();\n          if_block.m(div0, null);\n        }\n      }\n      if (dirty & /*tippyClass, tippyClassRight, rightActions*/\n      32) {\n        each_value = /*rightActions*/\n        ctx2[5];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(div1, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div2);\n      if_block.d();\n      destroy_each(each_blocks, detaching);\n      ctx[20](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nconst tippyClass = \"bytemd-tippy\";\nconst tippyClassRight = \"bytemd-tippy-right\";\nconst tippyPathKey = \"bytemd-tippy-path\";\nfunction instance$2($$self, $$props, $$invalidate) {\n  let tocActive;\n  let helpActive;\n  let writeActive;\n  let previewActive;\n  let rightActions;\n  const dispatch = createEventDispatcher();\n  let toolbar;\n  let { context } = $$props;\n  let { split } = $$props;\n  let { activeTab } = $$props;\n  let { fullscreen: fullscreen2 } = $$props;\n  let { sidebar } = $$props;\n  let { locale } = $$props;\n  let { actions } = $$props;\n  let { rightAfferentActions } = $$props;\n  function getPayloadFromElement(e) {\n    var _a, _b;\n    const paths = (_b = (_a = e.getAttribute(tippyPathKey)) == null ? void 0 : _a.split(\"-\")) == null ? void 0 : _b.map((x) => parseInt(x, 10));\n    if (!paths)\n      return;\n    let item = {\n      title: \"\",\n      handler: {\n        type: \"dropdown\",\n        actions: e.classList.contains(tippyClassRight) ? rightActions : actions\n      }\n    };\n    paths == null ? void 0 : paths.forEach((index2) => {\n      var _a2;\n      if (((_a2 = item.handler) == null ? void 0 : _a2.type) === \"dropdown\") {\n        item = item.handler.actions[index2];\n      }\n    });\n    return { paths, item };\n  }\n  let delegateInstance;\n  function init2() {\n    delegateInstance = delegate(toolbar, {\n      target: `.${tippyClass}`,\n      onCreate({ setProps, reference }) {\n        const payload = getPayloadFromElement(reference);\n        if (!payload)\n          return;\n        const { item, paths } = payload;\n        const { handler } = item;\n        if (!handler)\n          return;\n        if (handler.type === \"action\") {\n          setProps({\n            content: item.title,\n            onHidden(ins) {\n              ins.destroy();\n            }\n          });\n        } else if (handler.type === \"dropdown\") {\n          const dropdown = document.createElement(\"div\");\n          dropdown.classList.add(\"bytemd-dropdown\");\n          if (item.title) {\n            const dropdownTitle = document.createElement(\"div\");\n            dropdownTitle.classList.add(\"bytemd-dropdown-title\");\n            dropdownTitle.appendChild(document.createTextNode(item.title));\n            dropdown.appendChild(dropdownTitle);\n          }\n          handler.actions.forEach((subAction, i) => {\n            var _a;\n            const dropdownItem = document.createElement(\"div\");\n            dropdownItem.classList.add(\"bytemd-dropdown-item\");\n            dropdownItem.setAttribute(tippyPathKey, [...paths, i].join(\"-\"));\n            if (((_a = subAction.handler) == null ? void 0 : _a.type) === \"dropdown\") {\n              dropdownItem.classList.add(tippyClass);\n            }\n            if (reference.classList.contains(tippyClassRight)) {\n              dropdownItem.classList.add(tippyClassRight);\n            }\n            dropdownItem.innerHTML = `${subAction.icon ? `<div class=\"bytemd-dropdown-item-icon\">${subAction.icon}</div>` : \"\"}<div class=\"bytemd-dropdown-item-title\">${subAction.title}</div>`;\n            dropdown.appendChild(dropdownItem);\n          });\n          setProps({\n            allowHTML: true,\n            showOnCreate: true,\n            theme: \"light-border\",\n            placement: \"bottom-start\",\n            interactive: true,\n            interactiveDebounce: 50,\n            arrow: false,\n            offset: [0, 4],\n            content: dropdown.outerHTML,\n            onHidden(ins) {\n              ins.destroy();\n            },\n            onCreate(ins) {\n              [...ins.popper.querySelectorAll(\".bytemd-dropdown-item\")].forEach((el, i) => {\n                var _a;\n                const actionHandler = (_a = handler.actions[i]) == null ? void 0 : _a.handler;\n                if ((actionHandler == null ? void 0 : actionHandler.type) === \"action\") {\n                  const { mouseenter, mouseleave } = actionHandler;\n                  if (mouseenter) {\n                    el.addEventListener(\"mouseenter\", () => {\n                      mouseenter(context);\n                    });\n                  }\n                  if (mouseleave) {\n                    el.addEventListener(\"mouseleave\", () => {\n                      mouseleave(context);\n                    });\n                  }\n                }\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n  onMount(() => {\n    init2();\n  });\n  function handleClick(e) {\n    var _a, _b;\n    const target = e.target.closest(`[${tippyPathKey}]`);\n    if (!target)\n      return;\n    const handler = (_b = (_a = getPayloadFromElement(target)) == null ? void 0 : _a.item) == null ? void 0 : _b.handler;\n    if ((handler == null ? void 0 : handler.type) === \"action\") {\n      handler.click(context);\n    }\n    delegateInstance == null ? void 0 : delegateInstance.destroy();\n    init2();\n  }\n  const click_handler = () => dispatch(\"tab\", \"write\");\n  const keydown_handler = (e) => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"write\");\n  const click_handler_1 = () => dispatch(\"tab\", \"preview\");\n  const keydown_handler_1 = (e) => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"preview\");\n  function div2_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      toolbar = $$value;\n      $$invalidate(4, toolbar);\n    });\n  }\n  const keydown_handler_2 = (e) => [\"Enter\", \"Space\"].includes(e.code) && handleClick(e);\n  $$self.$$set = ($$props2) => {\n    if (\"context\" in $$props2)\n      $$invalidate(8, context = $$props2.context);\n    if (\"split\" in $$props2)\n      $$invalidate(0, split = $$props2.split);\n    if (\"activeTab\" in $$props2)\n      $$invalidate(1, activeTab = $$props2.activeTab);\n    if (\"fullscreen\" in $$props2)\n      $$invalidate(9, fullscreen2 = $$props2.fullscreen);\n    if (\"sidebar\" in $$props2)\n      $$invalidate(10, sidebar = $$props2.sidebar);\n    if (\"locale\" in $$props2)\n      $$invalidate(2, locale = $$props2.locale);\n    if (\"actions\" in $$props2)\n      $$invalidate(3, actions = $$props2.actions);\n    if (\"rightAfferentActions\" in $$props2)\n      $$invalidate(11, rightAfferentActions = $$props2.rightAfferentActions);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(15, tocActive = sidebar === \"toc\");\n    }\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(14, helpActive = sidebar === \"help\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(13, writeActive = activeTab === \"write\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(12, previewActive = activeTab === \"preview\");\n    }\n    if ($$self.$$.dirty & /*tocActive, locale, helpActive, writeActive, split, previewActive, fullscreen, rightAfferentActions*/\n    64005) {\n      $$invalidate(5, rightActions = [\n        {\n          title: tocActive ? locale.closeToc : locale.toc,\n          icon: icons.AlignTextLeftOne,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"click\", \"toc\");\n            }\n          },\n          active: tocActive\n        },\n        {\n          title: helpActive ? locale.closeHelp : locale.help,\n          icon: icons.Helpcenter,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"click\", \"help\");\n            }\n          },\n          active: helpActive\n        },\n        {\n          title: writeActive ? locale.exitWriteOnly : locale.writeOnly,\n          icon: icons.LeftExpand,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"tab\", \"write\");\n            }\n          },\n          active: writeActive,\n          hidden: !split\n        },\n        {\n          title: previewActive ? locale.exitPreviewOnly : locale.previewOnly,\n          icon: icons.RightExpand,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"tab\", \"preview\");\n            }\n          },\n          active: previewActive,\n          hidden: !split\n        },\n        {\n          title: fullscreen2 ? locale.exitFullscreen : locale.fullscreen,\n          icon: fullscreen2 ? icons.OffScreen : icons.FullScreen,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"click\", \"fullscreen\");\n            }\n          }\n        },\n        {\n          title: locale.source,\n          icon: icons.GithubOne,\n          handler: {\n            type: \"action\",\n            click() {\n              window.open(\"https://github.com/bytedance/bytemd\");\n            }\n          }\n        },\n        ...rightAfferentActions\n      ]);\n    }\n  };\n  return [\n    split,\n    activeTab,\n    locale,\n    actions,\n    toolbar,\n    rightActions,\n    dispatch,\n    handleClick,\n    context,\n    fullscreen2,\n    sidebar,\n    rightAfferentActions,\n    previewActive,\n    writeActive,\n    helpActive,\n    tocActive,\n    click_handler,\n    keydown_handler,\n    click_handler_1,\n    keydown_handler_1,\n    div2_binding,\n    keydown_handler_2\n  ];\n}\nclass Toolbar extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$2, create_fragment$2, not_equal, {\n      context: 8,\n      split: 0,\n      activeTab: 1,\n      fullscreen: 9,\n      sidebar: 10,\n      locale: 2,\n      actions: 3,\n      rightAfferentActions: 11\n    });\n  }\n}\nconst schemaStr = JSON.stringify(defaultSchema);\nfunction getProcessor({\n  sanitize,\n  plugins,\n  remarkRehype: remarkRehypeOptions = {}\n}) {\n  let processor = unified().use(remarkParse);\n  plugins == null ? void 0 : plugins.forEach(({ remark }) => {\n    if (remark)\n      processor = remark(processor);\n  });\n  processor = processor.use(remarkRehype, { allowDangerousHtml: true, ...remarkRehypeOptions }).use(rehypeRaw);\n  let schema = JSON.parse(schemaStr);\n  schema.attributes[\"*\"].push(\"className\");\n  if (typeof sanitize === \"function\") {\n    schema = sanitize(schema);\n  }\n  processor = processor.use(rehypeSanitize, schema);\n  plugins == null ? void 0 : plugins.forEach(({ rehype }) => {\n    if (rehype)\n      processor = rehype(processor);\n  });\n  return processor.use(rehypeStringify);\n}\nfunction create_fragment$1(ctx) {\n  let div;\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", \"markdown-body\");\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = /*html*/\n      ctx[1];\n      ctx[8](div);\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*html*/\n      2)\n        div.innerHTML = /*html*/\n        ctx2[1];\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div);\n      ctx[8](null);\n    }\n  };\n}\nfunction instance$1($$self, $$props, $$invalidate) {\n  let html;\n  const dispatch = createEventDispatcher();\n  let { value = \"\" } = $$props;\n  let { plugins = [] } = $$props;\n  let { sanitize = void 0 } = $$props;\n  let { remarkRehype: remarkRehype2 = void 0 } = $$props;\n  let markdownBody;\n  let cbs = [];\n  function on() {\n    cbs = plugins.map((p) => {\n      var _a;\n      return (_a = p.viewerEffect) == null ? void 0 : _a.call(p, { markdownBody, file });\n    });\n  }\n  function off() {\n    cbs.forEach((cb) => cb == null ? void 0 : cb());\n  }\n  onMount(() => {\n    markdownBody.addEventListener(\"click\", (e) => {\n      var _a;\n      const $ = e.target;\n      if ($.tagName !== \"A\")\n        return;\n      const href = $.getAttribute(\"href\");\n      if (!(href == null ? void 0 : href.startsWith(\"#\")))\n        return;\n      (_a = markdownBody.querySelector(\"#user-content-\" + href.slice(1))) == null ? void 0 : _a.scrollIntoView();\n    });\n  });\n  onDestroy(off);\n  let file;\n  let i = 0;\n  const dispatchPlugin = () => (tree, file2) => {\n    tick().then(() => {\n      dispatch(\"hast\", { hast: tree, file: file2 });\n    });\n  };\n  afterUpdate(() => {\n    off();\n    on();\n  });\n  function div_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      markdownBody = $$value;\n      $$invalidate(0, markdownBody);\n    });\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"value\" in $$props2)\n      $$invalidate(2, value = $$props2.value);\n    if (\"plugins\" in $$props2)\n      $$invalidate(3, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2)\n      $$invalidate(4, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2)\n      $$invalidate(5, remarkRehype2 = $$props2.remarkRehype);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*sanitize, plugins, remarkRehype, value, i*/\n    188) {\n      try {\n        $$invalidate(6, file = getProcessor({\n          sanitize,\n          plugins: [\n            ...plugins,\n            {\n              // remark: (p) =>\n              //   p.use(() => (tree) =>{\n              //     console.log(tree)\n              //   }),\n              rehype: (processor) => processor.use(dispatchPlugin)\n            }\n          ],\n          remarkRehype: remarkRehype2\n        }).processSync(value));\n        $$invalidate(7, i++, i);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    if ($$self.$$.dirty & /*file, i*/\n    192) {\n      $$invalidate(1, html = `${file}<!--${i}-->`);\n    }\n  };\n  return [\n    markdownBody,\n    html,\n    value,\n    plugins,\n    sanitize,\n    remarkRehype2,\n    file,\n    i,\n    div_binding\n  ];\n}\nclass Viewer extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$1, create_fragment$1, not_equal, {\n      value: 2,\n      plugins: 3,\n      sanitize: 4,\n      remarkRehype: 5\n    });\n  }\n}\nfunction create_if_block(ctx) {\n  let viewer;\n  let current;\n  viewer = new Viewer({\n    props: {\n      value: (\n        /*debouncedValue*/\n        ctx[16]\n      ),\n      plugins: (\n        /*plugins*/\n        ctx[1]\n      ),\n      sanitize: (\n        /*sanitize*/\n        ctx[2]\n      ),\n      remarkRehype: (\n        /*remarkRehype*/\n        ctx[3]\n      )\n    }\n  });\n  viewer.$on(\n    \"hast\",\n    /*hast_handler*/\n    ctx[35]\n  );\n  return {\n    c() {\n      create_component(viewer.$$.fragment);\n    },\n    m(target, anchor) {\n      mount_component(viewer, target, anchor);\n      current = true;\n    },\n    p(ctx2, dirty) {\n      const viewer_changes = {};\n      if (dirty[0] & /*debouncedValue*/\n      65536)\n        viewer_changes.value = /*debouncedValue*/\n        ctx2[16];\n      if (dirty[0] & /*plugins*/\n      2)\n        viewer_changes.plugins = /*plugins*/\n        ctx2[1];\n      if (dirty[0] & /*sanitize*/\n      4)\n        viewer_changes.sanitize = /*sanitize*/\n        ctx2[2];\n      if (dirty[0] & /*remarkRehype*/\n      8)\n        viewer_changes.remarkRehype = /*remarkRehype*/\n        ctx2[3];\n      viewer.$set(viewer_changes);\n    },\n    i(local) {\n      if (current)\n        return;\n      transition_in(viewer.$$.fragment, local);\n      current = true;\n    },\n    o(local) {\n      transition_out(viewer.$$.fragment, local);\n      current = false;\n    },\n    d(detaching) {\n      destroy_component(viewer, detaching);\n    }\n  };\n}\nfunction create_fragment(ctx) {\n  let div5;\n  let toolbar;\n  let div4;\n  let div0;\n  let div0_style_value;\n  let div1;\n  let div1_style_value;\n  let div3;\n  let div2;\n  let raw_value = icons.Close + \"\";\n  let help2;\n  let toc2;\n  let status;\n  let current;\n  let mounted;\n  let dispose;\n  toolbar = new Toolbar({\n    props: {\n      context: (\n        /*context*/\n        ctx[10]\n      ),\n      split: (\n        /*split*/\n        ctx[11]\n      ),\n      activeTab: (\n        /*activeTab*/\n        ctx[8]\n      ),\n      sidebar: (\n        /*sidebar*/\n        ctx[9]\n      ),\n      fullscreen: (\n        /*fullscreen*/\n        ctx[15]\n      ),\n      rightAfferentActions: (\n        /*actions*/\n        ctx[21].rightActions\n      ),\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      actions: (\n        /*actions*/\n        ctx[21].leftActions\n      )\n    }\n  });\n  toolbar.$on(\n    \"key\",\n    /*key_handler*/\n    ctx[31]\n  );\n  toolbar.$on(\n    \"tab\",\n    /*tab_handler*/\n    ctx[32]\n  );\n  toolbar.$on(\n    \"click\",\n    /*click_handler*/\n    ctx[33]\n  );\n  let if_block = !/*overridePreview*/\n  ctx[4] && /*split*/\n  (ctx[11] || /*activeTab*/\n  ctx[8] === \"preview\") && create_if_block(ctx);\n  help2 = new Help({\n    props: {\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      actions: (\n        /*actions*/\n        ctx[21].leftActions\n      ),\n      visible: (\n        /*sidebar*/\n        ctx[9] === \"help\"\n      )\n    }\n  });\n  toc2 = new Toc({\n    props: {\n      hast: (\n        /*hast*/\n        ctx[18]\n      ),\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      currentBlockIndex: (\n        /*currentBlockIndex*/\n        ctx[20]\n      ),\n      visible: (\n        /*sidebar*/\n        ctx[9] === \"toc\"\n      )\n    }\n  });\n  toc2.$on(\n    \"click\",\n    /*click_handler_2*/\n    ctx[39]\n  );\n  status = new Status({\n    props: {\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      showSync: !/*overridePreview*/\n      ctx[4] && /*split*/\n      ctx[11],\n      value: (\n        /*debouncedValue*/\n        ctx[16]\n      ),\n      syncEnabled: (\n        /*syncEnabled*/\n        ctx[17]\n      ),\n      islimited: (\n        /*value*/\n        ctx[0].length > /*maxLength*/\n        ctx[5]\n      )\n    }\n  });\n  status.$on(\n    \"sync\",\n    /*sync_handler*/\n    ctx[40]\n  );\n  status.$on(\n    \"top\",\n    /*top_handler*/\n    ctx[41]\n  );\n  return {\n    c() {\n      div5 = element(\"div\");\n      create_component(toolbar.$$.fragment);\n      div4 = element(\"div\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      if (if_block)\n        if_block.c();\n      div3 = element(\"div\");\n      div2 = element(\"div\");\n      create_component(help2.$$.fragment);\n      create_component(toc2.$$.fragment);\n      create_component(status.$$.fragment);\n      attr(div0, \"class\", \"bytemd-editor\");\n      attr(div0, \"style\", div0_style_value = /*styles*/\n      ctx[22].edit);\n      attr(div1, \"class\", \"bytemd-preview\");\n      attr(div1, \"style\", div1_style_value = /*styles*/\n      ctx[22].preview);\n      attr(div2, \"class\", \"bytemd-sidebar-close\");\n      attr(div3, \"class\", \"bytemd-sidebar\");\n      toggle_class(\n        div3,\n        \"bytemd-hidden\",\n        /*sidebar*/\n        ctx[9] === false\n      );\n      attr(div4, \"class\", \"bytemd-body\");\n      attr(div5, \"class\", \"bytemd\");\n      toggle_class(\n        div5,\n        \"bytemd-split\",\n        /*split*/\n        ctx[11] && /*activeTab*/\n        ctx[8] === false\n      );\n      toggle_class(\n        div5,\n        \"bytemd-fullscreen\",\n        /*fullscreen*/\n        ctx[15]\n      );\n    },\n    m(target, anchor) {\n      insert(target, div5, anchor);\n      mount_component(toolbar, div5, null);\n      append(div5, div4);\n      append(div4, div0);\n      ctx[34](div0);\n      append(div4, div1);\n      if (if_block)\n        if_block.m(div1, null);\n      ctx[36](div1);\n      append(div4, div3);\n      append(div3, div2);\n      div2.innerHTML = raw_value;\n      mount_component(help2, div3, null);\n      mount_component(toc2, div3, null);\n      mount_component(status, div5, null);\n      ctx[42](div5);\n      current = true;\n      if (!mounted) {\n        dispose = [\n          listen(\n            div2,\n            \"click\",\n            /*click_handler_1*/\n            ctx[37]\n          ),\n          listen(div2, \"keydown\", self(\n            /*keydown_handler*/\n            ctx[38]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      const toolbar_changes = {};\n      if (dirty[0] & /*context*/\n      1024)\n        toolbar_changes.context = /*context*/\n        ctx2[10];\n      if (dirty[0] & /*split*/\n      2048)\n        toolbar_changes.split = /*split*/\n        ctx2[11];\n      if (dirty[0] & /*activeTab*/\n      256)\n        toolbar_changes.activeTab = /*activeTab*/\n        ctx2[8];\n      if (dirty[0] & /*sidebar*/\n      512)\n        toolbar_changes.sidebar = /*sidebar*/\n        ctx2[9];\n      if (dirty[0] & /*fullscreen*/\n      32768)\n        toolbar_changes.fullscreen = /*fullscreen*/\n        ctx2[15];\n      if (dirty[0] & /*actions*/\n      2097152)\n        toolbar_changes.rightAfferentActions = /*actions*/\n        ctx2[21].rightActions;\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        toolbar_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152)\n        toolbar_changes.actions = /*actions*/\n        ctx2[21].leftActions;\n      toolbar.$set(toolbar_changes);\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div0_style_value !== (div0_style_value = /*styles*/\n      ctx2[22].edit)) {\n        attr(div0, \"style\", div0_style_value);\n      }\n      if (!/*overridePreview*/\n      ctx2[4] && /*split*/\n      (ctx2[11] || /*activeTab*/\n      ctx2[8] === \"preview\")) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n          if (dirty[0] & /*overridePreview, split, activeTab*/\n          2320) {\n            transition_in(if_block, 1);\n          }\n        } else {\n          if_block = create_if_block(ctx2);\n          if_block.c();\n          transition_in(if_block, 1);\n          if_block.m(div1, null);\n        }\n      } else if (if_block) {\n        group_outros();\n        transition_out(if_block, 1, 1, () => {\n          if_block = null;\n        });\n        check_outros();\n      }\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div1_style_value !== (div1_style_value = /*styles*/\n      ctx2[22].preview)) {\n        attr(div1, \"style\", div1_style_value);\n      }\n      const help_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        help_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152)\n        help_changes.actions = /*actions*/\n        ctx2[21].leftActions;\n      if (dirty[0] & /*sidebar*/\n      512)\n        help_changes.visible = /*sidebar*/\n        ctx2[9] === \"help\";\n      help2.$set(help_changes);\n      const toc_changes = {};\n      if (dirty[0] & /*hast*/\n      262144)\n        toc_changes.hast = /*hast*/\n        ctx2[18];\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        toc_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*currentBlockIndex*/\n      1048576)\n        toc_changes.currentBlockIndex = /*currentBlockIndex*/\n        ctx2[20];\n      if (dirty[0] & /*sidebar*/\n      512)\n        toc_changes.visible = /*sidebar*/\n        ctx2[9] === \"toc\";\n      toc2.$set(toc_changes);\n      if (!current || dirty[0] & /*sidebar*/\n      512) {\n        toggle_class(\n          div3,\n          \"bytemd-hidden\",\n          /*sidebar*/\n          ctx2[9] === false\n        );\n      }\n      const status_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        status_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*overridePreview, split*/\n      2064)\n        status_changes.showSync = !/*overridePreview*/\n        ctx2[4] && /*split*/\n        ctx2[11];\n      if (dirty[0] & /*debouncedValue*/\n      65536)\n        status_changes.value = /*debouncedValue*/\n        ctx2[16];\n      if (dirty[0] & /*syncEnabled*/\n      131072)\n        status_changes.syncEnabled = /*syncEnabled*/\n        ctx2[17];\n      if (dirty[0] & /*value, maxLength*/\n      33)\n        status_changes.islimited = /*value*/\n        ctx2[0].length > /*maxLength*/\n        ctx2[5];\n      status.$set(status_changes);\n      if (!current || dirty[0] & /*split, activeTab*/\n      2304) {\n        toggle_class(\n          div5,\n          \"bytemd-split\",\n          /*split*/\n          ctx2[11] && /*activeTab*/\n          ctx2[8] === false\n        );\n      }\n      if (!current || dirty[0] & /*fullscreen*/\n      32768) {\n        toggle_class(\n          div5,\n          \"bytemd-fullscreen\",\n          /*fullscreen*/\n          ctx2[15]\n        );\n      }\n    },\n    i(local) {\n      if (current)\n        return;\n      transition_in(toolbar.$$.fragment, local);\n      transition_in(if_block);\n      transition_in(help2.$$.fragment, local);\n      transition_in(toc2.$$.fragment, local);\n      transition_in(status.$$.fragment, local);\n      current = true;\n    },\n    o(local) {\n      transition_out(toolbar.$$.fragment, local);\n      transition_out(if_block);\n      transition_out(help2.$$.fragment, local);\n      transition_out(toc2.$$.fragment, local);\n      transition_out(status.$$.fragment, local);\n      current = false;\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div5);\n      destroy_component(toolbar);\n      ctx[34](null);\n      if (if_block)\n        if_block.d();\n      ctx[36](null);\n      destroy_component(help2);\n      destroy_component(toc2);\n      destroy_component(status);\n      ctx[42](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance($$self, $$props, $$invalidate) {\n  let mergedLocale;\n  let actions;\n  let split;\n  let styles;\n  let context;\n  let { value = \"\" } = $$props;\n  let { plugins = [] } = $$props;\n  let { sanitize = void 0 } = $$props;\n  let { remarkRehype: remarkRehype2 = void 0 } = $$props;\n  let { mode = \"auto\" } = $$props;\n  let { previewDebounce = 300 } = $$props;\n  let { placeholder = void 0 } = $$props;\n  let { editorConfig = void 0 } = $$props;\n  let { locale = void 0 } = $$props;\n  let { uploadImages = void 0 } = $$props;\n  let { overridePreview = void 0 } = $$props;\n  let { maxLength = Infinity } = $$props;\n  const dispatch = createEventDispatcher();\n  let root;\n  let editorEl;\n  let previewEl;\n  let containerWidth = Infinity;\n  let codemirror;\n  let editor;\n  let activeTab;\n  let fullscreen2 = false;\n  let sidebar = false;\n  let cbs = [];\n  let keyMap = {};\n  function on() {\n    cbs = plugins.map((p) => {\n      var _a;\n      return (_a = p.editorEffect) == null ? void 0 : _a.call(p, context);\n    });\n    keyMap = {};\n    actions.leftActions.forEach(({ handler }) => {\n      if ((handler == null ? void 0 : handler.type) === \"action\" && handler.shortcut) {\n        keyMap[handler.shortcut] = () => {\n          handler.click(context);\n        };\n      }\n    });\n    editor.addKeyMap(keyMap);\n  }\n  function off() {\n    cbs.forEach((cb) => cb && cb());\n    editor == null ? void 0 : editor.removeKeyMap(keyMap);\n  }\n  let debouncedValue = value;\n  const setDebouncedValue = debounce(\n    (value2) => {\n      $$invalidate(16, debouncedValue = value2);\n      overridePreview == null ? void 0 : overridePreview(previewEl, {\n        value: debouncedValue,\n        plugins,\n        sanitize,\n        remarkRehype: remarkRehype2\n      });\n    },\n    previewDebounce\n  );\n  let syncEnabled = true;\n  let editCalled = false;\n  let previewCalled = false;\n  let editPs;\n  let previewPs;\n  let hast = { type: \"root\", children: [] };\n  let vfile;\n  let currentBlockIndex = 0;\n  onMount(async () => {\n    $$invalidate(30, codemirror = createCodeMirror());\n    $$invalidate(7, editor = codemirror(editorEl, {\n      value,\n      mode: \"yaml-frontmatter\",\n      lineWrapping: true,\n      tabSize: 8,\n      indentUnit: 4,\n      extraKeys: {\n        Enter: \"newlineAndIndentContinueMarkdownList\"\n      },\n      ...editorConfig,\n      placeholder\n    }));\n    editor.addKeyMap({\n      Tab: \"indentMore\",\n      \"Shift-Tab\": \"indentLess\"\n    });\n    editor.on(\"change\", () => {\n      dispatch(\"change\", { value: editor.getValue() });\n    });\n    const updateBlockPositions = throttle(\n      () => {\n        editPs = [];\n        previewPs = [];\n        const scrollInfo = editor.getScrollInfo();\n        const body = previewEl.childNodes[0];\n        if (!(body instanceof HTMLElement))\n          return;\n        const leftNodes = hast.children.filter((v) => v.type === \"element\");\n        const rightNodes = [...body.childNodes].filter((v) => v instanceof HTMLElement);\n        for (let i = 0; i < leftNodes.length; i++) {\n          const leftNode = leftNodes[i];\n          const rightNode = rightNodes[i];\n          if (!leftNode.position) {\n            continue;\n          }\n          const left = editor.heightAtLine(leftNode.position.start.line - 1, \"local\") / (scrollInfo.height - scrollInfo.clientHeight);\n          const right = (rightNode.offsetTop - body.offsetTop) / (previewEl.scrollHeight - previewEl.clientHeight);\n          if (left >= 1 || right >= 1) {\n            break;\n          }\n          editPs.push(left);\n          previewPs.push(right);\n        }\n        editPs.push(1);\n        previewPs.push(1);\n      },\n      1e3\n    );\n    const editorScrollHandler = () => {\n      if (overridePreview)\n        return;\n      if (!syncEnabled)\n        return;\n      if (previewCalled) {\n        previewCalled = false;\n        return;\n      }\n      updateBlockPositions();\n      const info = editor.getScrollInfo();\n      const leftRatio = info.top / (info.height - info.clientHeight);\n      const startIndex = findStartIndex(leftRatio, editPs);\n      const rightRatio = (leftRatio - editPs[startIndex]) * (previewPs[startIndex + 1] - previewPs[startIndex]) / (editPs[startIndex + 1] - editPs[startIndex]) + previewPs[startIndex];\n      previewEl.scrollTo(0, rightRatio * (previewEl.scrollHeight - previewEl.clientHeight));\n      editCalled = true;\n    };\n    const previewScrollHandler = () => {\n      if (overridePreview)\n        return;\n      updateBlockPositions();\n      $$invalidate(20, currentBlockIndex = findStartIndex(previewEl.scrollTop / (previewEl.scrollHeight - previewEl.offsetHeight), previewPs));\n      if (!syncEnabled)\n        return;\n      if (editCalled) {\n        editCalled = false;\n        return;\n      }\n      const rightRatio = previewEl.scrollTop / (previewEl.scrollHeight - previewEl.clientHeight);\n      const startIndex = findStartIndex(rightRatio, previewPs);\n      const leftRatio = (rightRatio - previewPs[startIndex]) * (editPs[startIndex + 1] - editPs[startIndex]) / (previewPs[startIndex + 1] - previewPs[startIndex]) + editPs[startIndex];\n      if (isNaN(leftRatio)) {\n        return;\n      }\n      const info = editor.getScrollInfo();\n      editor.scrollTo(0, leftRatio * (info.height - info.clientHeight));\n      previewCalled = true;\n    };\n    editor.on(\"scroll\", editorScrollHandler);\n    previewEl.addEventListener(\"scroll\", previewScrollHandler, { passive: true });\n    const handleImages = async (e, itemList) => {\n      if (!uploadImages)\n        return;\n      const files = Array.from(itemList != null ? itemList : []).map((item) => {\n        if (item.type.startsWith(\"image/\")) {\n          return item.getAsFile();\n        }\n      }).filter((f) => f != null);\n      if (files.length) {\n        e.preventDefault();\n        await handleImageUpload(context, uploadImages, files);\n      }\n    };\n    editor.on(\"drop\", async (_, e) => {\n      var _a;\n      handleImages(e, (_a = e.dataTransfer) == null ? void 0 : _a.items);\n    });\n    editor.on(\"paste\", async (_, e) => {\n      var _a;\n      handleImages(e, (_a = e.clipboardData) == null ? void 0 : _a.items);\n    });\n    new ResizeObserver((entries) => {\n      $$invalidate(29, containerWidth = entries[0].contentRect.width);\n    }).observe(root, {\n      box: \"border-box\"\n      // console.log(containerWidth);\n    });\n  });\n  onDestroy(off);\n  const key_handler = (e) => {\n    editor.setOption(\"keyMap\", e.detail);\n    editor.focus();\n  };\n  const tab_handler = (e) => {\n    const v = e.detail;\n    if (split) {\n      $$invalidate(8, activeTab = activeTab === v ? false : v);\n    } else {\n      $$invalidate(8, activeTab = v);\n    }\n    if (activeTab === \"write\") {\n      tick().then(() => {\n        editor && editor.focus();\n      });\n    }\n    if (v === \"write\") {\n      tick().then(() => {\n        editor && editor.setSize(null, null);\n      });\n    }\n  };\n  const click_handler = (e) => {\n    switch (e.detail) {\n      case \"fullscreen\":\n        $$invalidate(15, fullscreen2 = !fullscreen2);\n        break;\n      case \"help\":\n        $$invalidate(9, sidebar = sidebar === \"help\" ? false : \"help\");\n        break;\n      case \"toc\":\n        $$invalidate(9, sidebar = sidebar === \"toc\" ? false : \"toc\");\n        break;\n    }\n  };\n  function div0_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      editorEl = $$value;\n      $$invalidate(13, editorEl);\n    });\n  }\n  const hast_handler = (e) => {\n    $$invalidate(18, hast = e.detail.hast);\n    $$invalidate(19, vfile = e.detail.file);\n  };\n  function div1_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      previewEl = $$value;\n      $$invalidate(14, previewEl);\n    });\n  }\n  const click_handler_1 = () => {\n    $$invalidate(9, sidebar = false);\n  };\n  const keydown_handler = (e) => {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      $$invalidate(9, sidebar = false);\n    }\n  };\n  const click_handler_2 = (e) => {\n    const headings = previewEl.querySelectorAll(\"h1,h2,h3,h4,h5,h6\");\n    headings[e.detail].scrollIntoView();\n  };\n  const sync_handler = (e) => {\n    $$invalidate(17, syncEnabled = e.detail);\n  };\n  const top_handler = () => {\n    editor.scrollTo(null, 0);\n    previewEl.scrollTo({ top: 0 });\n  };\n  function div5_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      root = $$value;\n      $$invalidate(6, root);\n    });\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"value\" in $$props2)\n      $$invalidate(0, value = $$props2.value);\n    if (\"plugins\" in $$props2)\n      $$invalidate(1, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2)\n      $$invalidate(2, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2)\n      $$invalidate(3, remarkRehype2 = $$props2.remarkRehype);\n    if (\"mode\" in $$props2)\n      $$invalidate(23, mode = $$props2.mode);\n    if (\"previewDebounce\" in $$props2)\n      $$invalidate(24, previewDebounce = $$props2.previewDebounce);\n    if (\"placeholder\" in $$props2)\n      $$invalidate(25, placeholder = $$props2.placeholder);\n    if (\"editorConfig\" in $$props2)\n      $$invalidate(26, editorConfig = $$props2.editorConfig);\n    if (\"locale\" in $$props2)\n      $$invalidate(27, locale = $$props2.locale);\n    if (\"uploadImages\" in $$props2)\n      $$invalidate(28, uploadImages = $$props2.uploadImages);\n    if (\"overridePreview\" in $$props2)\n      $$invalidate(4, overridePreview = $$props2.overridePreview);\n    if (\"maxLength\" in $$props2)\n      $$invalidate(5, maxLength = $$props2.maxLength);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty[0] & /*locale*/\n    134217728) {\n      $$invalidate(12, mergedLocale = { ...en, ...locale });\n    }\n    if ($$self.$$.dirty[0] & /*mergedLocale, plugins, uploadImages*/\n    268439554) {\n      $$invalidate(21, actions = getBuiltinActions(mergedLocale, plugins, uploadImages));\n    }\n    if ($$self.$$.dirty[0] & /*mode, containerWidth*/\n    545259520) {\n      $$invalidate(11, split = mode === \"split\" || mode === \"auto\" && containerWidth >= 800);\n    }\n    if ($$self.$$.dirty[0] & /*split*/\n    2048) {\n      ((_) => {\n        if (split)\n          $$invalidate(8, activeTab = false);\n      })();\n    }\n    if ($$self.$$.dirty[0] & /*split, activeTab, sidebar*/\n    2816) {\n      $$invalidate(22, styles = (() => {\n        let edit;\n        let preview2;\n        if (split && activeTab === false) {\n          if (sidebar) {\n            edit = `width:calc(50% - ${sidebar ? 140 : 0}px)`;\n            preview2 = `width:calc(50% - ${sidebar ? 140 : 0}px)`;\n          } else {\n            edit = \"width:50%\";\n            preview2 = \"width:50%\";\n          }\n        } else if (activeTab === \"preview\") {\n          edit = \"display:none\";\n          preview2 = `width:calc(100% - ${sidebar ? 280 : 0}px)`;\n        } else {\n          edit = `width:calc(100% - ${sidebar ? 280 : 0}px)`;\n          preview2 = \"display:none\";\n        }\n        return { edit, preview: preview2 };\n      })());\n    }\n    if ($$self.$$.dirty[0] & /*codemirror, editor, root*/\n    1073742016) {\n      $$invalidate(10, context = (() => {\n        const context2 = {\n          // @ts-ignore\n          codemirror,\n          editor,\n          root,\n          // @ts-ignore\n          ...createEditorUtils(codemirror, editor)\n        };\n        return context2;\n      })());\n    }\n    if ($$self.$$.dirty[0] & /*value*/\n    1) {\n      setDebouncedValue(value);\n    }\n    if ($$self.$$.dirty[0] & /*editor, value*/\n    129) {\n      if (editor && value !== editor.getValue()) {\n        editor.setValue(value);\n      }\n    }\n    if ($$self.$$.dirty[0] & /*editor, plugins*/\n    130) {\n      if (editor && plugins) {\n        off();\n        tick().then(() => {\n          on();\n        });\n      }\n    }\n  };\n  return [\n    value,\n    plugins,\n    sanitize,\n    remarkRehype2,\n    overridePreview,\n    maxLength,\n    root,\n    editor,\n    activeTab,\n    sidebar,\n    context,\n    split,\n    mergedLocale,\n    editorEl,\n    previewEl,\n    fullscreen2,\n    debouncedValue,\n    syncEnabled,\n    hast,\n    vfile,\n    currentBlockIndex,\n    actions,\n    styles,\n    mode,\n    previewDebounce,\n    placeholder,\n    editorConfig,\n    locale,\n    uploadImages,\n    containerWidth,\n    codemirror,\n    key_handler,\n    tab_handler,\n    click_handler,\n    div0_binding,\n    hast_handler,\n    div1_binding,\n    click_handler_1,\n    keydown_handler,\n    click_handler_2,\n    sync_handler,\n    top_handler,\n    div5_binding\n  ];\n}\nclass Editor extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(\n      this,\n      options,\n      instance,\n      create_fragment,\n      not_equal,\n      {\n        value: 0,\n        plugins: 1,\n        sanitize: 2,\n        remarkRehype: 3,\n        mode: 23,\n        previewDebounce: 24,\n        placeholder: 25,\n        editorConfig: 26,\n        locale: 27,\n        uploadImages: 28,\n        overridePreview: 4,\n        maxLength: 5\n      },\n      null,\n      [-1, -1]\n    );\n  }\n}\nexport {\n  Editor,\n  Viewer,\n  getProcessor\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}