{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, inject, toRefs, computed, ref, reactive, watch, watchEffect, provide, onMounted, createVNode, Fragment, mergeProps, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isObject, isFunction, isNumber, isUndefined, isNull, isString, isArray } from \"../_utils/is.js\";\nimport { debounce } from \"../_utils/debounce.js\";\nimport { getGroupColumns, mapArrayWithChildren, mapRawTableData } from \"./utils.js\";\nimport { useRowSelection } from \"./hooks/use-row-selection.js\";\nimport { useExpand } from \"./hooks/use-expand.js\";\nimport { usePagination } from \"./hooks/use-pagination.js\";\nimport IconPlus from \"../icon/icon-plus/index.js\";\nimport IconMinus from \"../icon/icon-minus/index.js\";\nimport Spin from \"../spin/index.js\";\nimport Pagination from \"../pagination/index.js\";\nimport Empty from \"../empty/index.js\";\nimport ColGroup from \"./table-col-group.js\";\nimport Thead from \"./table-thead.js\";\nimport Tbody from \"./table-tbody.js\";\nimport Tr from \"./table-tr.js\";\nimport Th from \"./table-th.js\";\nimport Td from \"./table-td.js\";\nimport OperationTh from \"./table-operation-th.js\";\nimport OperationTd from \"./table-operation-td.js\";\nimport VirtualList from \"../_components/virtual-list-v2/virtual-list.js\";\nimport ResizeObserver from \"../_components/resize-observer.js\";\nimport { omit } from \"../_utils/omit.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport { useDrag } from \"./hooks/use-drag.js\";\nimport { useColumnResize } from \"./hooks/use-column-resize.js\";\nimport { tableInjectionKey } from \"./context.js\";\nimport { useFilter } from \"./hooks/use-filter.js\";\nimport { useSorter } from \"./hooks/use-sorter.js\";\nimport \"../_components/client-only.js\";\nimport { useSpan } from \"./hooks/use-span.js\";\nimport { useChildrenComponents } from \"../_hooks/use-children-components.js\";\nimport Scrollbar from \"../scrollbar/index.js\";\nimport { useComponentRef } from \"../_hooks/use-component-ref.js\";\nimport { useScrollbar } from \"../_hooks/use-scrollbar.js\";\nimport { getValueByPath, setValueByPath } from \"../_utils/get-value-by-path.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nconst DEFAULT_BORDERED = {\n  wrapper: true,\n  cell: false,\n  headerCell: false,\n  bodyCell: false\n};\nvar _Table = defineComponent({\n  name: \"Table\",\n  props: {\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    },\n    bordered: {\n      type: [Boolean, Object],\n      default: true\n    },\n    hoverable: {\n      type: Boolean,\n      default: true\n    },\n    stripe: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: () => {\n        var _a, _b;\n        return (_b = (_a = inject(configProviderInjectionKey, void 0)) == null ? void 0 : _a.size) != null ? _b : \"large\";\n      }\n    },\n    tableLayoutFixed: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: [Boolean, Object],\n      default: false\n    },\n    rowSelection: {\n      type: Object\n    },\n    expandable: {\n      type: Object\n    },\n    scroll: {\n      type: Object\n    },\n    pagination: {\n      type: [Boolean, Object],\n      default: true\n    },\n    pagePosition: {\n      type: String,\n      default: \"br\"\n    },\n    indentSize: {\n      type: Number,\n      default: 16\n    },\n    rowKey: {\n      type: String,\n      default: \"key\"\n    },\n    showHeader: {\n      type: Boolean,\n      default: true\n    },\n    virtualListProps: {\n      type: Object\n    },\n    spanMethod: {\n      type: Function\n    },\n    spanAll: {\n      type: Boolean,\n      default: false\n    },\n    components: {\n      type: Object\n    },\n    loadMore: {\n      type: Function\n    },\n    filterIconAlignLeft: {\n      type: Boolean,\n      default: false\n    },\n    hideExpandButtonOnEmpty: {\n      type: Boolean,\n      default: false\n    },\n    rowClass: {\n      type: [String, Array, Object, Function]\n    },\n    draggable: {\n      type: Object\n    },\n    rowNumber: {\n      type: [Boolean, Object]\n    },\n    columnResizable: {\n      type: Boolean\n    },\n    summary: {\n      type: [Boolean, Function]\n    },\n    summaryText: {\n      type: String,\n      default: \"Summary\"\n    },\n    summarySpanMethod: {\n      type: Function\n    },\n    selectedKeys: {\n      type: Array\n    },\n    defaultSelectedKeys: {\n      type: Array\n    },\n    expandedKeys: {\n      type: Array\n    },\n    defaultExpandedKeys: {\n      type: Array\n    },\n    defaultExpandAllRows: {\n      type: Boolean,\n      default: false\n    },\n    stickyHeader: {\n      type: [Boolean, Number],\n      default: false\n    },\n    scrollbar: {\n      type: [Object, Boolean],\n      default: true\n    },\n    showEmptyTree: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:selectedKeys\": rowKeys => true,\n    \"update:expandedKeys\": rowKeys => true,\n    \"expand\": (rowKey, record) => true,\n    \"expandedChange\": rowKeys => true,\n    \"select\": (rowKeys, rowKey, record) => true,\n    \"selectAll\": checked => true,\n    \"selectionChange\": rowKeys => true,\n    \"sorterChange\": (dataIndex, direction) => true,\n    \"filterChange\": (dataIndex, filteredValues) => true,\n    \"pageChange\": page => true,\n    \"pageSizeChange\": pageSize => true,\n    \"change\": (data, extra, currentData) => true,\n    \"cellMouseEnter\": (record, column, ev) => true,\n    \"cellMouseLeave\": (record, column, ev) => true,\n    \"cellClick\": (record, column, ev) => true,\n    \"rowClick\": (record, ev) => true,\n    \"headerClick\": (column, ev) => true,\n    \"columnResize\": (dataIndex, width) => true,\n    \"rowDblclick\": (record, ev) => true,\n    \"cellDblclick\": (record, column, ev) => true,\n    \"rowContextmenu\": (record, ev) => true,\n    \"cellContextmenu\": (record, column, ev) => true\n  },\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      columns,\n      rowKey,\n      rowSelection,\n      expandable,\n      loadMore,\n      filterIconAlignLeft,\n      selectedKeys,\n      defaultSelectedKeys,\n      expandedKeys,\n      defaultExpandedKeys,\n      defaultExpandAllRows,\n      spanMethod,\n      draggable,\n      summarySpanMethod,\n      scrollbar,\n      showEmptyTree\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"table\");\n    const configCtx = inject(configProviderInjectionKey, void 0);\n    const bordered = computed(() => {\n      if (isObject(props.bordered)) {\n        return __spreadValues(__spreadValues({}, DEFAULT_BORDERED), props.bordered);\n      }\n      return __spreadProps(__spreadValues({}, DEFAULT_BORDERED), {\n        wrapper: props.bordered\n      });\n    });\n    const {\n      children,\n      components\n    } = useChildrenComponents(\"TableColumn\");\n    const checkStrictly = computed(() => {\n      var _a, _b;\n      return (_b = (_a = rowSelection.value) == null ? void 0 : _a.checkStrictly) != null ? _b : true;\n    });\n    const {\n      displayScrollbar,\n      scrollbarProps\n    } = useScrollbar(scrollbar);\n    const isScroll = computed(() => {\n      var _a, _b, _c, _d;\n      const x = Boolean(((_a = props.scroll) == null ? void 0 : _a.x) || ((_b = props.scroll) == null ? void 0 : _b.minWidth));\n      const y = Boolean(((_c = props.scroll) == null ? void 0 : _c.y) || ((_d = props.scroll) == null ? void 0 : _d.maxHeight));\n      return {\n        x,\n        y\n      };\n    });\n    const summaryRef = ref();\n    const thRefs = ref({});\n    const {\n      componentRef: contentComRef,\n      elementRef: contentRef\n    } = useComponentRef(\"containerRef\");\n    const {\n      componentRef: tbodyComRef,\n      elementRef: tbodyRef\n    } = useComponentRef(\"containerRef\");\n    const {\n      componentRef: virtualComRef,\n      elementRef: virtualRef\n    } = useComponentRef(\"viewportRef\");\n    const {\n      componentRef: theadComRef,\n      elementRef: theadRef\n    } = useComponentRef(\"containerRef\");\n    const containerElement = computed(() => {\n      if (splitTable.value) {\n        if (isVirtualList.value) {\n          return virtualRef.value;\n        }\n        return tbodyRef.value;\n      }\n      return contentRef.value;\n    });\n    const splitTable = computed(() => isScroll.value.y || props.stickyHeader || isVirtualList.value || isScroll.value.x && flattenData.value.length === 0);\n    const slotColumnMap = reactive(new Map());\n    const slotColumns = ref();\n    watch([components, slotColumnMap], ([components2, slotColumnMap2]) => {\n      if (components2.length > 0) {\n        const columns2 = [];\n        components2.forEach(id => {\n          const column = slotColumnMap2.get(id);\n          if (column) columns2.push(column);\n        });\n        slotColumns.value = columns2;\n      } else {\n        slotColumns.value = void 0;\n      }\n    });\n    const dataColumnMap = new Map();\n    const dataColumns = ref([]);\n    const groupColumns = ref([]);\n    const {\n      resizingColumn,\n      columnWidth,\n      handleThMouseDown\n    } = useColumnResize(thRefs, emit);\n    watch([columns, slotColumns, columnWidth], ([columns2, slotColumns2]) => {\n      var _a;\n      const result = getGroupColumns((_a = slotColumns2 != null ? slotColumns2 : columns2) != null ? _a : [], dataColumnMap, columnWidth);\n      dataColumns.value = result.dataColumns;\n      groupColumns.value = result.groupColumns;\n    }, {\n      immediate: true,\n      deep: true\n    });\n    const isPaginationTop = computed(() => [\"tl\", \"top\", \"tr\"].includes(props.pagePosition));\n    const hasLeftFixedColumn = ref(false);\n    const hasRightFixedColumn = ref(false);\n    const hasLeftFixedDataColumns = ref(false);\n    watchEffect(() => {\n      var _a, _b, _c;\n      let _hasLeftFixedColumn = false;\n      let _hasRightFixedColumn = false;\n      let _hasLeftFixedDataColumns = false;\n      if (((_a = props.rowSelection) == null ? void 0 : _a.fixed) || ((_b = props.expandable) == null ? void 0 : _b.fixed) || ((_c = props.draggable) == null ? void 0 : _c.fixed)) {\n        _hasLeftFixedColumn = true;\n      }\n      for (const column of dataColumns.value) {\n        if (column.fixed === \"left\") {\n          _hasLeftFixedColumn = true;\n          _hasLeftFixedDataColumns = true;\n        } else if (column.fixed === \"right\") {\n          _hasRightFixedColumn = true;\n        }\n      }\n      if (_hasLeftFixedColumn !== hasLeftFixedColumn.value) {\n        hasLeftFixedColumn.value = _hasLeftFixedColumn;\n      }\n      if (_hasRightFixedColumn !== hasRightFixedColumn.value) {\n        hasRightFixedColumn.value = _hasRightFixedColumn;\n      }\n      if (_hasLeftFixedDataColumns !== hasLeftFixedDataColumns.value) {\n        hasLeftFixedDataColumns.value = _hasLeftFixedDataColumns;\n      }\n    });\n    const hasEllipsis = computed(() => {\n      for (const col of dataColumns.value) {\n        if (col.ellipsis) {\n          return true;\n        }\n      }\n      return false;\n    });\n    const handleChange = type => {\n      const extra = {\n        type,\n        page: page.value,\n        pageSize: pageSize.value,\n        sorter: computedSorter.value,\n        filters: computedFilters.value,\n        dragTarget: type === \"drag\" ? dragState.data : void 0\n      };\n      emit(\"change\", flattenRawData.value, extra, sortedData.value);\n    };\n    const handleFilterChange = (dataIndex, filteredValues) => {\n      _filters.value = __spreadProps(__spreadValues({}, computedFilters.value), {\n        [dataIndex]: filteredValues\n      });\n      emit(\"filterChange\", dataIndex, filteredValues);\n      handleChange(\"filter\");\n    };\n    const handleSorterChange = (dataIndex, direction) => {\n      _sorter.value = direction ? {\n        field: dataIndex,\n        direction\n      } : void 0;\n      emit(\"sorterChange\", dataIndex, direction);\n      handleChange(\"sorter\");\n    };\n    const {\n      _filters,\n      computedFilters,\n      resetFilters,\n      clearFilters\n    } = useFilter({\n      columns: dataColumns,\n      onFilterChange: handleFilterChange\n    });\n    const {\n      _sorter,\n      computedSorter,\n      resetSorters,\n      clearSorters\n    } = useSorter({\n      columns: dataColumns,\n      onSorterChange: handleSorterChange\n    });\n    const disabledKeys = new Set();\n    const allRowKeys = computed(() => {\n      const allRowKeys2 = [];\n      disabledKeys.clear();\n      const travelData = data => {\n        if (isArray(data) && data.length > 0) {\n          for (const record of data) {\n            allRowKeys2.push(record[rowKey.value]);\n            if (record.disabled) {\n              disabledKeys.add(record[rowKey.value]);\n            }\n            if (record.children) {\n              travelData(record.children);\n            }\n          }\n        }\n      };\n      travelData(props.data);\n      return allRowKeys2;\n    });\n    const currentAllRowKeys = computed(() => {\n      const keys = [];\n      const travel = data => {\n        for (const record of data) {\n          keys.push(record.key);\n          if (record.children) {\n            travel(record.children);\n          }\n        }\n      };\n      travel(flattenData.value);\n      return keys;\n    });\n    const currentAllEnabledRowKeys = computed(() => {\n      const keys = [];\n      const travel = data => {\n        for (const record of data) {\n          if (!record.disabled) {\n            keys.push(record.key);\n          }\n          if (record.children) {\n            travel(record.children);\n          }\n        }\n      };\n      travel(flattenData.value);\n      return keys;\n    });\n    const {\n      isRadio,\n      selectedRowKeys,\n      currentSelectedRowKeys,\n      handleSelect,\n      handleSelectAllLeafs,\n      handleSelectAll,\n      select,\n      selectAll,\n      clearSelected\n    } = useRowSelection({\n      selectedKeys,\n      defaultSelectedKeys,\n      rowSelection,\n      currentAllRowKeys,\n      currentAllEnabledRowKeys,\n      emit\n    });\n    const {\n      expandedRowKeys,\n      handleExpand,\n      expand,\n      expandAll\n    } = useExpand({\n      expandedKeys,\n      defaultExpandedKeys,\n      defaultExpandAllRows,\n      expandable,\n      allRowKeys,\n      emit\n    });\n    const lazyLoadData = reactive({});\n    const addLazyLoadData = (children2, record) => {\n      if (children2) {\n        lazyLoadData[record.key] = children2;\n      }\n    };\n    const isValidRecord = record => {\n      var _a, _b;\n      for (const field of Object.keys(computedFilters.value)) {\n        const filteredValues = computedFilters.value[field];\n        const column = dataColumnMap.get(field);\n        if (column && ((_a = column.filterable) == null ? void 0 : _a.filter) && filteredValues.length > 0) {\n          const result = (_b = column.filterable) == null ? void 0 : _b.filter(filteredValues, record.raw);\n          if (!result) {\n            return result;\n          }\n        }\n      }\n      return true;\n    };\n    const {\n      dragType,\n      dragState,\n      handleDragStart,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragover,\n      handleDragEnd,\n      handleDrop\n    } = useDrag(draggable);\n    const processedData = computed(() => {\n      var _a;\n      const travel = data => {\n        const result = [];\n        for (const _record of data) {\n          const record = {\n            raw: _record,\n            key: _record[props.rowKey],\n            disabled: _record.disabled,\n            expand: _record.expand,\n            isLeaf: _record.isLeaf\n          };\n          if (_record.children) {\n            record.isLeaf = false;\n            record.children = travel(_record.children);\n          } else if (props.loadMore && !_record.isLeaf) {\n            record.isLeaf = false;\n            if (lazyLoadData[record.key]) {\n              record.children = travel(lazyLoadData[record.key]);\n            }\n          } else {\n            record.isLeaf = true;\n          }\n          record.hasSubtree = Boolean(record.children ? props.hideExpandButtonOnEmpty ? record.children.length > 0 : true : props.loadMore && !record.isLeaf);\n          result.push(record);\n        }\n        return result;\n      };\n      return travel((_a = props.data) != null ? _a : []);\n    });\n    const validData = computed(() => {\n      const travel = data => data.filter(record => {\n        if (isValidRecord(record)) {\n          if (record.children) {\n            record.children = travel(record.children);\n          }\n          return true;\n        }\n        return false;\n      });\n      return Object.keys(computedFilters.value).length > 0 ? travel(processedData.value) : processedData.value;\n    });\n    const sortedData = computed(() => {\n      var _a, _b, _c;\n      const data = mapArrayWithChildren(validData.value);\n      if (data.length > 0) {\n        if ((_a = computedSorter.value) == null ? void 0 : _a.field) {\n          const column = dataColumnMap.get(computedSorter.value.field);\n          if (column && ((_b = column.sortable) == null ? void 0 : _b.sorter) !== true) {\n            const {\n              field,\n              direction\n            } = computedSorter.value;\n            data.sort((a, b) => {\n              var _a2;\n              const valueA = getValueByPath(a.raw, field);\n              const valueB = getValueByPath(b.raw, field);\n              if (((_a2 = column.sortable) == null ? void 0 : _a2.sorter) && isFunction(column.sortable.sorter)) {\n                return column.sortable.sorter(a.raw, b.raw, {\n                  dataIndex: field,\n                  direction\n                });\n              }\n              const result = valueA > valueB ? 1 : -1;\n              return direction === \"descend\" ? -result : result;\n            });\n          }\n        }\n        const {\n          sourcePath,\n          targetPath\n        } = dragState;\n        if (dragState.dragging && targetPath.length && targetPath.toString() !== sourcePath.toString()) {\n          if (sourcePath.length === targetPath.length && sourcePath.slice(0, -1).toString() === targetPath.slice(0, -1).toString()) {\n            let children2 = data;\n            for (let i = 0; i < sourcePath.length; i++) {\n              const sourceIndex = sourcePath[i];\n              const isLast = i >= sourcePath.length - 1;\n              if (isLast) {\n                const sourceChild = children2[sourceIndex];\n                const targetIndex = targetPath[i];\n                if (targetIndex > sourceIndex) {\n                  children2.splice(targetIndex + 1, 0, sourceChild);\n                  children2.splice(sourceIndex, 1);\n                } else {\n                  children2.splice(targetIndex, 0, sourceChild);\n                  children2.splice(sourceIndex + 1, 1);\n                }\n              } else {\n                children2 = (_c = children2[sourceIndex].children) != null ? _c : [];\n              }\n            }\n          }\n        }\n      }\n      return data;\n    });\n    const {\n      page,\n      pageSize,\n      handlePageChange,\n      handlePageSizeChange\n    } = usePagination(props, emit);\n    const onlyCurrent = computed(() => {\n      var _a, _b;\n      return (_b = (_a = rowSelection.value) == null ? void 0 : _a.onlyCurrent) != null ? _b : false;\n    });\n    watch(page, (cur, pre) => {\n      if (cur !== pre && onlyCurrent.value) {\n        clearSelected();\n      }\n    });\n    const flattenData = computed(() => {\n      if (props.pagination && sortedData.value.length > pageSize.value) {\n        return sortedData.value.slice((page.value - 1) * pageSize.value, page.value * pageSize.value);\n      }\n      return sortedData.value;\n    });\n    const flattenRawData = computed(() => mapRawTableData(flattenData.value));\n    const getSummaryData = () => {\n      return dataColumns.value.reduce((per, column, index) => {\n        if (column.dataIndex) {\n          if (index === 0) {\n            setValueByPath(per, column.dataIndex, props.summaryText, {\n              addPath: true\n            });\n          } else {\n            let count = 0;\n            let isNotNumber = false;\n            flattenData.value.forEach(data => {\n              if (column.dataIndex) {\n                const _number = getValueByPath(data.raw, column.dataIndex);\n                if (isNumber(_number)) {\n                  count += _number;\n                } else if (!isUndefined(_number) && !isNull(_number)) {\n                  isNotNumber = true;\n                }\n              }\n            });\n            setValueByPath(per, column.dataIndex, isNotNumber ? \"\" : count, {\n              addPath: true\n            });\n          }\n        }\n        return per;\n      }, {});\n    };\n    const getTableDataWithRaw = data => {\n      if (data && data.length > 0) {\n        return data.map(raw => {\n          return {\n            raw,\n            key: raw[props.rowKey]\n          };\n        });\n      }\n      return [];\n    };\n    const summaryData = computed(() => {\n      if (props.summary) {\n        if (isFunction(props.summary)) {\n          return getTableDataWithRaw(props.summary({\n            columns: dataColumns.value,\n            data: flattenRawData.value\n          }));\n        }\n        return getTableDataWithRaw([getSummaryData()]);\n      }\n      return [];\n    });\n    const containerScrollLeft = ref(0);\n    const alignLeft = ref(true);\n    const alignRight = ref(true);\n    const setAlignPosition = () => {\n      let _alignLeft = true;\n      let _alignRight = true;\n      const scrollContainer = containerElement.value;\n      if (scrollContainer) {\n        _alignLeft = containerScrollLeft.value === 0;\n        _alignRight = Math.ceil(containerScrollLeft.value + scrollContainer.offsetWidth) >= scrollContainer.scrollWidth;\n      }\n      if (_alignLeft !== alignLeft.value) {\n        alignLeft.value = _alignLeft;\n      }\n      if (_alignRight !== alignRight.value) {\n        alignRight.value = _alignRight;\n      }\n    };\n    const getTableScrollCls = () => {\n      if (alignLeft.value && alignRight.value) {\n        return `${prefixCls}-scroll-position-both`;\n      }\n      if (alignLeft.value) {\n        return `${prefixCls}-scroll-position-left`;\n      }\n      if (alignRight.value) {\n        return `${prefixCls}-scroll-position-right`;\n      }\n      return `${prefixCls}-scroll-position-middle`;\n    };\n    const getTableFixedCls = () => {\n      const cls2 = [];\n      if (hasLeftFixedColumn.value) {\n        cls2.push(`${prefixCls}-has-fixed-col-left`);\n      }\n      if (hasRightFixedColumn.value) {\n        cls2.push(`${prefixCls}-has-fixed-col-right`);\n      }\n      return cls2;\n    };\n    const handleScroll = e => {\n      if (e.target.scrollLeft !== containerScrollLeft.value) {\n        containerScrollLeft.value = e.target.scrollLeft;\n      }\n      setAlignPosition();\n    };\n    const onTbodyScroll = e => {\n      handleScroll(e);\n      const {\n        scrollLeft\n      } = e.target;\n      if (theadRef.value) {\n        theadRef.value.scrollLeft = scrollLeft;\n      }\n      if (summaryRef.value) {\n        summaryRef.value.scrollLeft = scrollLeft;\n      }\n    };\n    const handleRowClick = (record, ev) => {\n      emit(\"rowClick\", record.raw, ev);\n    };\n    const handleRowDblclick = (record, ev) => {\n      emit(\"rowDblclick\", record.raw, ev);\n    };\n    const handleRowContextMenu = (record, ev) => {\n      emit(\"rowContextmenu\", record.raw, ev);\n    };\n    const handleCellClick = (record, column, ev) => {\n      emit(\"cellClick\", record.raw, column, ev);\n    };\n    const handleCellMouseEnter = debounce((record, column, ev) => {\n      emit(\"cellMouseEnter\", record.raw, column, ev);\n    }, 30);\n    const handleCellMouseLeave = debounce((record, column, ev) => {\n      emit(\"cellMouseLeave\", record.raw, column, ev);\n    }, 30);\n    const handleCellDblclick = (record, column, ev) => {\n      emit(\"cellDblclick\", record.raw, column, ev);\n    };\n    const handleCellContextmenu = (record, column, ev) => {\n      emit(\"cellContextmenu\", record.raw, column, ev);\n    };\n    const handleHeaderClick = (column, ev) => {\n      emit(\"headerClick\", column, ev);\n    };\n    const operations = computed(() => {\n      var _a, _b;\n      const operations2 = [];\n      const hasFixedColumn = hasLeftFixedColumn.value || hasRightFixedColumn.value;\n      let dragHandle;\n      let expand2;\n      let selection;\n      if (((_a = props.draggable) == null ? void 0 : _a.type) === \"handle\") {\n        dragHandle = {\n          name: \"drag-handle\",\n          title: props.draggable.title,\n          width: props.draggable.width,\n          fixed: props.draggable.fixed || hasFixedColumn\n        };\n        operations2.push(dragHandle);\n      }\n      if (props.expandable) {\n        expand2 = {\n          name: \"expand\",\n          title: props.expandable.title,\n          width: props.expandable.width,\n          fixed: props.expandable.fixed || hasFixedColumn\n        };\n        operations2.push(expand2);\n      }\n      if (props.rowSelection) {\n        selection = {\n          name: props.rowSelection.type === \"radio\" ? \"selection-radio\" : \"selection-checkbox\",\n          title: props.rowSelection.title,\n          width: props.rowSelection.width,\n          fixed: props.rowSelection.fixed || hasFixedColumn\n        };\n        operations2.push(selection);\n      }\n      if (!hasLeftFixedDataColumns.value && operations2.length > 0 && operations2[operations2.length - 1].fixed) {\n        operations2[operations2.length - 1].isLastLeftFixed = true;\n      }\n      const operationsFn = (_b = props.components) == null ? void 0 : _b.operations;\n      return isFunction(operationsFn) ? operationsFn({\n        dragHandle,\n        expand: expand2,\n        selection\n      }) : operations2;\n    });\n    const headerStyle = computed(() => {\n      var _a, _b, _c, _d;\n      if (isScroll.value.x) {\n        const style2 = {\n          width: isNumber((_a = props.scroll) == null ? void 0 : _a.x) ? `${(_b = props.scroll) == null ? void 0 : _b.x}px` : (_c = props.scroll) == null ? void 0 : _c.x\n        };\n        if ((_d = props.scroll) == null ? void 0 : _d.minWidth) {\n          style2.minWidth = isNumber(props.scroll.minWidth) ? `${props.scroll.minWidth}px` : props.scroll.minWidth;\n        }\n        return style2;\n      }\n      return void 0;\n    });\n    const contentStyle = computed(() => {\n      var _a, _b, _c, _d;\n      if (isScroll.value.x && flattenData.value.length > 0) {\n        const style2 = {\n          width: isNumber((_a = props.scroll) == null ? void 0 : _a.x) ? `${(_b = props.scroll) == null ? void 0 : _b.x}px` : (_c = props.scroll) == null ? void 0 : _c.x\n        };\n        if ((_d = props.scroll) == null ? void 0 : _d.minWidth) {\n          style2.minWidth = isNumber(props.scroll.minWidth) ? `${props.scroll.minWidth}px` : props.scroll.minWidth;\n        }\n        return style2;\n      }\n      return void 0;\n    });\n    const addColumn = (id, column) => {\n      slotColumnMap.set(id, column);\n    };\n    const removeColumn = id => {\n      slotColumnMap.delete(id);\n    };\n    provide(tableInjectionKey, reactive({\n      loadMore,\n      addLazyLoadData,\n      slots,\n      sorter: computedSorter,\n      filters: computedFilters,\n      filterIconAlignLeft,\n      resizingColumn,\n      checkStrictly,\n      currentAllEnabledRowKeys,\n      currentSelectedRowKeys,\n      addColumn,\n      removeColumn,\n      onSelectAll: handleSelectAll,\n      onSelect: handleSelect,\n      onSelectAllLeafs: handleSelectAllLeafs,\n      onSorterChange: handleSorterChange,\n      onFilterChange: handleFilterChange,\n      onThMouseDown: handleThMouseDown\n    }));\n    const cls = computed(() => [prefixCls, `${prefixCls}-size-${props.size}`, {\n      [`${prefixCls}-border`]: bordered.value.wrapper,\n      [`${prefixCls}-border-cell`]: bordered.value.cell,\n      [`${prefixCls}-border-header-cell`]: !bordered.value.cell && bordered.value.headerCell,\n      [`${prefixCls}-border-body-cell`]: !bordered.value.cell && bordered.value.bodyCell,\n      [`${prefixCls}-stripe`]: props.stripe,\n      [`${prefixCls}-hover`]: props.hoverable,\n      [`${prefixCls}-dragging`]: dragState.dragging,\n      [`${prefixCls}-type-selection`]: Boolean(props.rowSelection),\n      [`${prefixCls}-empty`]: props.data && flattenData.value.length === 0,\n      [`${prefixCls}-layout-fixed`]: props.tableLayoutFixed || isScroll.value.x || splitTable.value || hasEllipsis.value\n    }]);\n    const paginationCls = computed(() => [`${prefixCls}-pagination`, {\n      [`${prefixCls}-pagination-left`]: props.pagePosition === \"tl\" || props.pagePosition === \"bl\",\n      [`${prefixCls}-pagination-center`]: props.pagePosition === \"top\" || props.pagePosition === \"bottom\",\n      [`${prefixCls}-pagination-right`]: props.pagePosition === \"tr\" || props.pagePosition === \"br\",\n      [`${prefixCls}-pagination-top`]: isPaginationTop.value\n    }]);\n    const tableCls = computed(() => {\n      const cls2 = getTableFixedCls();\n      if (isScroll.value.x) {\n        cls2.push(getTableScrollCls());\n      }\n      if (splitTable.value) {\n        cls2.push(`${prefixCls}-scroll-y`);\n      }\n      return cls2;\n    });\n    const isVirtualList = computed(() => Boolean(props.virtualListProps));\n    const thWidth = ref({});\n    const getThWidth = () => {\n      const width = {};\n      for (const key of Object.keys(thRefs.value)) {\n        width[key] = thRefs.value[key].offsetWidth;\n      }\n      thWidth.value = width;\n    };\n    const hasScrollBar = ref(false);\n    const isTbodyHasScrollBar = () => {\n      if (tbodyRef.value) {\n        return tbodyRef.value.offsetWidth > tbodyRef.value.clientWidth;\n      }\n      return false;\n    };\n    const handleTbodyResize = () => {\n      const _hasScrollBar = isTbodyHasScrollBar();\n      if (hasScrollBar.value !== _hasScrollBar) {\n        hasScrollBar.value = _hasScrollBar;\n      }\n      setAlignPosition();\n      getThWidth();\n    };\n    onMounted(() => {\n      hasScrollBar.value = isTbodyHasScrollBar();\n      getThWidth();\n    });\n    const spinProps = computed(() => isObject(props.loading) ? props.loading : {\n      loading: props.loading\n    });\n    const renderEmpty = () => {\n      return createVNode(Tr, {\n        \"empty\": true\n      }, {\n        default: () => [createVNode(Td, {\n          \"colSpan\": dataColumns.value.length + operations.value.length\n        }, {\n          default: () => {\n            var _a, _b, _c, _d, _e;\n            return [(_e = (_d = (_a = slots.empty) == null ? void 0 : _a.call(slots)) != null ? _d : (_c = configCtx == null ? void 0 : (_b = configCtx.slots).empty) == null ? void 0 : _c.call(_b, {\n              component: \"table\"\n            })) != null ? _e : createVNode(Empty, null, null)];\n          }\n        })]\n      });\n    };\n    const renderExpandContent = record => {\n      var _a;\n      if (record.expand) {\n        return isFunction(record.expand) ? record.expand() : record.expand;\n      }\n      if (slots[\"expand-row\"]) {\n        return slots[\"expand-row\"]({\n          record: record.raw\n        });\n      }\n      if ((_a = props.expandable) == null ? void 0 : _a.expandedRowRender) {\n        return props.expandable.expandedRowRender(record.raw);\n      }\n      return void 0;\n    };\n    const allColumns = computed(() => [].concat(operations.value, dataColumns.value));\n    const spanColumns = computed(() => props.spanAll ? allColumns.value : dataColumns.value);\n    const {\n      tableSpan,\n      removedCells\n    } = useSpan({\n      spanMethod,\n      data: flattenData,\n      columns: spanColumns\n    });\n    const {\n      tableSpan: tableSummarySpan,\n      removedCells: removedSummaryCells\n    } = useSpan({\n      spanMethod: summarySpanMethod,\n      data: summaryData,\n      columns: allColumns\n    });\n    const getVirtualColumnStyle = name => {\n      if (!isVirtualList.value || !name || !thWidth.value[name]) {\n        return void 0;\n      }\n      return {\n        width: `${thWidth.value[name]}px`\n      };\n    };\n    const renderSummaryRow = (record, rowIndex) => {\n      return createVNode(Tr, {\n        \"key\": `table-summary-${rowIndex}`,\n        \"class\": [`${prefixCls}-tr-summary`, isFunction(props.rowClass) ? props.rowClass(record.raw, rowIndex) : props.rowClass],\n        \"onClick\": ev => handleRowClick(record, ev)\n      }, {\n        default: () => [operations.value.map((operation, index) => {\n          var _a;\n          const cellId = `${rowIndex}-${index}-${record.key}`;\n          const [rowspan, colspan] = (_a = tableSummarySpan.value[cellId]) != null ? _a : [1, 1];\n          if (removedSummaryCells.value.includes(cellId)) {\n            return null;\n          }\n          const style2 = getVirtualColumnStyle(operation.name);\n          return createVNode(OperationTd, {\n            \"style\": style2,\n            \"operationColumn\": operation,\n            \"operations\": operations.value,\n            \"record\": record,\n            \"rowSpan\": rowspan,\n            \"colSpan\": colspan,\n            \"summary\": true\n          }, null);\n        }), dataColumns.value.map((column, index) => {\n          var _a;\n          const cellId = `${rowIndex}-${operations.value.length + index}-${record.key}`;\n          const [rowspan, colspan] = (_a = tableSummarySpan.value[cellId]) != null ? _a : [1, 1];\n          if (removedSummaryCells.value.includes(cellId)) {\n            return null;\n          }\n          const style2 = getVirtualColumnStyle(column.dataIndex);\n          return createVNode(Td, {\n            \"key\": `td-${cellId}`,\n            \"style\": style2,\n            \"rowIndex\": rowIndex,\n            \"record\": record,\n            \"column\": column,\n            \"operations\": operations.value,\n            \"dataColumns\": dataColumns.value,\n            \"rowSpan\": rowspan,\n            \"colSpan\": colspan,\n            \"summary\": true,\n            \"onClick\": ev => handleCellClick(record, column, ev),\n            \"onDblclick\": ev => handleCellDblclick(record, column, ev),\n            \"onMouseenter\": ev => handleCellMouseEnter(record, column, ev),\n            \"onMouseleave\": ev => handleCellMouseLeave(record, column, ev),\n            \"onContextmenu\": ev => handleCellContextmenu(record, column, ev)\n          }, {\n            td: slots.td,\n            cell: slots[\"summary-cell\"]\n          });\n        })],\n        tr: slots.tr\n      });\n    };\n    const renderSummary = () => {\n      if (summaryData.value && summaryData.value.length > 0) {\n        return createVNode(\"tfoot\", null, [summaryData.value.map((data, index) => renderSummaryRow(data, index))]);\n      }\n      return null;\n    };\n    const renderExpandBtn = (record, stopPropagation = true) => {\n      var _a, _b, _c, _d, _e;\n      const currentKey = record.key;\n      const expanded = expandedRowKeys.value.includes(currentKey);\n      return createVNode(\"button\", {\n        \"type\": \"button\",\n        \"class\": `${prefixCls}-expand-btn`,\n        \"onClick\": ev => {\n          handleExpand(currentKey, record.raw);\n          if (stopPropagation) {\n            ev.stopPropagation();\n          }\n        }\n      }, [(_e = (_d = (_a = slots[\"expand-icon\"]) == null ? void 0 : _a.call(slots, {\n        expanded,\n        record: record.raw\n      })) != null ? _d : (_c = (_b = props.expandable) == null ? void 0 : _b.icon) == null ? void 0 : _c.call(_b, expanded, record.raw)) != null ? _e : expanded ? createVNode(IconMinus, null, null) : createVNode(IconPlus, null, null)]);\n    };\n    const renderExpand = (record, {\n      indentSize,\n      indexPath,\n      allowDrag,\n      expandContent\n    }) => {\n      var _a, _b;\n      if (record.hasSubtree) {\n        if (((_a = record.children) == null ? void 0 : _a.length) === 0 && showEmptyTree.value) {\n          return renderEmpty();\n        }\n        return (_b = record.children) == null ? void 0 : _b.map((item, index) => renderRecord(item, index, {\n          indentSize,\n          indexPath,\n          allowDrag\n        }));\n      }\n      if (expandContent) {\n        const scrollContainer = containerElement.value;\n        return createVNode(Tr, {\n          \"key\": `${record.key}-expand`,\n          \"expand\": true\n        }, {\n          default: () => [createVNode(Td, {\n            \"isFixedExpand\": hasLeftFixedColumn.value || hasRightFixedColumn.value,\n            \"containerWidth\": scrollContainer == null ? void 0 : scrollContainer.clientWidth,\n            \"colSpan\": dataColumns.value.length + operations.value.length\n          }, _isSlot(expandContent) ? expandContent : {\n            default: () => [expandContent]\n          })]\n        });\n      }\n      return null;\n    };\n    const renderRecord = (record, rowIndex, {\n      indentSize = 0,\n      indexPath,\n      allowDrag = true\n    } = {}) => {\n      var _a;\n      const currentKey = record.key;\n      const currentPath = (indexPath != null ? indexPath : []).concat(rowIndex);\n      const expandContent = renderExpandContent(record);\n      const showExpand = expandedRowKeys.value.includes(currentKey);\n      const isDragTarget = dragState.sourceKey === record.key;\n      const dragSourceEvent = dragType.value ? {\n        draggable: allowDrag,\n        onDragstart: ev => {\n          if (!allowDrag) return;\n          handleDragStart(ev, record.key, currentPath, record.raw);\n        },\n        onDragend: ev => {\n          if (!allowDrag) return;\n          handleDragEnd(ev);\n        }\n      } : {};\n      const dragTargetEvent = dragType.value ? {\n        onDragenter: ev => {\n          if (!allowDrag) return;\n          handleDragEnter(ev, currentPath);\n        },\n        onDragover: ev => {\n          if (!allowDrag) return;\n          handleDragover(ev);\n        },\n        onDrop: ev => {\n          if (!allowDrag) return;\n          handleChange(\"drag\");\n          handleDrop(ev);\n        }\n      } : {};\n      return createVNode(Fragment, null, [createVNode(Tr, mergeProps({\n        \"key\": currentKey,\n        \"class\": [{\n          [`${prefixCls}-tr-draggable`]: dragType.value === \"row\",\n          [`${prefixCls}-tr-drag`]: isDragTarget\n        }, isFunction(props.rowClass) ? props.rowClass(record.raw, rowIndex) : props.rowClass],\n        \"rowIndex\": rowIndex,\n        \"record\": record,\n        \"checked\": (_a = selectedRowKeys.value) == null ? void 0 : _a.includes(currentKey),\n        \"onClick\": ev => handleRowClick(record, ev),\n        \"onDblclick\": ev => handleRowDblclick(record, ev),\n        \"onContextmenu\": ev => handleRowContextMenu(record, ev)\n      }, dragType.value === \"row\" ? dragSourceEvent : {}, dragTargetEvent), {\n        default: () => [operations.value.map((operation, index) => {\n          var _a2;\n          const cellId = `${rowIndex}-${index}-${record.key}`;\n          const [rowspan, colspan] = props.spanAll ? (_a2 = tableSpan.value[cellId]) != null ? _a2 : [1, 1] : [1, 1];\n          if (props.spanAll && removedCells.value.includes(cellId)) {\n            return null;\n          }\n          const style2 = getVirtualColumnStyle(operation.name);\n          return createVNode(OperationTd, mergeProps({\n            \"key\": `operation-td-${index}`,\n            \"style\": style2,\n            \"operationColumn\": operation,\n            \"operations\": operations.value,\n            \"record\": record,\n            \"hasExpand\": Boolean(expandContent),\n            \"selectedRowKeys\": currentSelectedRowKeys.value,\n            \"rowSpan\": rowspan,\n            \"colSpan\": colspan,\n            \"renderExpandBtn\": renderExpandBtn\n          }, dragType.value === \"handle\" ? dragSourceEvent : {}), {\n            \"drag-handle-icon\": slots[\"drag-handle-icon\"]\n          });\n        }), dataColumns.value.map((column, index) => {\n          var _a2;\n          const cellId = `${rowIndex}-${props.spanAll ? operations.value.length + index : index}-${record.key}`;\n          const [rowspan, colspan] = (_a2 = tableSpan.value[cellId]) != null ? _a2 : [1, 1];\n          if (removedCells.value.includes(cellId)) {\n            return null;\n          }\n          const extraProps = index === 0 ? {\n            showExpandBtn: record.hasSubtree,\n            indentSize: record.hasSubtree ? indentSize - 20 : indentSize\n          } : {};\n          const style2 = getVirtualColumnStyle(column.dataIndex);\n          return createVNode(Td, mergeProps({\n            \"key\": `td-${index}`,\n            \"style\": style2,\n            \"rowIndex\": rowIndex,\n            \"record\": record,\n            \"column\": column,\n            \"operations\": operations.value,\n            \"dataColumns\": dataColumns.value,\n            \"rowSpan\": rowspan,\n            \"renderExpandBtn\": renderExpandBtn,\n            \"colSpan\": colspan\n          }, extraProps, {\n            \"onClick\": ev => handleCellClick(record, column, ev),\n            \"onDblclick\": ev => handleCellDblclick(record, column, ev),\n            \"onMouseenter\": ev => handleCellMouseEnter(record, column, ev),\n            \"onMouseleave\": ev => handleCellMouseLeave(record, column, ev),\n            \"onContextmenu\": ev => handleCellContextmenu(record, column, ev)\n          }), {\n            td: slots.td\n          });\n        })],\n        tr: slots.tr\n      }), showExpand && renderExpand(record, {\n        indentSize: indentSize + props.indentSize,\n        indexPath: currentPath,\n        allowDrag: allowDrag && !isDragTarget,\n        expandContent\n      })]);\n    };\n    const renderBody = () => {\n      const hasSubData = flattenData.value.some(record => Boolean(record.hasSubtree));\n      return createVNode(Tbody, null, {\n        default: () => [flattenData.value.length > 0 ? flattenData.value.map((record, index) => renderRecord(record, index, {\n          indentSize: hasSubData ? 20 : 0\n        })) : renderEmpty()],\n        tbody: slots.tbody\n      });\n    };\n    const renderHeader = () => createVNode(Thead, null, {\n      default: () => [groupColumns.value.map((row, index) => createVNode(Tr, {\n        \"key\": `header-row-${index}`\n      }, {\n        default: () => [index === 0 && operations.value.map((operation, index2) => {\n          var _a;\n          return createVNode(OperationTh, {\n            \"key\": `operation-th-${index2}`,\n            \"ref\": ins => {\n              if ((ins == null ? void 0 : ins.$el) && operation.name) {\n                thRefs.value[operation.name] = ins.$el;\n              }\n            },\n            \"operationColumn\": operation,\n            \"operations\": operations.value,\n            \"selectAll\": Boolean(operation.name === \"selection-checkbox\" && ((_a = props.rowSelection) == null ? void 0 : _a.showCheckedAll)),\n            \"rowSpan\": groupColumns.value.length\n          }, null);\n        }), row.map((column, index2) => {\n          const resizable = props.columnResizable && Boolean(column.dataIndex) && index2 < row.length - 1;\n          return createVNode(Th, {\n            \"key\": `th-${index2}`,\n            \"ref\": ins => {\n              if ((ins == null ? void 0 : ins.$el) && column.dataIndex) {\n                thRefs.value[column.dataIndex] = ins.$el;\n              }\n            },\n            \"column\": column,\n            \"operations\": operations.value,\n            \"dataColumns\": dataColumns.value,\n            \"resizable\": resizable,\n            \"onClick\": ev => handleHeaderClick(column, ev)\n          }, {\n            th: slots.th\n          });\n        })]\n      }))],\n      thead: slots.thead\n    });\n    const renderContent = () => {\n      if (splitTable.value) {\n        const style2 = {};\n        if (hasScrollBar.value) {\n          style2.overflowY = \"scroll\";\n        }\n        if (isNumber(props.stickyHeader)) {\n          style2.top = `${props.stickyHeader}px`;\n        }\n        const Component = displayScrollbar.value ? Scrollbar : \"div\";\n        return createVNode(Fragment, null, [props.showHeader && createVNode(Component, mergeProps({\n          \"ref\": theadComRef,\n          \"class\": [`${prefixCls}-header`, {\n            [`${prefixCls}-header-sticky`]: props.stickyHeader\n          }],\n          \"style\": style2\n        }, scrollbar.value ? __spreadValues({\n          hide: flattenData.value.length !== 0,\n          disableVertical: true\n        }, scrollbarProps.value) : void 0), {\n          default: () => [createVNode(\"table\", {\n            \"class\": `${prefixCls}-element`,\n            \"style\": headerStyle.value,\n            \"cellpadding\": 0,\n            \"cellspacing\": 0\n          }, [createVNode(ColGroup, {\n            \"dataColumns\": dataColumns.value,\n            \"operations\": operations.value,\n            \"columnWidth\": columnWidth\n          }, null), renderHeader()])]\n        }), createVNode(ResizeObserver, {\n          \"onResize\": handleTbodyResize\n        }, {\n          default: () => {\n            var _a, _b;\n            return [isVirtualList.value ? createVNode(VirtualList, mergeProps({\n              \"ref\": ins => {\n                if (ins == null ? void 0 : ins.$el) tbodyRef.value = ins.$el;\n              },\n              \"class\": `${prefixCls}-body`,\n              \"data\": flattenData.value,\n              \"itemKey\": \"_key\",\n              \"component\": {\n                list: \"table\",\n                content: \"tbody\"\n              },\n              \"listAttrs\": {\n                class: `${prefixCls}-element`,\n                style: contentStyle.value\n              },\n              \"paddingPosition\": \"list\"\n            }, props.virtualListProps, {\n              \"onScroll\": onTbodyScroll\n            }), {\n              item: ({\n                item,\n                index\n              }) => renderRecord(item, index)\n            }) : createVNode(Component, mergeProps({\n              \"ref\": tbodyComRef,\n              \"class\": `${prefixCls}-body`,\n              \"style\": {\n                maxHeight: isNumber((_a = props.scroll) == null ? void 0 : _a.y) ? `${(_b = props.scroll) == null ? void 0 : _b.y}px` : \"100%\"\n              }\n            }, scrollbar.value ? __spreadValues({\n              outerStyle: {\n                display: \"flex\",\n                minHeight: \"0\"\n              }\n            }, scrollbarProps.value) : void 0, {\n              \"onScroll\": onTbodyScroll\n            }), {\n              default: () => [createVNode(\"table\", {\n                \"class\": `${prefixCls}-element`,\n                \"style\": contentStyle.value,\n                \"cellpadding\": 0,\n                \"cellspacing\": 0\n              }, [flattenData.value.length !== 0 && createVNode(ColGroup, {\n                \"dataColumns\": dataColumns.value,\n                \"operations\": operations.value,\n                \"columnWidth\": columnWidth\n              }, null), renderBody()])]\n            })];\n          }\n        }), summaryData.value && summaryData.value.length > 0 && createVNode(\"div\", {\n          \"ref\": summaryRef,\n          \"class\": `${prefixCls}-tfoot`,\n          \"style\": {\n            overflowY: hasScrollBar.value ? \"scroll\" : \"hidden\"\n          }\n        }, [createVNode(\"table\", {\n          \"class\": `${prefixCls}-element`,\n          \"style\": contentStyle.value,\n          \"cellpadding\": 0,\n          \"cellspacing\": 0\n        }, [createVNode(ColGroup, {\n          \"dataColumns\": dataColumns.value,\n          \"operations\": operations.value,\n          \"columnWidth\": columnWidth\n        }, null), renderSummary()])])]);\n      }\n      return createVNode(ResizeObserver, {\n        \"onResize\": () => setAlignPosition()\n      }, {\n        default: () => [createVNode(\"table\", {\n          \"class\": `${prefixCls}-element`,\n          \"cellpadding\": 0,\n          \"cellspacing\": 0,\n          \"style\": contentStyle.value\n        }, [createVNode(ColGroup, {\n          \"dataColumns\": dataColumns.value,\n          \"operations\": operations.value,\n          \"columnWidth\": columnWidth\n        }, null), props.showHeader && renderHeader(), renderBody(), summaryData.value && summaryData.value.length > 0 && renderSummary()])]\n      });\n    };\n    const renderTable = content => {\n      var _a;\n      const style2 = ((_a = props.scroll) == null ? void 0 : _a.maxHeight) ? {\n        maxHeight: props.scroll.maxHeight\n      } : void 0;\n      const Component = displayScrollbar.value ? Scrollbar : \"div\";\n      return createVNode(Fragment, null, [createVNode(\"div\", {\n        \"class\": [`${prefixCls}-container`, tableCls.value]\n      }, [createVNode(Component, mergeProps({\n        \"ref\": contentComRef,\n        \"class\": [`${prefixCls}-content`, {\n          [`${prefixCls}-content-scroll-x`]: !splitTable.value\n        }],\n        \"style\": style2\n      }, scrollbar.value ? __spreadValues({\n        outerStyle: {\n          height: \"100%\"\n        }\n      }, scrollbarProps.value) : void 0, {\n        \"onScroll\": handleScroll\n      }), {\n        default: () => [content ? createVNode(\"table\", {\n          \"class\": `${prefixCls}-element`,\n          \"cellpadding\": 0,\n          \"cellspacing\": 0\n        }, [content()]) : renderContent()]\n      })]), slots.footer && createVNode(\"div\", {\n        \"class\": `${prefixCls}-footer`\n      }, [slots.footer()])]);\n    };\n    const renderPagination = () => {\n      var _a, _b;\n      const paginationProps = isObject(props.pagination) ? omit(props.pagination, [\"current\", \"pageSize\", \"defaultCurrent\", \"defaultPageSize\"]) : {};\n      return createVNode(\"div\", {\n        \"class\": paginationCls.value\n      }, [(_a = slots[\"pagination-left\"]) == null ? void 0 : _a.call(slots), createVNode(Pagination, mergeProps({\n        \"total\": validData.value.length,\n        \"current\": page.value,\n        \"pageSize\": pageSize.value,\n        \"onChange\": page2 => {\n          handlePageChange(page2);\n          handleChange(\"pagination\");\n        },\n        \"onPageSizeChange\": pageSize2 => {\n          handlePageSizeChange(pageSize2);\n          handleChange(\"pagination\");\n        }\n      }, paginationProps), null), (_b = slots[\"pagination-right\"]) == null ? void 0 : _b.call(slots)]);\n    };\n    const style = computed(() => {\n      var _a, _b;\n      if (isString((_a = props.scroll) == null ? void 0 : _a.y)) {\n        return {\n          height: (_b = props.scroll) == null ? void 0 : _b.y\n        };\n      }\n      return void 0;\n    });\n    const render = () => {\n      var _a;\n      if (slots.default) {\n        return createVNode(\"div\", {\n          \"class\": cls.value\n        }, [renderTable(slots.default)]);\n      }\n      children.value = (_a = slots.columns) == null ? void 0 : _a.call(slots);\n      return createVNode(\"div\", {\n        \"class\": cls.value,\n        \"style\": style.value\n      }, [children.value, createVNode(Spin, spinProps.value, {\n        default: () => [props.pagination !== false && (flattenData.value.length > 0 || sortedData.value.length > 0) && isPaginationTop.value && renderPagination(), renderTable(), props.pagination !== false && (flattenData.value.length > 0 || sortedData.value.length > 0) && !isPaginationTop.value && renderPagination()]\n      })]);\n    };\n    return {\n      render,\n      selfExpand: expand,\n      selfExpandAll: expandAll,\n      selfSelect: select,\n      selfSelectAll: selectAll,\n      selfResetFilters: resetFilters,\n      selfClearFilters: clearFilters,\n      selfResetSorters: resetSorters,\n      selfClearSorters: clearSorters\n    };\n  },\n  methods: {\n    selectAll(checked) {\n      return this.selfSelectAll(checked);\n    },\n    select(rowKey, checked) {\n      return this.selfSelect(rowKey, checked);\n    },\n    expandAll(checked) {\n      return this.selfExpandAll(checked);\n    },\n    expand(rowKey, checked) {\n      return this.selfExpand(rowKey, checked);\n    },\n    resetFilters(dataIndex) {\n      return this.selfResetFilters(dataIndex);\n    },\n    clearFilters(dataIndex) {\n      return this.selfClearFilters(dataIndex);\n    },\n    resetSorters() {\n      return this.selfResetSorters();\n    },\n    clearSorters() {\n      return this.selfClearSorters();\n    }\n  },\n  render() {\n    return this.render();\n  }\n});\nexport { _Table as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","defineComponent","inject","toRefs","computed","ref","reactive","watch","watchEffect","provide","onMounted","createVNode","Fragment","mergeProps","isVNode","getPrefixCls","isObject","isFunction","isNumber","isUndefined","isNull","isString","isArray","debounce","getGroupColumns","mapArrayWithChildren","mapRawTableData","useRowSelection","useExpand","usePagination","IconPlus","IconMinus","Spin","Pagination","Empty","ColGroup","Thead","Tbody","Tr","Th","Td","OperationTh","OperationTd","VirtualList","ResizeObserver","omit","configProviderInjectionKey","useDrag","useColumnResize","tableInjectionKey","useFilter","useSorter","useSpan","useChildrenComponents","Scrollbar","useComponentRef","useScrollbar","getValueByPath","setValueByPath","_isSlot","s","toString","DEFAULT_BORDERED","wrapper","cell","headerCell","bodyCell","_Table","name","props","columns","type","Array","default","data","bordered","Boolean","hoverable","stripe","size","String","_a","_b","tableLayoutFixed","loading","rowSelection","expandable","scroll","pagination","pagePosition","indentSize","Number","rowKey","showHeader","virtualListProps","spanMethod","Function","spanAll","components","loadMore","filterIconAlignLeft","hideExpandButtonOnEmpty","rowClass","draggable","rowNumber","columnResizable","summary","summaryText","summarySpanMethod","selectedKeys","defaultSelectedKeys","expandedKeys","defaultExpandedKeys","defaultExpandAllRows","stickyHeader","scrollbar","showEmptyTree","emits","rowKeys","expand","record","select","checked","sorterChange","dataIndex","direction","filterChange","filteredValues","page","pageSize","change","extra","currentData","cellMouseEnter","column","ev","cellMouseLeave","cellClick","rowClick","headerClick","columnResize","width","rowDblclick","cellDblclick","rowContextmenu","cellContextmenu","setup","emit","slots","prefixCls","configCtx","children","checkStrictly","displayScrollbar","scrollbarProps","isScroll","_c","_d","x","minWidth","y","maxHeight","summaryRef","thRefs","componentRef","contentComRef","elementRef","contentRef","tbodyComRef","tbodyRef","virtualComRef","virtualRef","theadComRef","theadRef","containerElement","splitTable","isVirtualList","flattenData","length","slotColumnMap","Map","slotColumns","components2","slotColumnMap2","columns2","forEach","id","get","push","dataColumnMap","dataColumns","groupColumns","resizingColumn","columnWidth","handleThMouseDown","slotColumns2","result","immediate","deep","isPaginationTop","includes","hasLeftFixedColumn","hasRightFixedColumn","hasLeftFixedDataColumns","_hasLeftFixedColumn","_hasRightFixedColumn","_hasLeftFixedDataColumns","fixed","hasEllipsis","col","ellipsis","handleChange","sorter","computedSorter","filters","computedFilters","dragTarget","dragState","flattenRawData","sortedData","handleFilterChange","_filters","handleSorterChange","_sorter","field","resetFilters","clearFilters","onFilterChange","resetSorters","clearSorters","onSorterChange","disabledKeys","Set","allRowKeys","allRowKeys2","clear","travelData","disabled","add","currentAllRowKeys","keys","travel","currentAllEnabledRowKeys","isRadio","selectedRowKeys","currentSelectedRowKeys","handleSelect","handleSelectAllLeafs","handleSelectAll","selectAll","clearSelected","expandedRowKeys","handleExpand","expandAll","lazyLoadData","addLazyLoadData","children2","isValidRecord","filterable","filter","raw","dragType","handleDragStart","handleDragEnter","handleDragLeave","handleDragover","handleDragEnd","handleDrop","processedData","_record","isLeaf","hasSubtree","validData","sortable","sort","_a2","valueA","valueB","sourcePath","targetPath","dragging","slice","i","sourceIndex","isLast","sourceChild","targetIndex","splice","handlePageChange","handlePageSizeChange","onlyCurrent","cur","pre","getSummaryData","reduce","per","index","addPath","count","isNotNumber","_number","getTableDataWithRaw","map","summaryData","containerScrollLeft","alignLeft","alignRight","setAlignPosition","_alignLeft","_alignRight","scrollContainer","Math","ceil","offsetWidth","scrollWidth","getTableScrollCls","getTableFixedCls","cls2","handleScroll","e","target","scrollLeft","onTbodyScroll","handleRowClick","handleRowDblclick","handleRowContextMenu","handleCellClick","handleCellMouseEnter","handleCellMouseLeave","handleCellDblclick","handleCellContextmenu","handleHeaderClick","operations","operations2","hasFixedColumn","dragHandle","expand2","selection","title","isLastLeftFixed","operationsFn","headerStyle","style2","contentStyle","addColumn","set","removeColumn","delete","onSelectAll","onSelect","onSelectAllLeafs","onThMouseDown","cls","paginationCls","tableCls","thWidth","getThWidth","hasScrollBar","isTbodyHasScrollBar","clientWidth","handleTbodyResize","_hasScrollBar","spinProps","renderEmpty","_e","empty","component","renderExpandContent","expandedRowRender","allColumns","concat","spanColumns","tableSpan","removedCells","tableSummarySpan","removedSummaryCells","getVirtualColumnStyle","renderSummaryRow","rowIndex","operation","cellId","rowspan","colspan","td","tr","renderSummary","renderExpandBtn","stopPropagation","currentKey","expanded","icon","renderExpand","indexPath","allowDrag","expandContent","item","renderRecord","currentPath","showExpand","isDragTarget","sourceKey","dragSourceEvent","onDragstart","onDragend","dragTargetEvent","onDragenter","onDragover","onDrop","extraProps","showExpandBtn","renderBody","hasSubData","some","tbody","renderHeader","row","index2","ins","$el","showCheckedAll","resizable","th","thead","renderContent","overflowY","top","Component","hide","disableVertical","list","content","class","style","outerStyle","display","minHeight","onResize","renderTable","height","footer","renderPagination","paginationProps","page2","pageSize2","render","selfExpand","selfExpandAll","selfSelect","selfSelectAll","selfResetFilters","selfClearFilters","selfResetSorters","selfClearSorters","methods"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/table/table.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, inject, toRefs, computed, ref, reactive, watch, watchEffect, provide, onMounted, createVNode, Fragment, mergeProps, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isObject, isFunction, isNumber, isUndefined, isNull, isString, isArray } from \"../_utils/is.js\";\nimport { debounce } from \"../_utils/debounce.js\";\nimport { getGroupColumns, mapArrayWithChildren, mapRawTableData } from \"./utils.js\";\nimport { useRowSelection } from \"./hooks/use-row-selection.js\";\nimport { useExpand } from \"./hooks/use-expand.js\";\nimport { usePagination } from \"./hooks/use-pagination.js\";\nimport IconPlus from \"../icon/icon-plus/index.js\";\nimport IconMinus from \"../icon/icon-minus/index.js\";\nimport Spin from \"../spin/index.js\";\nimport Pagination from \"../pagination/index.js\";\nimport Empty from \"../empty/index.js\";\nimport ColGroup from \"./table-col-group.js\";\nimport Thead from \"./table-thead.js\";\nimport Tbody from \"./table-tbody.js\";\nimport Tr from \"./table-tr.js\";\nimport Th from \"./table-th.js\";\nimport Td from \"./table-td.js\";\nimport OperationTh from \"./table-operation-th.js\";\nimport OperationTd from \"./table-operation-td.js\";\nimport VirtualList from \"../_components/virtual-list-v2/virtual-list.js\";\nimport ResizeObserver from \"../_components/resize-observer.js\";\nimport { omit } from \"../_utils/omit.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport { useDrag } from \"./hooks/use-drag.js\";\nimport { useColumnResize } from \"./hooks/use-column-resize.js\";\nimport { tableInjectionKey } from \"./context.js\";\nimport { useFilter } from \"./hooks/use-filter.js\";\nimport { useSorter } from \"./hooks/use-sorter.js\";\nimport \"../_components/client-only.js\";\nimport { useSpan } from \"./hooks/use-span.js\";\nimport { useChildrenComponents } from \"../_hooks/use-children-components.js\";\nimport Scrollbar from \"../scrollbar/index.js\";\nimport { useComponentRef } from \"../_hooks/use-component-ref.js\";\nimport { useScrollbar } from \"../_hooks/use-scrollbar.js\";\nimport { getValueByPath, setValueByPath } from \"../_utils/get-value-by-path.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nconst DEFAULT_BORDERED = {\n  wrapper: true,\n  cell: false,\n  headerCell: false,\n  bodyCell: false\n};\nvar _Table = defineComponent({\n  name: \"Table\",\n  props: {\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    },\n    bordered: {\n      type: [Boolean, Object],\n      default: true\n    },\n    hoverable: {\n      type: Boolean,\n      default: true\n    },\n    stripe: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: () => {\n        var _a, _b;\n        return (_b = (_a = inject(configProviderInjectionKey, void 0)) == null ? void 0 : _a.size) != null ? _b : \"large\";\n      }\n    },\n    tableLayoutFixed: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: [Boolean, Object],\n      default: false\n    },\n    rowSelection: {\n      type: Object\n    },\n    expandable: {\n      type: Object\n    },\n    scroll: {\n      type: Object\n    },\n    pagination: {\n      type: [Boolean, Object],\n      default: true\n    },\n    pagePosition: {\n      type: String,\n      default: \"br\"\n    },\n    indentSize: {\n      type: Number,\n      default: 16\n    },\n    rowKey: {\n      type: String,\n      default: \"key\"\n    },\n    showHeader: {\n      type: Boolean,\n      default: true\n    },\n    virtualListProps: {\n      type: Object\n    },\n    spanMethod: {\n      type: Function\n    },\n    spanAll: {\n      type: Boolean,\n      default: false\n    },\n    components: {\n      type: Object\n    },\n    loadMore: {\n      type: Function\n    },\n    filterIconAlignLeft: {\n      type: Boolean,\n      default: false\n    },\n    hideExpandButtonOnEmpty: {\n      type: Boolean,\n      default: false\n    },\n    rowClass: {\n      type: [String, Array, Object, Function]\n    },\n    draggable: {\n      type: Object\n    },\n    rowNumber: {\n      type: [Boolean, Object]\n    },\n    columnResizable: {\n      type: Boolean\n    },\n    summary: {\n      type: [Boolean, Function]\n    },\n    summaryText: {\n      type: String,\n      default: \"Summary\"\n    },\n    summarySpanMethod: {\n      type: Function\n    },\n    selectedKeys: {\n      type: Array\n    },\n    defaultSelectedKeys: {\n      type: Array\n    },\n    expandedKeys: {\n      type: Array\n    },\n    defaultExpandedKeys: {\n      type: Array\n    },\n    defaultExpandAllRows: {\n      type: Boolean,\n      default: false\n    },\n    stickyHeader: {\n      type: [Boolean, Number],\n      default: false\n    },\n    scrollbar: {\n      type: [Object, Boolean],\n      default: true\n    },\n    showEmptyTree: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:selectedKeys\": (rowKeys) => true,\n    \"update:expandedKeys\": (rowKeys) => true,\n    \"expand\": (rowKey, record) => true,\n    \"expandedChange\": (rowKeys) => true,\n    \"select\": (rowKeys, rowKey, record) => true,\n    \"selectAll\": (checked) => true,\n    \"selectionChange\": (rowKeys) => true,\n    \"sorterChange\": (dataIndex, direction) => true,\n    \"filterChange\": (dataIndex, filteredValues) => true,\n    \"pageChange\": (page) => true,\n    \"pageSizeChange\": (pageSize) => true,\n    \"change\": (data, extra, currentData) => true,\n    \"cellMouseEnter\": (record, column, ev) => true,\n    \"cellMouseLeave\": (record, column, ev) => true,\n    \"cellClick\": (record, column, ev) => true,\n    \"rowClick\": (record, ev) => true,\n    \"headerClick\": (column, ev) => true,\n    \"columnResize\": (dataIndex, width) => true,\n    \"rowDblclick\": (record, ev) => true,\n    \"cellDblclick\": (record, column, ev) => true,\n    \"rowContextmenu\": (record, ev) => true,\n    \"cellContextmenu\": (record, column, ev) => true\n  },\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      columns,\n      rowKey,\n      rowSelection,\n      expandable,\n      loadMore,\n      filterIconAlignLeft,\n      selectedKeys,\n      defaultSelectedKeys,\n      expandedKeys,\n      defaultExpandedKeys,\n      defaultExpandAllRows,\n      spanMethod,\n      draggable,\n      summarySpanMethod,\n      scrollbar,\n      showEmptyTree\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"table\");\n    const configCtx = inject(configProviderInjectionKey, void 0);\n    const bordered = computed(() => {\n      if (isObject(props.bordered)) {\n        return __spreadValues(__spreadValues({}, DEFAULT_BORDERED), props.bordered);\n      }\n      return __spreadProps(__spreadValues({}, DEFAULT_BORDERED), {\n        wrapper: props.bordered\n      });\n    });\n    const {\n      children,\n      components\n    } = useChildrenComponents(\"TableColumn\");\n    const checkStrictly = computed(() => {\n      var _a, _b;\n      return (_b = (_a = rowSelection.value) == null ? void 0 : _a.checkStrictly) != null ? _b : true;\n    });\n    const {\n      displayScrollbar,\n      scrollbarProps\n    } = useScrollbar(scrollbar);\n    const isScroll = computed(() => {\n      var _a, _b, _c, _d;\n      const x = Boolean(((_a = props.scroll) == null ? void 0 : _a.x) || ((_b = props.scroll) == null ? void 0 : _b.minWidth));\n      const y = Boolean(((_c = props.scroll) == null ? void 0 : _c.y) || ((_d = props.scroll) == null ? void 0 : _d.maxHeight));\n      return {\n        x,\n        y\n      };\n    });\n    const summaryRef = ref();\n    const thRefs = ref({});\n    const {\n      componentRef: contentComRef,\n      elementRef: contentRef\n    } = useComponentRef(\"containerRef\");\n    const {\n      componentRef: tbodyComRef,\n      elementRef: tbodyRef\n    } = useComponentRef(\"containerRef\");\n    const {\n      componentRef: virtualComRef,\n      elementRef: virtualRef\n    } = useComponentRef(\"viewportRef\");\n    const {\n      componentRef: theadComRef,\n      elementRef: theadRef\n    } = useComponentRef(\"containerRef\");\n    const containerElement = computed(() => {\n      if (splitTable.value) {\n        if (isVirtualList.value) {\n          return virtualRef.value;\n        }\n        return tbodyRef.value;\n      }\n      return contentRef.value;\n    });\n    const splitTable = computed(() => isScroll.value.y || props.stickyHeader || isVirtualList.value || isScroll.value.x && flattenData.value.length === 0);\n    const slotColumnMap = reactive(new Map());\n    const slotColumns = ref();\n    watch([components, slotColumnMap], ([components2, slotColumnMap2]) => {\n      if (components2.length > 0) {\n        const columns2 = [];\n        components2.forEach((id) => {\n          const column = slotColumnMap2.get(id);\n          if (column)\n            columns2.push(column);\n        });\n        slotColumns.value = columns2;\n      } else {\n        slotColumns.value = void 0;\n      }\n    });\n    const dataColumnMap = new Map();\n    const dataColumns = ref([]);\n    const groupColumns = ref([]);\n    const {\n      resizingColumn,\n      columnWidth,\n      handleThMouseDown\n    } = useColumnResize(thRefs, emit);\n    watch([columns, slotColumns, columnWidth], ([columns2, slotColumns2]) => {\n      var _a;\n      const result = getGroupColumns((_a = slotColumns2 != null ? slotColumns2 : columns2) != null ? _a : [], dataColumnMap, columnWidth);\n      dataColumns.value = result.dataColumns;\n      groupColumns.value = result.groupColumns;\n    }, {\n      immediate: true,\n      deep: true\n    });\n    const isPaginationTop = computed(() => [\"tl\", \"top\", \"tr\"].includes(props.pagePosition));\n    const hasLeftFixedColumn = ref(false);\n    const hasRightFixedColumn = ref(false);\n    const hasLeftFixedDataColumns = ref(false);\n    watchEffect(() => {\n      var _a, _b, _c;\n      let _hasLeftFixedColumn = false;\n      let _hasRightFixedColumn = false;\n      let _hasLeftFixedDataColumns = false;\n      if (((_a = props.rowSelection) == null ? void 0 : _a.fixed) || ((_b = props.expandable) == null ? void 0 : _b.fixed) || ((_c = props.draggable) == null ? void 0 : _c.fixed)) {\n        _hasLeftFixedColumn = true;\n      }\n      for (const column of dataColumns.value) {\n        if (column.fixed === \"left\") {\n          _hasLeftFixedColumn = true;\n          _hasLeftFixedDataColumns = true;\n        } else if (column.fixed === \"right\") {\n          _hasRightFixedColumn = true;\n        }\n      }\n      if (_hasLeftFixedColumn !== hasLeftFixedColumn.value) {\n        hasLeftFixedColumn.value = _hasLeftFixedColumn;\n      }\n      if (_hasRightFixedColumn !== hasRightFixedColumn.value) {\n        hasRightFixedColumn.value = _hasRightFixedColumn;\n      }\n      if (_hasLeftFixedDataColumns !== hasLeftFixedDataColumns.value) {\n        hasLeftFixedDataColumns.value = _hasLeftFixedDataColumns;\n      }\n    });\n    const hasEllipsis = computed(() => {\n      for (const col of dataColumns.value) {\n        if (col.ellipsis) {\n          return true;\n        }\n      }\n      return false;\n    });\n    const handleChange = (type) => {\n      const extra = {\n        type,\n        page: page.value,\n        pageSize: pageSize.value,\n        sorter: computedSorter.value,\n        filters: computedFilters.value,\n        dragTarget: type === \"drag\" ? dragState.data : void 0\n      };\n      emit(\"change\", flattenRawData.value, extra, sortedData.value);\n    };\n    const handleFilterChange = (dataIndex, filteredValues) => {\n      _filters.value = __spreadProps(__spreadValues({}, computedFilters.value), {\n        [dataIndex]: filteredValues\n      });\n      emit(\"filterChange\", dataIndex, filteredValues);\n      handleChange(\"filter\");\n    };\n    const handleSorterChange = (dataIndex, direction) => {\n      _sorter.value = direction ? {\n        field: dataIndex,\n        direction\n      } : void 0;\n      emit(\"sorterChange\", dataIndex, direction);\n      handleChange(\"sorter\");\n    };\n    const {\n      _filters,\n      computedFilters,\n      resetFilters,\n      clearFilters\n    } = useFilter({\n      columns: dataColumns,\n      onFilterChange: handleFilterChange\n    });\n    const {\n      _sorter,\n      computedSorter,\n      resetSorters,\n      clearSorters\n    } = useSorter({\n      columns: dataColumns,\n      onSorterChange: handleSorterChange\n    });\n    const disabledKeys = new Set();\n    const allRowKeys = computed(() => {\n      const allRowKeys2 = [];\n      disabledKeys.clear();\n      const travelData = (data) => {\n        if (isArray(data) && data.length > 0) {\n          for (const record of data) {\n            allRowKeys2.push(record[rowKey.value]);\n            if (record.disabled) {\n              disabledKeys.add(record[rowKey.value]);\n            }\n            if (record.children) {\n              travelData(record.children);\n            }\n          }\n        }\n      };\n      travelData(props.data);\n      return allRowKeys2;\n    });\n    const currentAllRowKeys = computed(() => {\n      const keys = [];\n      const travel = (data) => {\n        for (const record of data) {\n          keys.push(record.key);\n          if (record.children) {\n            travel(record.children);\n          }\n        }\n      };\n      travel(flattenData.value);\n      return keys;\n    });\n    const currentAllEnabledRowKeys = computed(() => {\n      const keys = [];\n      const travel = (data) => {\n        for (const record of data) {\n          if (!record.disabled) {\n            keys.push(record.key);\n          }\n          if (record.children) {\n            travel(record.children);\n          }\n        }\n      };\n      travel(flattenData.value);\n      return keys;\n    });\n    const {\n      isRadio,\n      selectedRowKeys,\n      currentSelectedRowKeys,\n      handleSelect,\n      handleSelectAllLeafs,\n      handleSelectAll,\n      select,\n      selectAll,\n      clearSelected\n    } = useRowSelection({\n      selectedKeys,\n      defaultSelectedKeys,\n      rowSelection,\n      currentAllRowKeys,\n      currentAllEnabledRowKeys,\n      emit\n    });\n    const {\n      expandedRowKeys,\n      handleExpand,\n      expand,\n      expandAll\n    } = useExpand({\n      expandedKeys,\n      defaultExpandedKeys,\n      defaultExpandAllRows,\n      expandable,\n      allRowKeys,\n      emit\n    });\n    const lazyLoadData = reactive({});\n    const addLazyLoadData = (children2, record) => {\n      if (children2) {\n        lazyLoadData[record.key] = children2;\n      }\n    };\n    const isValidRecord = (record) => {\n      var _a, _b;\n      for (const field of Object.keys(computedFilters.value)) {\n        const filteredValues = computedFilters.value[field];\n        const column = dataColumnMap.get(field);\n        if (column && ((_a = column.filterable) == null ? void 0 : _a.filter) && filteredValues.length > 0) {\n          const result = (_b = column.filterable) == null ? void 0 : _b.filter(filteredValues, record.raw);\n          if (!result) {\n            return result;\n          }\n        }\n      }\n      return true;\n    };\n    const {\n      dragType,\n      dragState,\n      handleDragStart,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragover,\n      handleDragEnd,\n      handleDrop\n    } = useDrag(draggable);\n    const processedData = computed(() => {\n      var _a;\n      const travel = (data) => {\n        const result = [];\n        for (const _record of data) {\n          const record = {\n            raw: _record,\n            key: _record[props.rowKey],\n            disabled: _record.disabled,\n            expand: _record.expand,\n            isLeaf: _record.isLeaf\n          };\n          if (_record.children) {\n            record.isLeaf = false;\n            record.children = travel(_record.children);\n          } else if (props.loadMore && !_record.isLeaf) {\n            record.isLeaf = false;\n            if (lazyLoadData[record.key]) {\n              record.children = travel(lazyLoadData[record.key]);\n            }\n          } else {\n            record.isLeaf = true;\n          }\n          record.hasSubtree = Boolean(record.children ? props.hideExpandButtonOnEmpty ? record.children.length > 0 : true : props.loadMore && !record.isLeaf);\n          result.push(record);\n        }\n        return result;\n      };\n      return travel((_a = props.data) != null ? _a : []);\n    });\n    const validData = computed(() => {\n      const travel = (data) => data.filter((record) => {\n        if (isValidRecord(record)) {\n          if (record.children) {\n            record.children = travel(record.children);\n          }\n          return true;\n        }\n        return false;\n      });\n      return Object.keys(computedFilters.value).length > 0 ? travel(processedData.value) : processedData.value;\n    });\n    const sortedData = computed(() => {\n      var _a, _b, _c;\n      const data = mapArrayWithChildren(validData.value);\n      if (data.length > 0) {\n        if ((_a = computedSorter.value) == null ? void 0 : _a.field) {\n          const column = dataColumnMap.get(computedSorter.value.field);\n          if (column && ((_b = column.sortable) == null ? void 0 : _b.sorter) !== true) {\n            const {\n              field,\n              direction\n            } = computedSorter.value;\n            data.sort((a, b) => {\n              var _a2;\n              const valueA = getValueByPath(a.raw, field);\n              const valueB = getValueByPath(b.raw, field);\n              if (((_a2 = column.sortable) == null ? void 0 : _a2.sorter) && isFunction(column.sortable.sorter)) {\n                return column.sortable.sorter(a.raw, b.raw, {\n                  dataIndex: field,\n                  direction\n                });\n              }\n              const result = valueA > valueB ? 1 : -1;\n              return direction === \"descend\" ? -result : result;\n            });\n          }\n        }\n        const {\n          sourcePath,\n          targetPath\n        } = dragState;\n        if (dragState.dragging && targetPath.length && targetPath.toString() !== sourcePath.toString()) {\n          if (sourcePath.length === targetPath.length && sourcePath.slice(0, -1).toString() === targetPath.slice(0, -1).toString()) {\n            let children2 = data;\n            for (let i = 0; i < sourcePath.length; i++) {\n              const sourceIndex = sourcePath[i];\n              const isLast = i >= sourcePath.length - 1;\n              if (isLast) {\n                const sourceChild = children2[sourceIndex];\n                const targetIndex = targetPath[i];\n                if (targetIndex > sourceIndex) {\n                  children2.splice(targetIndex + 1, 0, sourceChild);\n                  children2.splice(sourceIndex, 1);\n                } else {\n                  children2.splice(targetIndex, 0, sourceChild);\n                  children2.splice(sourceIndex + 1, 1);\n                }\n              } else {\n                children2 = (_c = children2[sourceIndex].children) != null ? _c : [];\n              }\n            }\n          }\n        }\n      }\n      return data;\n    });\n    const {\n      page,\n      pageSize,\n      handlePageChange,\n      handlePageSizeChange\n    } = usePagination(props, emit);\n    const onlyCurrent = computed(() => {\n      var _a, _b;\n      return (_b = (_a = rowSelection.value) == null ? void 0 : _a.onlyCurrent) != null ? _b : false;\n    });\n    watch(page, (cur, pre) => {\n      if (cur !== pre && onlyCurrent.value) {\n        clearSelected();\n      }\n    });\n    const flattenData = computed(() => {\n      if (props.pagination && sortedData.value.length > pageSize.value) {\n        return sortedData.value.slice((page.value - 1) * pageSize.value, page.value * pageSize.value);\n      }\n      return sortedData.value;\n    });\n    const flattenRawData = computed(() => mapRawTableData(flattenData.value));\n    const getSummaryData = () => {\n      return dataColumns.value.reduce((per, column, index) => {\n        if (column.dataIndex) {\n          if (index === 0) {\n            setValueByPath(per, column.dataIndex, props.summaryText, {\n              addPath: true\n            });\n          } else {\n            let count = 0;\n            let isNotNumber = false;\n            flattenData.value.forEach((data) => {\n              if (column.dataIndex) {\n                const _number = getValueByPath(data.raw, column.dataIndex);\n                if (isNumber(_number)) {\n                  count += _number;\n                } else if (!isUndefined(_number) && !isNull(_number)) {\n                  isNotNumber = true;\n                }\n              }\n            });\n            setValueByPath(per, column.dataIndex, isNotNumber ? \"\" : count, {\n              addPath: true\n            });\n          }\n        }\n        return per;\n      }, {});\n    };\n    const getTableDataWithRaw = (data) => {\n      if (data && data.length > 0) {\n        return data.map((raw) => {\n          return {\n            raw,\n            key: raw[props.rowKey]\n          };\n        });\n      }\n      return [];\n    };\n    const summaryData = computed(() => {\n      if (props.summary) {\n        if (isFunction(props.summary)) {\n          return getTableDataWithRaw(props.summary({\n            columns: dataColumns.value,\n            data: flattenRawData.value\n          }));\n        }\n        return getTableDataWithRaw([getSummaryData()]);\n      }\n      return [];\n    });\n    const containerScrollLeft = ref(0);\n    const alignLeft = ref(true);\n    const alignRight = ref(true);\n    const setAlignPosition = () => {\n      let _alignLeft = true;\n      let _alignRight = true;\n      const scrollContainer = containerElement.value;\n      if (scrollContainer) {\n        _alignLeft = containerScrollLeft.value === 0;\n        _alignRight = Math.ceil(containerScrollLeft.value + scrollContainer.offsetWidth) >= scrollContainer.scrollWidth;\n      }\n      if (_alignLeft !== alignLeft.value) {\n        alignLeft.value = _alignLeft;\n      }\n      if (_alignRight !== alignRight.value) {\n        alignRight.value = _alignRight;\n      }\n    };\n    const getTableScrollCls = () => {\n      if (alignLeft.value && alignRight.value) {\n        return `${prefixCls}-scroll-position-both`;\n      }\n      if (alignLeft.value) {\n        return `${prefixCls}-scroll-position-left`;\n      }\n      if (alignRight.value) {\n        return `${prefixCls}-scroll-position-right`;\n      }\n      return `${prefixCls}-scroll-position-middle`;\n    };\n    const getTableFixedCls = () => {\n      const cls2 = [];\n      if (hasLeftFixedColumn.value) {\n        cls2.push(`${prefixCls}-has-fixed-col-left`);\n      }\n      if (hasRightFixedColumn.value) {\n        cls2.push(`${prefixCls}-has-fixed-col-right`);\n      }\n      return cls2;\n    };\n    const handleScroll = (e) => {\n      if (e.target.scrollLeft !== containerScrollLeft.value) {\n        containerScrollLeft.value = e.target.scrollLeft;\n      }\n      setAlignPosition();\n    };\n    const onTbodyScroll = (e) => {\n      handleScroll(e);\n      const {\n        scrollLeft\n      } = e.target;\n      if (theadRef.value) {\n        theadRef.value.scrollLeft = scrollLeft;\n      }\n      if (summaryRef.value) {\n        summaryRef.value.scrollLeft = scrollLeft;\n      }\n    };\n    const handleRowClick = (record, ev) => {\n      emit(\"rowClick\", record.raw, ev);\n    };\n    const handleRowDblclick = (record, ev) => {\n      emit(\"rowDblclick\", record.raw, ev);\n    };\n    const handleRowContextMenu = (record, ev) => {\n      emit(\"rowContextmenu\", record.raw, ev);\n    };\n    const handleCellClick = (record, column, ev) => {\n      emit(\"cellClick\", record.raw, column, ev);\n    };\n    const handleCellMouseEnter = debounce((record, column, ev) => {\n      emit(\"cellMouseEnter\", record.raw, column, ev);\n    }, 30);\n    const handleCellMouseLeave = debounce((record, column, ev) => {\n      emit(\"cellMouseLeave\", record.raw, column, ev);\n    }, 30);\n    const handleCellDblclick = (record, column, ev) => {\n      emit(\"cellDblclick\", record.raw, column, ev);\n    };\n    const handleCellContextmenu = (record, column, ev) => {\n      emit(\"cellContextmenu\", record.raw, column, ev);\n    };\n    const handleHeaderClick = (column, ev) => {\n      emit(\"headerClick\", column, ev);\n    };\n    const operations = computed(() => {\n      var _a, _b;\n      const operations2 = [];\n      const hasFixedColumn = hasLeftFixedColumn.value || hasRightFixedColumn.value;\n      let dragHandle;\n      let expand2;\n      let selection;\n      if (((_a = props.draggable) == null ? void 0 : _a.type) === \"handle\") {\n        dragHandle = {\n          name: \"drag-handle\",\n          title: props.draggable.title,\n          width: props.draggable.width,\n          fixed: props.draggable.fixed || hasFixedColumn\n        };\n        operations2.push(dragHandle);\n      }\n      if (props.expandable) {\n        expand2 = {\n          name: \"expand\",\n          title: props.expandable.title,\n          width: props.expandable.width,\n          fixed: props.expandable.fixed || hasFixedColumn\n        };\n        operations2.push(expand2);\n      }\n      if (props.rowSelection) {\n        selection = {\n          name: props.rowSelection.type === \"radio\" ? \"selection-radio\" : \"selection-checkbox\",\n          title: props.rowSelection.title,\n          width: props.rowSelection.width,\n          fixed: props.rowSelection.fixed || hasFixedColumn\n        };\n        operations2.push(selection);\n      }\n      if (!hasLeftFixedDataColumns.value && operations2.length > 0 && operations2[operations2.length - 1].fixed) {\n        operations2[operations2.length - 1].isLastLeftFixed = true;\n      }\n      const operationsFn = (_b = props.components) == null ? void 0 : _b.operations;\n      return isFunction(operationsFn) ? operationsFn({\n        dragHandle,\n        expand: expand2,\n        selection\n      }) : operations2;\n    });\n    const headerStyle = computed(() => {\n      var _a, _b, _c, _d;\n      if (isScroll.value.x) {\n        const style2 = {\n          width: isNumber((_a = props.scroll) == null ? void 0 : _a.x) ? `${(_b = props.scroll) == null ? void 0 : _b.x}px` : (_c = props.scroll) == null ? void 0 : _c.x\n        };\n        if ((_d = props.scroll) == null ? void 0 : _d.minWidth) {\n          style2.minWidth = isNumber(props.scroll.minWidth) ? `${props.scroll.minWidth}px` : props.scroll.minWidth;\n        }\n        return style2;\n      }\n      return void 0;\n    });\n    const contentStyle = computed(() => {\n      var _a, _b, _c, _d;\n      if (isScroll.value.x && flattenData.value.length > 0) {\n        const style2 = {\n          width: isNumber((_a = props.scroll) == null ? void 0 : _a.x) ? `${(_b = props.scroll) == null ? void 0 : _b.x}px` : (_c = props.scroll) == null ? void 0 : _c.x\n        };\n        if ((_d = props.scroll) == null ? void 0 : _d.minWidth) {\n          style2.minWidth = isNumber(props.scroll.minWidth) ? `${props.scroll.minWidth}px` : props.scroll.minWidth;\n        }\n        return style2;\n      }\n      return void 0;\n    });\n    const addColumn = (id, column) => {\n      slotColumnMap.set(id, column);\n    };\n    const removeColumn = (id) => {\n      slotColumnMap.delete(id);\n    };\n    provide(tableInjectionKey, reactive({\n      loadMore,\n      addLazyLoadData,\n      slots,\n      sorter: computedSorter,\n      filters: computedFilters,\n      filterIconAlignLeft,\n      resizingColumn,\n      checkStrictly,\n      currentAllEnabledRowKeys,\n      currentSelectedRowKeys,\n      addColumn,\n      removeColumn,\n      onSelectAll: handleSelectAll,\n      onSelect: handleSelect,\n      onSelectAllLeafs: handleSelectAllLeafs,\n      onSorterChange: handleSorterChange,\n      onFilterChange: handleFilterChange,\n      onThMouseDown: handleThMouseDown\n    }));\n    const cls = computed(() => [prefixCls, `${prefixCls}-size-${props.size}`, {\n      [`${prefixCls}-border`]: bordered.value.wrapper,\n      [`${prefixCls}-border-cell`]: bordered.value.cell,\n      [`${prefixCls}-border-header-cell`]: !bordered.value.cell && bordered.value.headerCell,\n      [`${prefixCls}-border-body-cell`]: !bordered.value.cell && bordered.value.bodyCell,\n      [`${prefixCls}-stripe`]: props.stripe,\n      [`${prefixCls}-hover`]: props.hoverable,\n      [`${prefixCls}-dragging`]: dragState.dragging,\n      [`${prefixCls}-type-selection`]: Boolean(props.rowSelection),\n      [`${prefixCls}-empty`]: props.data && flattenData.value.length === 0,\n      [`${prefixCls}-layout-fixed`]: props.tableLayoutFixed || isScroll.value.x || splitTable.value || hasEllipsis.value\n    }]);\n    const paginationCls = computed(() => [`${prefixCls}-pagination`, {\n      [`${prefixCls}-pagination-left`]: props.pagePosition === \"tl\" || props.pagePosition === \"bl\",\n      [`${prefixCls}-pagination-center`]: props.pagePosition === \"top\" || props.pagePosition === \"bottom\",\n      [`${prefixCls}-pagination-right`]: props.pagePosition === \"tr\" || props.pagePosition === \"br\",\n      [`${prefixCls}-pagination-top`]: isPaginationTop.value\n    }]);\n    const tableCls = computed(() => {\n      const cls2 = getTableFixedCls();\n      if (isScroll.value.x) {\n        cls2.push(getTableScrollCls());\n      }\n      if (splitTable.value) {\n        cls2.push(`${prefixCls}-scroll-y`);\n      }\n      return cls2;\n    });\n    const isVirtualList = computed(() => Boolean(props.virtualListProps));\n    const thWidth = ref({});\n    const getThWidth = () => {\n      const width = {};\n      for (const key of Object.keys(thRefs.value)) {\n        width[key] = thRefs.value[key].offsetWidth;\n      }\n      thWidth.value = width;\n    };\n    const hasScrollBar = ref(false);\n    const isTbodyHasScrollBar = () => {\n      if (tbodyRef.value) {\n        return tbodyRef.value.offsetWidth > tbodyRef.value.clientWidth;\n      }\n      return false;\n    };\n    const handleTbodyResize = () => {\n      const _hasScrollBar = isTbodyHasScrollBar();\n      if (hasScrollBar.value !== _hasScrollBar) {\n        hasScrollBar.value = _hasScrollBar;\n      }\n      setAlignPosition();\n      getThWidth();\n    };\n    onMounted(() => {\n      hasScrollBar.value = isTbodyHasScrollBar();\n      getThWidth();\n    });\n    const spinProps = computed(() => isObject(props.loading) ? props.loading : {\n      loading: props.loading\n    });\n    const renderEmpty = () => {\n      return createVNode(Tr, {\n        \"empty\": true\n      }, {\n        default: () => [createVNode(Td, {\n          \"colSpan\": dataColumns.value.length + operations.value.length\n        }, {\n          default: () => {\n            var _a, _b, _c, _d, _e;\n            return [(_e = (_d = (_a = slots.empty) == null ? void 0 : _a.call(slots)) != null ? _d : (_c = configCtx == null ? void 0 : (_b = configCtx.slots).empty) == null ? void 0 : _c.call(_b, {\n              component: \"table\"\n            })) != null ? _e : createVNode(Empty, null, null)];\n          }\n        })]\n      });\n    };\n    const renderExpandContent = (record) => {\n      var _a;\n      if (record.expand) {\n        return isFunction(record.expand) ? record.expand() : record.expand;\n      }\n      if (slots[\"expand-row\"]) {\n        return slots[\"expand-row\"]({\n          record: record.raw\n        });\n      }\n      if ((_a = props.expandable) == null ? void 0 : _a.expandedRowRender) {\n        return props.expandable.expandedRowRender(record.raw);\n      }\n      return void 0;\n    };\n    const allColumns = computed(() => [].concat(operations.value, dataColumns.value));\n    const spanColumns = computed(() => props.spanAll ? allColumns.value : dataColumns.value);\n    const {\n      tableSpan,\n      removedCells\n    } = useSpan({\n      spanMethod,\n      data: flattenData,\n      columns: spanColumns\n    });\n    const {\n      tableSpan: tableSummarySpan,\n      removedCells: removedSummaryCells\n    } = useSpan({\n      spanMethod: summarySpanMethod,\n      data: summaryData,\n      columns: allColumns\n    });\n    const getVirtualColumnStyle = (name) => {\n      if (!isVirtualList.value || !name || !thWidth.value[name]) {\n        return void 0;\n      }\n      return {\n        width: `${thWidth.value[name]}px`\n      };\n    };\n    const renderSummaryRow = (record, rowIndex) => {\n      return createVNode(Tr, {\n        \"key\": `table-summary-${rowIndex}`,\n        \"class\": [`${prefixCls}-tr-summary`, isFunction(props.rowClass) ? props.rowClass(record.raw, rowIndex) : props.rowClass],\n        \"onClick\": (ev) => handleRowClick(record, ev)\n      }, {\n        default: () => [operations.value.map((operation, index) => {\n          var _a;\n          const cellId = `${rowIndex}-${index}-${record.key}`;\n          const [rowspan, colspan] = (_a = tableSummarySpan.value[cellId]) != null ? _a : [1, 1];\n          if (removedSummaryCells.value.includes(cellId)) {\n            return null;\n          }\n          const style2 = getVirtualColumnStyle(operation.name);\n          return createVNode(OperationTd, {\n            \"style\": style2,\n            \"operationColumn\": operation,\n            \"operations\": operations.value,\n            \"record\": record,\n            \"rowSpan\": rowspan,\n            \"colSpan\": colspan,\n            \"summary\": true\n          }, null);\n        }), dataColumns.value.map((column, index) => {\n          var _a;\n          const cellId = `${rowIndex}-${operations.value.length + index}-${record.key}`;\n          const [rowspan, colspan] = (_a = tableSummarySpan.value[cellId]) != null ? _a : [1, 1];\n          if (removedSummaryCells.value.includes(cellId)) {\n            return null;\n          }\n          const style2 = getVirtualColumnStyle(column.dataIndex);\n          return createVNode(Td, {\n            \"key\": `td-${cellId}`,\n            \"style\": style2,\n            \"rowIndex\": rowIndex,\n            \"record\": record,\n            \"column\": column,\n            \"operations\": operations.value,\n            \"dataColumns\": dataColumns.value,\n            \"rowSpan\": rowspan,\n            \"colSpan\": colspan,\n            \"summary\": true,\n            \"onClick\": (ev) => handleCellClick(record, column, ev),\n            \"onDblclick\": (ev) => handleCellDblclick(record, column, ev),\n            \"onMouseenter\": (ev) => handleCellMouseEnter(record, column, ev),\n            \"onMouseleave\": (ev) => handleCellMouseLeave(record, column, ev),\n            \"onContextmenu\": (ev) => handleCellContextmenu(record, column, ev)\n          }, {\n            td: slots.td,\n            cell: slots[\"summary-cell\"]\n          });\n        })],\n        tr: slots.tr\n      });\n    };\n    const renderSummary = () => {\n      if (summaryData.value && summaryData.value.length > 0) {\n        return createVNode(\"tfoot\", null, [summaryData.value.map((data, index) => renderSummaryRow(data, index))]);\n      }\n      return null;\n    };\n    const renderExpandBtn = (record, stopPropagation = true) => {\n      var _a, _b, _c, _d, _e;\n      const currentKey = record.key;\n      const expanded = expandedRowKeys.value.includes(currentKey);\n      return createVNode(\"button\", {\n        \"type\": \"button\",\n        \"class\": `${prefixCls}-expand-btn`,\n        \"onClick\": (ev) => {\n          handleExpand(currentKey, record.raw);\n          if (stopPropagation) {\n            ev.stopPropagation();\n          }\n        }\n      }, [(_e = (_d = (_a = slots[\"expand-icon\"]) == null ? void 0 : _a.call(slots, {\n        expanded,\n        record: record.raw\n      })) != null ? _d : (_c = (_b = props.expandable) == null ? void 0 : _b.icon) == null ? void 0 : _c.call(_b, expanded, record.raw)) != null ? _e : expanded ? createVNode(IconMinus, null, null) : createVNode(IconPlus, null, null)]);\n    };\n    const renderExpand = (record, {\n      indentSize,\n      indexPath,\n      allowDrag,\n      expandContent\n    }) => {\n      var _a, _b;\n      if (record.hasSubtree) {\n        if (((_a = record.children) == null ? void 0 : _a.length) === 0 && showEmptyTree.value) {\n          return renderEmpty();\n        }\n        return (_b = record.children) == null ? void 0 : _b.map((item, index) => renderRecord(item, index, {\n          indentSize,\n          indexPath,\n          allowDrag\n        }));\n      }\n      if (expandContent) {\n        const scrollContainer = containerElement.value;\n        return createVNode(Tr, {\n          \"key\": `${record.key}-expand`,\n          \"expand\": true\n        }, {\n          default: () => [createVNode(Td, {\n            \"isFixedExpand\": hasLeftFixedColumn.value || hasRightFixedColumn.value,\n            \"containerWidth\": scrollContainer == null ? void 0 : scrollContainer.clientWidth,\n            \"colSpan\": dataColumns.value.length + operations.value.length\n          }, _isSlot(expandContent) ? expandContent : {\n            default: () => [expandContent]\n          })]\n        });\n      }\n      return null;\n    };\n    const renderRecord = (record, rowIndex, {\n      indentSize = 0,\n      indexPath,\n      allowDrag = true\n    } = {}) => {\n      var _a;\n      const currentKey = record.key;\n      const currentPath = (indexPath != null ? indexPath : []).concat(rowIndex);\n      const expandContent = renderExpandContent(record);\n      const showExpand = expandedRowKeys.value.includes(currentKey);\n      const isDragTarget = dragState.sourceKey === record.key;\n      const dragSourceEvent = dragType.value ? {\n        draggable: allowDrag,\n        onDragstart: (ev) => {\n          if (!allowDrag)\n            return;\n          handleDragStart(ev, record.key, currentPath, record.raw);\n        },\n        onDragend: (ev) => {\n          if (!allowDrag)\n            return;\n          handleDragEnd(ev);\n        }\n      } : {};\n      const dragTargetEvent = dragType.value ? {\n        onDragenter: (ev) => {\n          if (!allowDrag)\n            return;\n          handleDragEnter(ev, currentPath);\n        },\n        onDragover: (ev) => {\n          if (!allowDrag)\n            return;\n          handleDragover(ev);\n        },\n        onDrop: (ev) => {\n          if (!allowDrag)\n            return;\n          handleChange(\"drag\");\n          handleDrop(ev);\n        }\n      } : {};\n      return createVNode(Fragment, null, [createVNode(Tr, mergeProps({\n        \"key\": currentKey,\n        \"class\": [{\n          [`${prefixCls}-tr-draggable`]: dragType.value === \"row\",\n          [`${prefixCls}-tr-drag`]: isDragTarget\n        }, isFunction(props.rowClass) ? props.rowClass(record.raw, rowIndex) : props.rowClass],\n        \"rowIndex\": rowIndex,\n        \"record\": record,\n        \"checked\": (_a = selectedRowKeys.value) == null ? void 0 : _a.includes(currentKey),\n        \"onClick\": (ev) => handleRowClick(record, ev),\n        \"onDblclick\": (ev) => handleRowDblclick(record, ev),\n        \"onContextmenu\": (ev) => handleRowContextMenu(record, ev)\n      }, dragType.value === \"row\" ? dragSourceEvent : {}, dragTargetEvent), {\n        default: () => [operations.value.map((operation, index) => {\n          var _a2;\n          const cellId = `${rowIndex}-${index}-${record.key}`;\n          const [rowspan, colspan] = props.spanAll ? (_a2 = tableSpan.value[cellId]) != null ? _a2 : [1, 1] : [1, 1];\n          if (props.spanAll && removedCells.value.includes(cellId)) {\n            return null;\n          }\n          const style2 = getVirtualColumnStyle(operation.name);\n          return createVNode(OperationTd, mergeProps({\n            \"key\": `operation-td-${index}`,\n            \"style\": style2,\n            \"operationColumn\": operation,\n            \"operations\": operations.value,\n            \"record\": record,\n            \"hasExpand\": Boolean(expandContent),\n            \"selectedRowKeys\": currentSelectedRowKeys.value,\n            \"rowSpan\": rowspan,\n            \"colSpan\": colspan,\n            \"renderExpandBtn\": renderExpandBtn\n          }, dragType.value === \"handle\" ? dragSourceEvent : {}), {\n            \"drag-handle-icon\": slots[\"drag-handle-icon\"]\n          });\n        }), dataColumns.value.map((column, index) => {\n          var _a2;\n          const cellId = `${rowIndex}-${props.spanAll ? operations.value.length + index : index}-${record.key}`;\n          const [rowspan, colspan] = (_a2 = tableSpan.value[cellId]) != null ? _a2 : [1, 1];\n          if (removedCells.value.includes(cellId)) {\n            return null;\n          }\n          const extraProps = index === 0 ? {\n            showExpandBtn: record.hasSubtree,\n            indentSize: record.hasSubtree ? indentSize - 20 : indentSize\n          } : {};\n          const style2 = getVirtualColumnStyle(column.dataIndex);\n          return createVNode(Td, mergeProps({\n            \"key\": `td-${index}`,\n            \"style\": style2,\n            \"rowIndex\": rowIndex,\n            \"record\": record,\n            \"column\": column,\n            \"operations\": operations.value,\n            \"dataColumns\": dataColumns.value,\n            \"rowSpan\": rowspan,\n            \"renderExpandBtn\": renderExpandBtn,\n            \"colSpan\": colspan\n          }, extraProps, {\n            \"onClick\": (ev) => handleCellClick(record, column, ev),\n            \"onDblclick\": (ev) => handleCellDblclick(record, column, ev),\n            \"onMouseenter\": (ev) => handleCellMouseEnter(record, column, ev),\n            \"onMouseleave\": (ev) => handleCellMouseLeave(record, column, ev),\n            \"onContextmenu\": (ev) => handleCellContextmenu(record, column, ev)\n          }), {\n            td: slots.td\n          });\n        })],\n        tr: slots.tr\n      }), showExpand && renderExpand(record, {\n        indentSize: indentSize + props.indentSize,\n        indexPath: currentPath,\n        allowDrag: allowDrag && !isDragTarget,\n        expandContent\n      })]);\n    };\n    const renderBody = () => {\n      const hasSubData = flattenData.value.some((record) => Boolean(record.hasSubtree));\n      return createVNode(Tbody, null, {\n        default: () => [flattenData.value.length > 0 ? flattenData.value.map((record, index) => renderRecord(record, index, {\n          indentSize: hasSubData ? 20 : 0\n        })) : renderEmpty()],\n        tbody: slots.tbody\n      });\n    };\n    const renderHeader = () => createVNode(Thead, null, {\n      default: () => [groupColumns.value.map((row, index) => createVNode(Tr, {\n        \"key\": `header-row-${index}`\n      }, {\n        default: () => [index === 0 && operations.value.map((operation, index2) => {\n          var _a;\n          return createVNode(OperationTh, {\n            \"key\": `operation-th-${index2}`,\n            \"ref\": (ins) => {\n              if ((ins == null ? void 0 : ins.$el) && operation.name) {\n                thRefs.value[operation.name] = ins.$el;\n              }\n            },\n            \"operationColumn\": operation,\n            \"operations\": operations.value,\n            \"selectAll\": Boolean(operation.name === \"selection-checkbox\" && ((_a = props.rowSelection) == null ? void 0 : _a.showCheckedAll)),\n            \"rowSpan\": groupColumns.value.length\n          }, null);\n        }), row.map((column, index2) => {\n          const resizable = props.columnResizable && Boolean(column.dataIndex) && index2 < row.length - 1;\n          return createVNode(Th, {\n            \"key\": `th-${index2}`,\n            \"ref\": (ins) => {\n              if ((ins == null ? void 0 : ins.$el) && column.dataIndex) {\n                thRefs.value[column.dataIndex] = ins.$el;\n              }\n            },\n            \"column\": column,\n            \"operations\": operations.value,\n            \"dataColumns\": dataColumns.value,\n            \"resizable\": resizable,\n            \"onClick\": (ev) => handleHeaderClick(column, ev)\n          }, {\n            th: slots.th\n          });\n        })]\n      }))],\n      thead: slots.thead\n    });\n    const renderContent = () => {\n      if (splitTable.value) {\n        const style2 = {};\n        if (hasScrollBar.value) {\n          style2.overflowY = \"scroll\";\n        }\n        if (isNumber(props.stickyHeader)) {\n          style2.top = `${props.stickyHeader}px`;\n        }\n        const Component = displayScrollbar.value ? Scrollbar : \"div\";\n        return createVNode(Fragment, null, [props.showHeader && createVNode(Component, mergeProps({\n          \"ref\": theadComRef,\n          \"class\": [`${prefixCls}-header`, {\n            [`${prefixCls}-header-sticky`]: props.stickyHeader\n          }],\n          \"style\": style2\n        }, scrollbar.value ? __spreadValues({\n          hide: flattenData.value.length !== 0,\n          disableVertical: true\n        }, scrollbarProps.value) : void 0), {\n          default: () => [createVNode(\"table\", {\n            \"class\": `${prefixCls}-element`,\n            \"style\": headerStyle.value,\n            \"cellpadding\": 0,\n            \"cellspacing\": 0\n          }, [createVNode(ColGroup, {\n            \"dataColumns\": dataColumns.value,\n            \"operations\": operations.value,\n            \"columnWidth\": columnWidth\n          }, null), renderHeader()])]\n        }), createVNode(ResizeObserver, {\n          \"onResize\": handleTbodyResize\n        }, {\n          default: () => {\n            var _a, _b;\n            return [isVirtualList.value ? createVNode(VirtualList, mergeProps({\n              \"ref\": (ins) => {\n                if (ins == null ? void 0 : ins.$el)\n                  tbodyRef.value = ins.$el;\n              },\n              \"class\": `${prefixCls}-body`,\n              \"data\": flattenData.value,\n              \"itemKey\": \"_key\",\n              \"component\": {\n                list: \"table\",\n                content: \"tbody\"\n              },\n              \"listAttrs\": {\n                class: `${prefixCls}-element`,\n                style: contentStyle.value\n              },\n              \"paddingPosition\": \"list\"\n            }, props.virtualListProps, {\n              \"onScroll\": onTbodyScroll\n            }), {\n              item: ({\n                item,\n                index\n              }) => renderRecord(item, index)\n            }) : createVNode(Component, mergeProps({\n              \"ref\": tbodyComRef,\n              \"class\": `${prefixCls}-body`,\n              \"style\": {\n                maxHeight: isNumber((_a = props.scroll) == null ? void 0 : _a.y) ? `${(_b = props.scroll) == null ? void 0 : _b.y}px` : \"100%\"\n              }\n            }, scrollbar.value ? __spreadValues({\n              outerStyle: {\n                display: \"flex\",\n                minHeight: \"0\"\n              }\n            }, scrollbarProps.value) : void 0, {\n              \"onScroll\": onTbodyScroll\n            }), {\n              default: () => [createVNode(\"table\", {\n                \"class\": `${prefixCls}-element`,\n                \"style\": contentStyle.value,\n                \"cellpadding\": 0,\n                \"cellspacing\": 0\n              }, [flattenData.value.length !== 0 && createVNode(ColGroup, {\n                \"dataColumns\": dataColumns.value,\n                \"operations\": operations.value,\n                \"columnWidth\": columnWidth\n              }, null), renderBody()])]\n            })];\n          }\n        }), summaryData.value && summaryData.value.length > 0 && createVNode(\"div\", {\n          \"ref\": summaryRef,\n          \"class\": `${prefixCls}-tfoot`,\n          \"style\": {\n            overflowY: hasScrollBar.value ? \"scroll\" : \"hidden\"\n          }\n        }, [createVNode(\"table\", {\n          \"class\": `${prefixCls}-element`,\n          \"style\": contentStyle.value,\n          \"cellpadding\": 0,\n          \"cellspacing\": 0\n        }, [createVNode(ColGroup, {\n          \"dataColumns\": dataColumns.value,\n          \"operations\": operations.value,\n          \"columnWidth\": columnWidth\n        }, null), renderSummary()])])]);\n      }\n      return createVNode(ResizeObserver, {\n        \"onResize\": () => setAlignPosition()\n      }, {\n        default: () => [createVNode(\"table\", {\n          \"class\": `${prefixCls}-element`,\n          \"cellpadding\": 0,\n          \"cellspacing\": 0,\n          \"style\": contentStyle.value\n        }, [createVNode(ColGroup, {\n          \"dataColumns\": dataColumns.value,\n          \"operations\": operations.value,\n          \"columnWidth\": columnWidth\n        }, null), props.showHeader && renderHeader(), renderBody(), summaryData.value && summaryData.value.length > 0 && renderSummary()])]\n      });\n    };\n    const renderTable = (content) => {\n      var _a;\n      const style2 = ((_a = props.scroll) == null ? void 0 : _a.maxHeight) ? {\n        maxHeight: props.scroll.maxHeight\n      } : void 0;\n      const Component = displayScrollbar.value ? Scrollbar : \"div\";\n      return createVNode(Fragment, null, [createVNode(\"div\", {\n        \"class\": [`${prefixCls}-container`, tableCls.value]\n      }, [createVNode(Component, mergeProps({\n        \"ref\": contentComRef,\n        \"class\": [`${prefixCls}-content`, {\n          [`${prefixCls}-content-scroll-x`]: !splitTable.value\n        }],\n        \"style\": style2\n      }, scrollbar.value ? __spreadValues({\n        outerStyle: {\n          height: \"100%\"\n        }\n      }, scrollbarProps.value) : void 0, {\n        \"onScroll\": handleScroll\n      }), {\n        default: () => [content ? createVNode(\"table\", {\n          \"class\": `${prefixCls}-element`,\n          \"cellpadding\": 0,\n          \"cellspacing\": 0\n        }, [content()]) : renderContent()]\n      })]), slots.footer && createVNode(\"div\", {\n        \"class\": `${prefixCls}-footer`\n      }, [slots.footer()])]);\n    };\n    const renderPagination = () => {\n      var _a, _b;\n      const paginationProps = isObject(props.pagination) ? omit(props.pagination, [\"current\", \"pageSize\", \"defaultCurrent\", \"defaultPageSize\"]) : {};\n      return createVNode(\"div\", {\n        \"class\": paginationCls.value\n      }, [(_a = slots[\"pagination-left\"]) == null ? void 0 : _a.call(slots), createVNode(Pagination, mergeProps({\n        \"total\": validData.value.length,\n        \"current\": page.value,\n        \"pageSize\": pageSize.value,\n        \"onChange\": (page2) => {\n          handlePageChange(page2);\n          handleChange(\"pagination\");\n        },\n        \"onPageSizeChange\": (pageSize2) => {\n          handlePageSizeChange(pageSize2);\n          handleChange(\"pagination\");\n        }\n      }, paginationProps), null), (_b = slots[\"pagination-right\"]) == null ? void 0 : _b.call(slots)]);\n    };\n    const style = computed(() => {\n      var _a, _b;\n      if (isString((_a = props.scroll) == null ? void 0 : _a.y)) {\n        return {\n          height: (_b = props.scroll) == null ? void 0 : _b.y\n        };\n      }\n      return void 0;\n    });\n    const render = () => {\n      var _a;\n      if (slots.default) {\n        return createVNode(\"div\", {\n          \"class\": cls.value\n        }, [renderTable(slots.default)]);\n      }\n      children.value = (_a = slots.columns) == null ? void 0 : _a.call(slots);\n      return createVNode(\"div\", {\n        \"class\": cls.value,\n        \"style\": style.value\n      }, [children.value, createVNode(Spin, spinProps.value, {\n        default: () => [props.pagination !== false && (flattenData.value.length > 0 || sortedData.value.length > 0) && isPaginationTop.value && renderPagination(), renderTable(), props.pagination !== false && (flattenData.value.length > 0 || sortedData.value.length > 0) && !isPaginationTop.value && renderPagination()]\n      })]);\n    };\n    return {\n      render,\n      selfExpand: expand,\n      selfExpandAll: expandAll,\n      selfSelect: select,\n      selfSelectAll: selectAll,\n      selfResetFilters: resetFilters,\n      selfClearFilters: clearFilters,\n      selfResetSorters: resetSorters,\n      selfClearSorters: clearSorters\n    };\n  },\n  methods: {\n    selectAll(checked) {\n      return this.selfSelectAll(checked);\n    },\n    select(rowKey, checked) {\n      return this.selfSelect(rowKey, checked);\n    },\n    expandAll(checked) {\n      return this.selfExpandAll(checked);\n    },\n    expand(rowKey, checked) {\n      return this.selfExpand(rowKey, checked);\n    },\n    resetFilters(dataIndex) {\n      return this.selfResetFilters(dataIndex);\n    },\n    clearFilters(dataIndex) {\n      return this.selfClearFilters(dataIndex);\n    },\n    resetSorters() {\n      return this.selfResetSorters();\n    },\n    clearSorters() {\n      return this.selfClearSorters();\n    }\n  },\n  render() {\n    return this.render();\n  }\n});\nexport { _Table as default };\n"],"mappings":";AAAA,IAAIA,SAAS,GAAGC,MAAM,CAACC,cAAc;AACrC,IAAIC,UAAU,GAAGF,MAAM,CAACG,gBAAgB;AACxC,IAAIC,iBAAiB,GAAGJ,MAAM,CAACK,yBAAyB;AACxD,IAAIC,mBAAmB,GAAGN,MAAM,CAACO,qBAAqB;AACtD,IAAIC,YAAY,GAAGR,MAAM,CAACS,SAAS,CAACC,cAAc;AAClD,IAAIC,YAAY,GAAGX,MAAM,CAACS,SAAS,CAACG,oBAAoB;AACxD,IAAIC,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAKD,GAAG,IAAID,GAAG,GAAGf,SAAS,CAACe,GAAG,EAAEC,GAAG,EAAE;EAAEE,UAAU,EAAE,IAAI;EAAEC,YAAY,EAAE,IAAI;EAAEC,QAAQ,EAAE,IAAI;EAAEH;AAAM,CAAC,CAAC,GAAGF,GAAG,CAACC,GAAG,CAAC,GAAGC,KAAK;AAC/J,IAAII,cAAc,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;EAC7B,KAAK,IAAIC,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAC5B,IAAId,YAAY,CAACgB,IAAI,CAACF,CAAC,EAAEC,IAAI,CAAC,EAC5BV,eAAe,CAACQ,CAAC,EAAEE,IAAI,EAAED,CAAC,CAACC,IAAI,CAAC,CAAC;EACrC,IAAIjB,mBAAmB,EACrB,KAAK,IAAIiB,IAAI,IAAIjB,mBAAmB,CAACgB,CAAC,CAAC,EAAE;IACvC,IAAIX,YAAY,CAACa,IAAI,CAACF,CAAC,EAAEC,IAAI,CAAC,EAC5BV,eAAe,CAACQ,CAAC,EAAEE,IAAI,EAAED,CAAC,CAACC,IAAI,CAAC,CAAC;EACrC;EACF,OAAOF,CAAC;AACV,CAAC;AACD,IAAII,aAAa,GAAGA,CAACJ,CAAC,EAAEC,CAAC,KAAKpB,UAAU,CAACmB,CAAC,EAAEjB,iBAAiB,CAACkB,CAAC,CAAC,CAAC;AACjE,SAASI,eAAe,EAAEC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,WAAW,EAAEC,OAAO,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,OAAO,QAAQ,KAAK;AAClK,SAASC,YAAY,QAAQ,4BAA4B;AACzD,SAASC,QAAQ,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,iBAAiB;AACxG,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,eAAe,EAAEC,oBAAoB,EAAEC,eAAe,QAAQ,YAAY;AACnF,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,aAAa,QAAQ,2BAA2B;AACzD,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,SAAS,MAAM,6BAA6B;AACnD,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,EAAE,MAAM,eAAe;AAC9B,OAAOC,EAAE,MAAM,eAAe;AAC9B,OAAOC,EAAE,MAAM,eAAe;AAC9B,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,WAAW,MAAM,gDAAgD;AACxE,OAAOC,cAAc,MAAM,mCAAmC;AAC9D,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,0BAA0B,QAAQ,+BAA+B;AAC1E,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,iBAAiB,QAAQ,cAAc;AAChD,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,SAAS,QAAQ,uBAAuB;AACjD,OAAO,+BAA+B;AACtC,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,qBAAqB,QAAQ,sCAAsC;AAC5E,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,YAAY,QAAQ,4BAA4B;AACzD,SAASC,cAAc,EAAEC,cAAc,QAAQ,gCAAgC;AAC/E,SAASC,OAAOA,CAACC,CAAC,EAAE;EAClB,OAAO,OAAOA,CAAC,KAAK,UAAU,IAAIrF,MAAM,CAACS,SAAS,CAAC6E,QAAQ,CAAC9D,IAAI,CAAC6D,CAAC,CAAC,KAAK,iBAAiB,IAAI,CAAC9C,OAAO,CAAC8C,CAAC,CAAC;AAC1G;AACA,MAAME,gBAAgB,GAAG;EACvBC,OAAO,EAAE,IAAI;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE,KAAK;EACjBC,QAAQ,EAAE;AACZ,CAAC;AACD,IAAIC,MAAM,GAAGlE,eAAe,CAAC;EAC3BmE,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB,CAAC;IACDC,IAAI,EAAE;MACJH,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB,CAAC;IACDE,QAAQ,EAAE;MACRJ,IAAI,EAAE,CAACK,OAAO,EAAErG,MAAM,CAAC;MACvBkG,OAAO,EAAE;IACX,CAAC;IACDI,SAAS,EAAE;MACTN,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDK,MAAM,EAAE;MACNP,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDM,IAAI,EAAE;MACJR,IAAI,EAAES,MAAM;MACZP,OAAO,EAAEA,CAAA,KAAM;QACb,IAAIQ,EAAE,EAAEC,EAAE;QACV,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAG/E,MAAM,CAAC4C,0BAA0B,EAAE,KAAK,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGmC,EAAE,CAACF,IAAI,KAAK,IAAI,GAAGG,EAAE,GAAG,OAAO;MACnH;IACF,CAAC;IACDC,gBAAgB,EAAE;MAChBZ,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDW,OAAO,EAAE;MACPb,IAAI,EAAE,CAACK,OAAO,EAAErG,MAAM,CAAC;MACvBkG,OAAO,EAAE;IACX,CAAC;IACDY,YAAY,EAAE;MACZd,IAAI,EAAEhG;IACR,CAAC;IACD+G,UAAU,EAAE;MACVf,IAAI,EAAEhG;IACR,CAAC;IACDgH,MAAM,EAAE;MACNhB,IAAI,EAAEhG;IACR,CAAC;IACDiH,UAAU,EAAE;MACVjB,IAAI,EAAE,CAACK,OAAO,EAAErG,MAAM,CAAC;MACvBkG,OAAO,EAAE;IACX,CAAC;IACDgB,YAAY,EAAE;MACZlB,IAAI,EAAES,MAAM;MACZP,OAAO,EAAE;IACX,CAAC;IACDiB,UAAU,EAAE;MACVnB,IAAI,EAAEoB,MAAM;MACZlB,OAAO,EAAE;IACX,CAAC;IACDmB,MAAM,EAAE;MACNrB,IAAI,EAAES,MAAM;MACZP,OAAO,EAAE;IACX,CAAC;IACDoB,UAAU,EAAE;MACVtB,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDqB,gBAAgB,EAAE;MAChBvB,IAAI,EAAEhG;IACR,CAAC;IACDwH,UAAU,EAAE;MACVxB,IAAI,EAAEyB;IACR,CAAC;IACDC,OAAO,EAAE;MACP1B,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDyB,UAAU,EAAE;MACV3B,IAAI,EAAEhG;IACR,CAAC;IACD4H,QAAQ,EAAE;MACR5B,IAAI,EAAEyB;IACR,CAAC;IACDI,mBAAmB,EAAE;MACnB7B,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACD4B,uBAAuB,EAAE;MACvB9B,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACD6B,QAAQ,EAAE;MACR/B,IAAI,EAAE,CAACS,MAAM,EAAER,KAAK,EAAEjG,MAAM,EAAEyH,QAAQ;IACxC,CAAC;IACDO,SAAS,EAAE;MACThC,IAAI,EAAEhG;IACR,CAAC;IACDiI,SAAS,EAAE;MACTjC,IAAI,EAAE,CAACK,OAAO,EAAErG,MAAM;IACxB,CAAC;IACDkI,eAAe,EAAE;MACflC,IAAI,EAAEK;IACR,CAAC;IACD8B,OAAO,EAAE;MACPnC,IAAI,EAAE,CAACK,OAAO,EAAEoB,QAAQ;IAC1B,CAAC;IACDW,WAAW,EAAE;MACXpC,IAAI,EAAES,MAAM;MACZP,OAAO,EAAE;IACX,CAAC;IACDmC,iBAAiB,EAAE;MACjBrC,IAAI,EAAEyB;IACR,CAAC;IACDa,YAAY,EAAE;MACZtC,IAAI,EAAEC;IACR,CAAC;IACDsC,mBAAmB,EAAE;MACnBvC,IAAI,EAAEC;IACR,CAAC;IACDuC,YAAY,EAAE;MACZxC,IAAI,EAAEC;IACR,CAAC;IACDwC,mBAAmB,EAAE;MACnBzC,IAAI,EAAEC;IACR,CAAC;IACDyC,oBAAoB,EAAE;MACpB1C,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDyC,YAAY,EAAE;MACZ3C,IAAI,EAAE,CAACK,OAAO,EAAEe,MAAM,CAAC;MACvBlB,OAAO,EAAE;IACX,CAAC;IACD0C,SAAS,EAAE;MACT5C,IAAI,EAAE,CAAChG,MAAM,EAAEqG,OAAO,CAAC;MACvBH,OAAO,EAAE;IACX,CAAC;IACD2C,aAAa,EAAE;MACb7C,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAE;IACX;EACF,CAAC;EACD4C,KAAK,EAAE;IACL,qBAAqB,EAAGC,OAAO,IAAK,IAAI;IACxC,qBAAqB,EAAGA,OAAO,IAAK,IAAI;IACxC,QAAQ,EAAEC,CAAC3B,MAAM,EAAE4B,MAAM,KAAK,IAAI;IAClC,gBAAgB,EAAGF,OAAO,IAAK,IAAI;IACnC,QAAQ,EAAEG,CAACH,OAAO,EAAE1B,MAAM,EAAE4B,MAAM,KAAK,IAAI;IAC3C,WAAW,EAAGE,OAAO,IAAK,IAAI;IAC9B,iBAAiB,EAAGJ,OAAO,IAAK,IAAI;IACpC,cAAc,EAAEK,CAACC,SAAS,EAAEC,SAAS,KAAK,IAAI;IAC9C,cAAc,EAAEC,CAACF,SAAS,EAAEG,cAAc,KAAK,IAAI;IACnD,YAAY,EAAGC,IAAI,IAAK,IAAI;IAC5B,gBAAgB,EAAGC,QAAQ,IAAK,IAAI;IACpC,QAAQ,EAAEC,CAACxD,IAAI,EAAEyD,KAAK,EAAEC,WAAW,KAAK,IAAI;IAC5C,gBAAgB,EAAEC,CAACb,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK,IAAI;IAC9C,gBAAgB,EAAEC,CAAChB,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK,IAAI;IAC9C,WAAW,EAAEE,CAACjB,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK,IAAI;IACzC,UAAU,EAAEG,CAAClB,MAAM,EAAEe,EAAE,KAAK,IAAI;IAChC,aAAa,EAAEI,CAACL,MAAM,EAAEC,EAAE,KAAK,IAAI;IACnC,cAAc,EAAEK,CAAChB,SAAS,EAAEiB,KAAK,KAAK,IAAI;IAC1C,aAAa,EAAEC,CAACtB,MAAM,EAAEe,EAAE,KAAK,IAAI;IACnC,cAAc,EAAEQ,CAACvB,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK,IAAI;IAC5C,gBAAgB,EAAES,CAACxB,MAAM,EAAEe,EAAE,KAAK,IAAI;IACtC,iBAAiB,EAAEU,CAACzB,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK;EAC7C,CAAC;EACDW,KAAKA,CAAC7E,KAAK,EAAE;IACX8E,IAAI;IACJC;EACF,CAAC,EAAE;IACD,MAAM;MACJ9E,OAAO;MACPsB,MAAM;MACNP,YAAY;MACZC,UAAU;MACVa,QAAQ;MACRC,mBAAmB;MACnBS,YAAY;MACZC,mBAAmB;MACnBC,YAAY;MACZC,mBAAmB;MACnBC,oBAAoB;MACpBlB,UAAU;MACVQ,SAAS;MACTK,iBAAiB;MACjBO,SAAS;MACTC;IACF,CAAC,GAAGjH,MAAM,CAACkE,KAAK,CAAC;IACjB,MAAMgF,SAAS,GAAGtI,YAAY,CAAC,OAAO,CAAC;IACvC,MAAMuI,SAAS,GAAGpJ,MAAM,CAAC4C,0BAA0B,EAAE,KAAK,CAAC,CAAC;IAC5D,MAAM6B,QAAQ,GAAGvE,QAAQ,CAAC,MAAM;MAC9B,IAAIY,QAAQ,CAACqD,KAAK,CAACM,QAAQ,CAAC,EAAE;QAC5B,OAAOhF,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEmE,gBAAgB,CAAC,EAAEO,KAAK,CAACM,QAAQ,CAAC;MAC7E;MACA,OAAO3E,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAEmE,gBAAgB,CAAC,EAAE;QACzDC,OAAO,EAAEM,KAAK,CAACM;MACjB,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,MAAM;MACJ4E,QAAQ;MACRrD;IACF,CAAC,GAAG7C,qBAAqB,CAAC,aAAa,CAAC;IACxC,MAAMmG,aAAa,GAAGpJ,QAAQ,CAAC,MAAM;MACnC,IAAI6E,EAAE,EAAEC,EAAE;MACV,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGI,YAAY,CAAC9F,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0F,EAAE,CAACuE,aAAa,KAAK,IAAI,GAAGtE,EAAE,GAAG,IAAI;IACjG,CAAC,CAAC;IACF,MAAM;MACJuE,gBAAgB;MAChBC;IACF,CAAC,GAAGlG,YAAY,CAAC2D,SAAS,CAAC;IAC3B,MAAMwC,QAAQ,GAAGvJ,QAAQ,CAAC,MAAM;MAC9B,IAAI6E,EAAE,EAAEC,EAAE,EAAE0E,EAAE,EAAEC,EAAE;MAClB,MAAMC,CAAC,GAAGlF,OAAO,CAAC,CAAC,CAACK,EAAE,GAAGZ,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAAC6E,CAAC,MAAM,CAAC5E,EAAE,GAAGb,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAAC6E,QAAQ,CAAC,CAAC;MACxH,MAAMC,CAAC,GAAGpF,OAAO,CAAC,CAAC,CAACgF,EAAE,GAAGvF,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGqE,EAAE,CAACI,CAAC,MAAM,CAACH,EAAE,GAAGxF,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGsE,EAAE,CAACI,SAAS,CAAC,CAAC;MACzH,OAAO;QACLH,CAAC;QACDE;MACF,CAAC;IACH,CAAC,CAAC;IACF,MAAME,UAAU,GAAG7J,GAAG,CAAC,CAAC;IACxB,MAAM8J,MAAM,GAAG9J,GAAG,CAAC,CAAC,CAAC,CAAC;IACtB,MAAM;MACJ+J,YAAY,EAAEC,aAAa;MAC3BC,UAAU,EAAEC;IACd,CAAC,GAAGhH,eAAe,CAAC,cAAc,CAAC;IACnC,MAAM;MACJ6G,YAAY,EAAEI,WAAW;MACzBF,UAAU,EAAEG;IACd,CAAC,GAAGlH,eAAe,CAAC,cAAc,CAAC;IACnC,MAAM;MACJ6G,YAAY,EAAEM,aAAa;MAC3BJ,UAAU,EAAEK;IACd,CAAC,GAAGpH,eAAe,CAAC,aAAa,CAAC;IAClC,MAAM;MACJ6G,YAAY,EAAEQ,WAAW;MACzBN,UAAU,EAAEO;IACd,CAAC,GAAGtH,eAAe,CAAC,cAAc,CAAC;IACnC,MAAMuH,gBAAgB,GAAG1K,QAAQ,CAAC,MAAM;MACtC,IAAI2K,UAAU,CAACxL,KAAK,EAAE;QACpB,IAAIyL,aAAa,CAACzL,KAAK,EAAE;UACvB,OAAOoL,UAAU,CAACpL,KAAK;QACzB;QACA,OAAOkL,QAAQ,CAAClL,KAAK;MACvB;MACA,OAAOgL,UAAU,CAAChL,KAAK;IACzB,CAAC,CAAC;IACF,MAAMwL,UAAU,GAAG3K,QAAQ,CAAC,MAAMuJ,QAAQ,CAACpK,KAAK,CAACyK,CAAC,IAAI3F,KAAK,CAAC6C,YAAY,IAAI8D,aAAa,CAACzL,KAAK,IAAIoK,QAAQ,CAACpK,KAAK,CAACuK,CAAC,IAAImB,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,KAAK,CAAC,CAAC;IACtJ,MAAMC,aAAa,GAAG7K,QAAQ,CAAC,IAAI8K,GAAG,CAAC,CAAC,CAAC;IACzC,MAAMC,WAAW,GAAGhL,GAAG,CAAC,CAAC;IACzBE,KAAK,CAAC,CAAC2F,UAAU,EAAEiF,aAAa,CAAC,EAAE,CAAC,CAACG,WAAW,EAAEC,cAAc,CAAC,KAAK;MACpE,IAAID,WAAW,CAACJ,MAAM,GAAG,CAAC,EAAE;QAC1B,MAAMM,QAAQ,GAAG,EAAE;QACnBF,WAAW,CAACG,OAAO,CAAEC,EAAE,IAAK;UAC1B,MAAMpD,MAAM,GAAGiD,cAAc,CAACI,GAAG,CAACD,EAAE,CAAC;UACrC,IAAIpD,MAAM,EACRkD,QAAQ,CAACI,IAAI,CAACtD,MAAM,CAAC;QACzB,CAAC,CAAC;QACF+C,WAAW,CAAC9L,KAAK,GAAGiM,QAAQ;MAC9B,CAAC,MAAM;QACLH,WAAW,CAAC9L,KAAK,GAAG,KAAK,CAAC;MAC5B;IACF,CAAC,CAAC;IACF,MAAMsM,aAAa,GAAG,IAAIT,GAAG,CAAC,CAAC;IAC/B,MAAMU,WAAW,GAAGzL,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAM0L,YAAY,GAAG1L,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAM;MACJ2L,cAAc;MACdC,WAAW;MACXC;IACF,CAAC,GAAGlJ,eAAe,CAACmH,MAAM,EAAEhB,IAAI,CAAC;IACjC5I,KAAK,CAAC,CAAC+D,OAAO,EAAE+G,WAAW,EAAEY,WAAW,CAAC,EAAE,CAAC,CAACT,QAAQ,EAAEW,YAAY,CAAC,KAAK;MACvE,IAAIlH,EAAE;MACN,MAAMmH,MAAM,GAAG5K,eAAe,CAAC,CAACyD,EAAE,GAAGkH,YAAY,IAAI,IAAI,GAAGA,YAAY,GAAGX,QAAQ,KAAK,IAAI,GAAGvG,EAAE,GAAG,EAAE,EAAE4G,aAAa,EAAEI,WAAW,CAAC;MACnIH,WAAW,CAACvM,KAAK,GAAG6M,MAAM,CAACN,WAAW;MACtCC,YAAY,CAACxM,KAAK,GAAG6M,MAAM,CAACL,YAAY;IAC1C,CAAC,EAAE;MACDM,SAAS,EAAE,IAAI;MACfC,IAAI,EAAE;IACR,CAAC,CAAC;IACF,MAAMC,eAAe,GAAGnM,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAACoM,QAAQ,CAACnI,KAAK,CAACoB,YAAY,CAAC,CAAC;IACxF,MAAMgH,kBAAkB,GAAGpM,GAAG,CAAC,KAAK,CAAC;IACrC,MAAMqM,mBAAmB,GAAGrM,GAAG,CAAC,KAAK,CAAC;IACtC,MAAMsM,uBAAuB,GAAGtM,GAAG,CAAC,KAAK,CAAC;IAC1CG,WAAW,CAAC,MAAM;MAChB,IAAIyE,EAAE,EAAEC,EAAE,EAAE0E,EAAE;MACd,IAAIgD,mBAAmB,GAAG,KAAK;MAC/B,IAAIC,oBAAoB,GAAG,KAAK;MAChC,IAAIC,wBAAwB,GAAG,KAAK;MACpC,IAAI,CAAC,CAAC7H,EAAE,GAAGZ,KAAK,CAACgB,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAAC8H,KAAK,MAAM,CAAC7H,EAAE,GAAGb,KAAK,CAACiB,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAAC6H,KAAK,CAAC,KAAK,CAACnD,EAAE,GAAGvF,KAAK,CAACkC,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGqD,EAAE,CAACmD,KAAK,CAAC,EAAE;QAC5KH,mBAAmB,GAAG,IAAI;MAC5B;MACA,KAAK,MAAMtE,MAAM,IAAIwD,WAAW,CAACvM,KAAK,EAAE;QACtC,IAAI+I,MAAM,CAACyE,KAAK,KAAK,MAAM,EAAE;UAC3BH,mBAAmB,GAAG,IAAI;UAC1BE,wBAAwB,GAAG,IAAI;QACjC,CAAC,MAAM,IAAIxE,MAAM,CAACyE,KAAK,KAAK,OAAO,EAAE;UACnCF,oBAAoB,GAAG,IAAI;QAC7B;MACF;MACA,IAAID,mBAAmB,KAAKH,kBAAkB,CAAClN,KAAK,EAAE;QACpDkN,kBAAkB,CAAClN,KAAK,GAAGqN,mBAAmB;MAChD;MACA,IAAIC,oBAAoB,KAAKH,mBAAmB,CAACnN,KAAK,EAAE;QACtDmN,mBAAmB,CAACnN,KAAK,GAAGsN,oBAAoB;MAClD;MACA,IAAIC,wBAAwB,KAAKH,uBAAuB,CAACpN,KAAK,EAAE;QAC9DoN,uBAAuB,CAACpN,KAAK,GAAGuN,wBAAwB;MAC1D;IACF,CAAC,CAAC;IACF,MAAME,WAAW,GAAG5M,QAAQ,CAAC,MAAM;MACjC,KAAK,MAAM6M,GAAG,IAAInB,WAAW,CAACvM,KAAK,EAAE;QACnC,IAAI0N,GAAG,CAACC,QAAQ,EAAE;UAChB,OAAO,IAAI;QACb;MACF;MACA,OAAO,KAAK;IACd,CAAC,CAAC;IACF,MAAMC,YAAY,GAAI5I,IAAI,IAAK;MAC7B,MAAM4D,KAAK,GAAG;QACZ5D,IAAI;QACJyD,IAAI,EAAEA,IAAI,CAACzI,KAAK;QAChB0I,QAAQ,EAAEA,QAAQ,CAAC1I,KAAK;QACxB6N,MAAM,EAAEC,cAAc,CAAC9N,KAAK;QAC5B+N,OAAO,EAAEC,eAAe,CAAChO,KAAK;QAC9BiO,UAAU,EAAEjJ,IAAI,KAAK,MAAM,GAAGkJ,SAAS,CAAC/I,IAAI,GAAG,KAAK;MACtD,CAAC;MACDyE,IAAI,CAAC,QAAQ,EAAEuE,cAAc,CAACnO,KAAK,EAAE4I,KAAK,EAAEwF,UAAU,CAACpO,KAAK,CAAC;IAC/D,CAAC;IACD,MAAMqO,kBAAkB,GAAGA,CAAChG,SAAS,EAAEG,cAAc,KAAK;MACxD8F,QAAQ,CAACtO,KAAK,GAAGS,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE4N,eAAe,CAAChO,KAAK,CAAC,EAAE;QACxE,CAACqI,SAAS,GAAGG;MACf,CAAC,CAAC;MACFoB,IAAI,CAAC,cAAc,EAAEvB,SAAS,EAAEG,cAAc,CAAC;MAC/CoF,YAAY,CAAC,QAAQ,CAAC;IACxB,CAAC;IACD,MAAMW,kBAAkB,GAAGA,CAAClG,SAAS,EAAEC,SAAS,KAAK;MACnDkG,OAAO,CAACxO,KAAK,GAAGsI,SAAS,GAAG;QAC1BmG,KAAK,EAAEpG,SAAS;QAChBC;MACF,CAAC,GAAG,KAAK,CAAC;MACVsB,IAAI,CAAC,cAAc,EAAEvB,SAAS,EAAEC,SAAS,CAAC;MAC1CsF,YAAY,CAAC,QAAQ,CAAC;IACxB,CAAC;IACD,MAAM;MACJU,QAAQ;MACRN,eAAe;MACfU,YAAY;MACZC;IACF,CAAC,GAAGhL,SAAS,CAAC;MACZoB,OAAO,EAAEwH,WAAW;MACpBqC,cAAc,EAAEP;IAClB,CAAC,CAAC;IACF,MAAM;MACJG,OAAO;MACPV,cAAc;MACde,YAAY;MACZC;IACF,CAAC,GAAGlL,SAAS,CAAC;MACZmB,OAAO,EAAEwH,WAAW;MACpBwC,cAAc,EAAER;IAClB,CAAC,CAAC;IACF,MAAMS,YAAY,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC9B,MAAMC,UAAU,GAAGrO,QAAQ,CAAC,MAAM;MAChC,MAAMsO,WAAW,GAAG,EAAE;MACtBH,YAAY,CAACI,KAAK,CAAC,CAAC;MACpB,MAAMC,UAAU,GAAIlK,IAAI,IAAK;QAC3B,IAAIpD,OAAO,CAACoD,IAAI,CAAC,IAAIA,IAAI,CAACwG,MAAM,GAAG,CAAC,EAAE;UACpC,KAAK,MAAM1D,MAAM,IAAI9C,IAAI,EAAE;YACzBgK,WAAW,CAAC9C,IAAI,CAACpE,MAAM,CAAC5B,MAAM,CAACrG,KAAK,CAAC,CAAC;YACtC,IAAIiI,MAAM,CAACqH,QAAQ,EAAE;cACnBN,YAAY,CAACO,GAAG,CAACtH,MAAM,CAAC5B,MAAM,CAACrG,KAAK,CAAC,CAAC;YACxC;YACA,IAAIiI,MAAM,CAAC+B,QAAQ,EAAE;cACnBqF,UAAU,CAACpH,MAAM,CAAC+B,QAAQ,CAAC;YAC7B;UACF;QACF;MACF,CAAC;MACDqF,UAAU,CAACvK,KAAK,CAACK,IAAI,CAAC;MACtB,OAAOgK,WAAW;IACpB,CAAC,CAAC;IACF,MAAMK,iBAAiB,GAAG3O,QAAQ,CAAC,MAAM;MACvC,MAAM4O,IAAI,GAAG,EAAE;MACf,MAAMC,MAAM,GAAIvK,IAAI,IAAK;QACvB,KAAK,MAAM8C,MAAM,IAAI9C,IAAI,EAAE;UACzBsK,IAAI,CAACpD,IAAI,CAACpE,MAAM,CAAClI,GAAG,CAAC;UACrB,IAAIkI,MAAM,CAAC+B,QAAQ,EAAE;YACnB0F,MAAM,CAACzH,MAAM,CAAC+B,QAAQ,CAAC;UACzB;QACF;MACF,CAAC;MACD0F,MAAM,CAAChE,WAAW,CAAC1L,KAAK,CAAC;MACzB,OAAOyP,IAAI;IACb,CAAC,CAAC;IACF,MAAME,wBAAwB,GAAG9O,QAAQ,CAAC,MAAM;MAC9C,MAAM4O,IAAI,GAAG,EAAE;MACf,MAAMC,MAAM,GAAIvK,IAAI,IAAK;QACvB,KAAK,MAAM8C,MAAM,IAAI9C,IAAI,EAAE;UACzB,IAAI,CAAC8C,MAAM,CAACqH,QAAQ,EAAE;YACpBG,IAAI,CAACpD,IAAI,CAACpE,MAAM,CAAClI,GAAG,CAAC;UACvB;UACA,IAAIkI,MAAM,CAAC+B,QAAQ,EAAE;YACnB0F,MAAM,CAACzH,MAAM,CAAC+B,QAAQ,CAAC;UACzB;QACF;MACF,CAAC;MACD0F,MAAM,CAAChE,WAAW,CAAC1L,KAAK,CAAC;MACzB,OAAOyP,IAAI;IACb,CAAC,CAAC;IACF,MAAM;MACJG,OAAO;MACPC,eAAe;MACfC,sBAAsB;MACtBC,YAAY;MACZC,oBAAoB;MACpBC,eAAe;MACf/H,MAAM;MACNgI,SAAS;MACTC;IACF,CAAC,GAAG/N,eAAe,CAAC;MAClBkF,YAAY;MACZC,mBAAmB;MACnBzB,YAAY;MACZ0J,iBAAiB;MACjBG,wBAAwB;MACxB/F;IACF,CAAC,CAAC;IACF,MAAM;MACJwG,eAAe;MACfC,YAAY;MACZrI,MAAM;MACNsI;IACF,CAAC,GAAGjO,SAAS,CAAC;MACZmF,YAAY;MACZC,mBAAmB;MACnBC,oBAAoB;MACpB3B,UAAU;MACVmJ,UAAU;MACVtF;IACF,CAAC,CAAC;IACF,MAAM2G,YAAY,GAAGxP,QAAQ,CAAC,CAAC,CAAC,CAAC;IACjC,MAAMyP,eAAe,GAAGA,CAACC,SAAS,EAAExI,MAAM,KAAK;MAC7C,IAAIwI,SAAS,EAAE;QACbF,YAAY,CAACtI,MAAM,CAAClI,GAAG,CAAC,GAAG0Q,SAAS;MACtC;IACF,CAAC;IACD,MAAMC,aAAa,GAAIzI,MAAM,IAAK;MAChC,IAAIvC,EAAE,EAAEC,EAAE;MACV,KAAK,MAAM8I,KAAK,IAAIzP,MAAM,CAACyQ,IAAI,CAACzB,eAAe,CAAChO,KAAK,CAAC,EAAE;QACtD,MAAMwI,cAAc,GAAGwF,eAAe,CAAChO,KAAK,CAACyO,KAAK,CAAC;QACnD,MAAM1F,MAAM,GAAGuD,aAAa,CAACF,GAAG,CAACqC,KAAK,CAAC;QACvC,IAAI1F,MAAM,KAAK,CAACrD,EAAE,GAAGqD,MAAM,CAAC4H,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjL,EAAE,CAACkL,MAAM,CAAC,IAAIpI,cAAc,CAACmD,MAAM,GAAG,CAAC,EAAE;UAClG,MAAMkB,MAAM,GAAG,CAAClH,EAAE,GAAGoD,MAAM,CAAC4H,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhL,EAAE,CAACiL,MAAM,CAACpI,cAAc,EAAEP,MAAM,CAAC4I,GAAG,CAAC;UAChG,IAAI,CAAChE,MAAM,EAAE;YACX,OAAOA,MAAM;UACf;QACF;MACF;MACA,OAAO,IAAI;IACb,CAAC;IACD,MAAM;MACJiE,QAAQ;MACR5C,SAAS;MACT6C,eAAe;MACfC,eAAe;MACfC,eAAe;MACfC,cAAc;MACdC,aAAa;MACbC;IACF,CAAC,GAAG5N,OAAO,CAACwD,SAAS,CAAC;IACtB,MAAMqK,aAAa,GAAGxQ,QAAQ,CAAC,MAAM;MACnC,IAAI6E,EAAE;MACN,MAAMgK,MAAM,GAAIvK,IAAI,IAAK;QACvB,MAAM0H,MAAM,GAAG,EAAE;QACjB,KAAK,MAAMyE,OAAO,IAAInM,IAAI,EAAE;UAC1B,MAAM8C,MAAM,GAAG;YACb4I,GAAG,EAAES,OAAO;YACZvR,GAAG,EAAEuR,OAAO,CAACxM,KAAK,CAACuB,MAAM,CAAC;YAC1BiJ,QAAQ,EAAEgC,OAAO,CAAChC,QAAQ;YAC1BtH,MAAM,EAAEsJ,OAAO,CAACtJ,MAAM;YACtBuJ,MAAM,EAAED,OAAO,CAACC;UAClB,CAAC;UACD,IAAID,OAAO,CAACtH,QAAQ,EAAE;YACpB/B,MAAM,CAACsJ,MAAM,GAAG,KAAK;YACrBtJ,MAAM,CAAC+B,QAAQ,GAAG0F,MAAM,CAAC4B,OAAO,CAACtH,QAAQ,CAAC;UAC5C,CAAC,MAAM,IAAIlF,KAAK,CAAC8B,QAAQ,IAAI,CAAC0K,OAAO,CAACC,MAAM,EAAE;YAC5CtJ,MAAM,CAACsJ,MAAM,GAAG,KAAK;YACrB,IAAIhB,YAAY,CAACtI,MAAM,CAAClI,GAAG,CAAC,EAAE;cAC5BkI,MAAM,CAAC+B,QAAQ,GAAG0F,MAAM,CAACa,YAAY,CAACtI,MAAM,CAAClI,GAAG,CAAC,CAAC;YACpD;UACF,CAAC,MAAM;YACLkI,MAAM,CAACsJ,MAAM,GAAG,IAAI;UACtB;UACAtJ,MAAM,CAACuJ,UAAU,GAAGnM,OAAO,CAAC4C,MAAM,CAAC+B,QAAQ,GAAGlF,KAAK,CAACgC,uBAAuB,GAAGmB,MAAM,CAAC+B,QAAQ,CAAC2B,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG7G,KAAK,CAAC8B,QAAQ,IAAI,CAACqB,MAAM,CAACsJ,MAAM,CAAC;UACnJ1E,MAAM,CAACR,IAAI,CAACpE,MAAM,CAAC;QACrB;QACA,OAAO4E,MAAM;MACf,CAAC;MACD,OAAO6C,MAAM,CAAC,CAAChK,EAAE,GAAGZ,KAAK,CAACK,IAAI,KAAK,IAAI,GAAGO,EAAE,GAAG,EAAE,CAAC;IACpD,CAAC,CAAC;IACF,MAAM+L,SAAS,GAAG5Q,QAAQ,CAAC,MAAM;MAC/B,MAAM6O,MAAM,GAAIvK,IAAI,IAAKA,IAAI,CAACyL,MAAM,CAAE3I,MAAM,IAAK;QAC/C,IAAIyI,aAAa,CAACzI,MAAM,CAAC,EAAE;UACzB,IAAIA,MAAM,CAAC+B,QAAQ,EAAE;YACnB/B,MAAM,CAAC+B,QAAQ,GAAG0F,MAAM,CAACzH,MAAM,CAAC+B,QAAQ,CAAC;UAC3C;UACA,OAAO,IAAI;QACb;QACA,OAAO,KAAK;MACd,CAAC,CAAC;MACF,OAAOhL,MAAM,CAACyQ,IAAI,CAACzB,eAAe,CAAChO,KAAK,CAAC,CAAC2L,MAAM,GAAG,CAAC,GAAG+D,MAAM,CAAC2B,aAAa,CAACrR,KAAK,CAAC,GAAGqR,aAAa,CAACrR,KAAK;IAC1G,CAAC,CAAC;IACF,MAAMoO,UAAU,GAAGvN,QAAQ,CAAC,MAAM;MAChC,IAAI6E,EAAE,EAAEC,EAAE,EAAE0E,EAAE;MACd,MAAMlF,IAAI,GAAGjD,oBAAoB,CAACuP,SAAS,CAACzR,KAAK,CAAC;MAClD,IAAImF,IAAI,CAACwG,MAAM,GAAG,CAAC,EAAE;QACnB,IAAI,CAACjG,EAAE,GAAGoI,cAAc,CAAC9N,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0F,EAAE,CAAC+I,KAAK,EAAE;UAC3D,MAAM1F,MAAM,GAAGuD,aAAa,CAACF,GAAG,CAAC0B,cAAc,CAAC9N,KAAK,CAACyO,KAAK,CAAC;UAC5D,IAAI1F,MAAM,IAAI,CAAC,CAACpD,EAAE,GAAGoD,MAAM,CAAC2I,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG/L,EAAE,CAACkI,MAAM,MAAM,IAAI,EAAE;YAC5E,MAAM;cACJY,KAAK;cACLnG;YACF,CAAC,GAAGwF,cAAc,CAAC9N,KAAK;YACxBmF,IAAI,CAACwM,IAAI,CAAC,CAACtR,CAAC,EAAEC,CAAC,KAAK;cAClB,IAAIsR,GAAG;cACP,MAAMC,MAAM,GAAG3N,cAAc,CAAC7D,CAAC,CAACwQ,GAAG,EAAEpC,KAAK,CAAC;cAC3C,MAAMqD,MAAM,GAAG5N,cAAc,CAAC5D,CAAC,CAACuQ,GAAG,EAAEpC,KAAK,CAAC;cAC3C,IAAI,CAAC,CAACmD,GAAG,GAAG7I,MAAM,CAAC2I,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGE,GAAG,CAAC/D,MAAM,KAAKnM,UAAU,CAACqH,MAAM,CAAC2I,QAAQ,CAAC7D,MAAM,CAAC,EAAE;gBACjG,OAAO9E,MAAM,CAAC2I,QAAQ,CAAC7D,MAAM,CAACxN,CAAC,CAACwQ,GAAG,EAAEvQ,CAAC,CAACuQ,GAAG,EAAE;kBAC1CxI,SAAS,EAAEoG,KAAK;kBAChBnG;gBACF,CAAC,CAAC;cACJ;cACA,MAAMuE,MAAM,GAAGgF,MAAM,GAAGC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;cACvC,OAAOxJ,SAAS,KAAK,SAAS,GAAG,CAACuE,MAAM,GAAGA,MAAM;YACnD,CAAC,CAAC;UACJ;QACF;QACA,MAAM;UACJkF,UAAU;UACVC;QACF,CAAC,GAAG9D,SAAS;QACb,IAAIA,SAAS,CAAC+D,QAAQ,IAAID,UAAU,CAACrG,MAAM,IAAIqG,UAAU,CAAC1N,QAAQ,CAAC,CAAC,KAAKyN,UAAU,CAACzN,QAAQ,CAAC,CAAC,EAAE;UAC9F,IAAIyN,UAAU,CAACpG,MAAM,KAAKqG,UAAU,CAACrG,MAAM,IAAIoG,UAAU,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC5N,QAAQ,CAAC,CAAC,KAAK0N,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC5N,QAAQ,CAAC,CAAC,EAAE;YACxH,IAAImM,SAAS,GAAGtL,IAAI;YACpB,KAAK,IAAIgN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,UAAU,CAACpG,MAAM,EAAEwG,CAAC,EAAE,EAAE;cAC1C,MAAMC,WAAW,GAAGL,UAAU,CAACI,CAAC,CAAC;cACjC,MAAME,MAAM,GAAGF,CAAC,IAAIJ,UAAU,CAACpG,MAAM,GAAG,CAAC;cACzC,IAAI0G,MAAM,EAAE;gBACV,MAAMC,WAAW,GAAG7B,SAAS,CAAC2B,WAAW,CAAC;gBAC1C,MAAMG,WAAW,GAAGP,UAAU,CAACG,CAAC,CAAC;gBACjC,IAAII,WAAW,GAAGH,WAAW,EAAE;kBAC7B3B,SAAS,CAAC+B,MAAM,CAACD,WAAW,GAAG,CAAC,EAAE,CAAC,EAAED,WAAW,CAAC;kBACjD7B,SAAS,CAAC+B,MAAM,CAACJ,WAAW,EAAE,CAAC,CAAC;gBAClC,CAAC,MAAM;kBACL3B,SAAS,CAAC+B,MAAM,CAACD,WAAW,EAAE,CAAC,EAAED,WAAW,CAAC;kBAC7C7B,SAAS,CAAC+B,MAAM,CAACJ,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC;gBACtC;cACF,CAAC,MAAM;gBACL3B,SAAS,GAAG,CAACpG,EAAE,GAAGoG,SAAS,CAAC2B,WAAW,CAAC,CAACpI,QAAQ,KAAK,IAAI,GAAGK,EAAE,GAAG,EAAE;cACtE;YACF;UACF;QACF;MACF;MACA,OAAOlF,IAAI;IACb,CAAC,CAAC;IACF,MAAM;MACJsD,IAAI;MACJC,QAAQ;MACR+J,gBAAgB;MAChBC;IACF,CAAC,GAAGpQ,aAAa,CAACwC,KAAK,EAAE8E,IAAI,CAAC;IAC9B,MAAM+I,WAAW,GAAG9R,QAAQ,CAAC,MAAM;MACjC,IAAI6E,EAAE,EAAEC,EAAE;MACV,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGI,YAAY,CAAC9F,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0F,EAAE,CAACiN,WAAW,KAAK,IAAI,GAAGhN,EAAE,GAAG,KAAK;IAChG,CAAC,CAAC;IACF3E,KAAK,CAACyH,IAAI,EAAE,CAACmK,GAAG,EAAEC,GAAG,KAAK;MACxB,IAAID,GAAG,KAAKC,GAAG,IAAIF,WAAW,CAAC3S,KAAK,EAAE;QACpCmQ,aAAa,CAAC,CAAC;MACjB;IACF,CAAC,CAAC;IACF,MAAMzE,WAAW,GAAG7K,QAAQ,CAAC,MAAM;MACjC,IAAIiE,KAAK,CAACmB,UAAU,IAAImI,UAAU,CAACpO,KAAK,CAAC2L,MAAM,GAAGjD,QAAQ,CAAC1I,KAAK,EAAE;QAChE,OAAOoO,UAAU,CAACpO,KAAK,CAACkS,KAAK,CAAC,CAACzJ,IAAI,CAACzI,KAAK,GAAG,CAAC,IAAI0I,QAAQ,CAAC1I,KAAK,EAAEyI,IAAI,CAACzI,KAAK,GAAG0I,QAAQ,CAAC1I,KAAK,CAAC;MAC/F;MACA,OAAOoO,UAAU,CAACpO,KAAK;IACzB,CAAC,CAAC;IACF,MAAMmO,cAAc,GAAGtN,QAAQ,CAAC,MAAMsB,eAAe,CAACuJ,WAAW,CAAC1L,KAAK,CAAC,CAAC;IACzE,MAAM8S,cAAc,GAAGA,CAAA,KAAM;MAC3B,OAAOvG,WAAW,CAACvM,KAAK,CAAC+S,MAAM,CAAC,CAACC,GAAG,EAAEjK,MAAM,EAAEkK,KAAK,KAAK;QACtD,IAAIlK,MAAM,CAACV,SAAS,EAAE;UACpB,IAAI4K,KAAK,KAAK,CAAC,EAAE;YACf9O,cAAc,CAAC6O,GAAG,EAAEjK,MAAM,CAACV,SAAS,EAAEvD,KAAK,CAACsC,WAAW,EAAE;cACvD8L,OAAO,EAAE;YACX,CAAC,CAAC;UACJ,CAAC,MAAM;YACL,IAAIC,KAAK,GAAG,CAAC;YACb,IAAIC,WAAW,GAAG,KAAK;YACvB1H,WAAW,CAAC1L,KAAK,CAACkM,OAAO,CAAE/G,IAAI,IAAK;cAClC,IAAI4D,MAAM,CAACV,SAAS,EAAE;gBACpB,MAAMgL,OAAO,GAAGnP,cAAc,CAACiB,IAAI,CAAC0L,GAAG,EAAE9H,MAAM,CAACV,SAAS,CAAC;gBAC1D,IAAI1G,QAAQ,CAAC0R,OAAO,CAAC,EAAE;kBACrBF,KAAK,IAAIE,OAAO;gBAClB,CAAC,MAAM,IAAI,CAACzR,WAAW,CAACyR,OAAO,CAAC,IAAI,CAACxR,MAAM,CAACwR,OAAO,CAAC,EAAE;kBACpDD,WAAW,GAAG,IAAI;gBACpB;cACF;YACF,CAAC,CAAC;YACFjP,cAAc,CAAC6O,GAAG,EAAEjK,MAAM,CAACV,SAAS,EAAE+K,WAAW,GAAG,EAAE,GAAGD,KAAK,EAAE;cAC9DD,OAAO,EAAE;YACX,CAAC,CAAC;UACJ;QACF;QACA,OAAOF,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IACD,MAAMM,mBAAmB,GAAInO,IAAI,IAAK;MACpC,IAAIA,IAAI,IAAIA,IAAI,CAACwG,MAAM,GAAG,CAAC,EAAE;QAC3B,OAAOxG,IAAI,CAACoO,GAAG,CAAE1C,GAAG,IAAK;UACvB,OAAO;YACLA,GAAG;YACH9Q,GAAG,EAAE8Q,GAAG,CAAC/L,KAAK,CAACuB,MAAM;UACvB,CAAC;QACH,CAAC,CAAC;MACJ;MACA,OAAO,EAAE;IACX,CAAC;IACD,MAAMmN,WAAW,GAAG3S,QAAQ,CAAC,MAAM;MACjC,IAAIiE,KAAK,CAACqC,OAAO,EAAE;QACjB,IAAIzF,UAAU,CAACoD,KAAK,CAACqC,OAAO,CAAC,EAAE;UAC7B,OAAOmM,mBAAmB,CAACxO,KAAK,CAACqC,OAAO,CAAC;YACvCpC,OAAO,EAAEwH,WAAW,CAACvM,KAAK;YAC1BmF,IAAI,EAAEgJ,cAAc,CAACnO;UACvB,CAAC,CAAC,CAAC;QACL;QACA,OAAOsT,mBAAmB,CAAC,CAACR,cAAc,CAAC,CAAC,CAAC,CAAC;MAChD;MACA,OAAO,EAAE;IACX,CAAC,CAAC;IACF,MAAMW,mBAAmB,GAAG3S,GAAG,CAAC,CAAC,CAAC;IAClC,MAAM4S,SAAS,GAAG5S,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAM6S,UAAU,GAAG7S,GAAG,CAAC,IAAI,CAAC;IAC5B,MAAM8S,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAIC,UAAU,GAAG,IAAI;MACrB,IAAIC,WAAW,GAAG,IAAI;MACtB,MAAMC,eAAe,GAAGxI,gBAAgB,CAACvL,KAAK;MAC9C,IAAI+T,eAAe,EAAE;QACnBF,UAAU,GAAGJ,mBAAmB,CAACzT,KAAK,KAAK,CAAC;QAC5C8T,WAAW,GAAGE,IAAI,CAACC,IAAI,CAACR,mBAAmB,CAACzT,KAAK,GAAG+T,eAAe,CAACG,WAAW,CAAC,IAAIH,eAAe,CAACI,WAAW;MACjH;MACA,IAAIN,UAAU,KAAKH,SAAS,CAAC1T,KAAK,EAAE;QAClC0T,SAAS,CAAC1T,KAAK,GAAG6T,UAAU;MAC9B;MACA,IAAIC,WAAW,KAAKH,UAAU,CAAC3T,KAAK,EAAE;QACpC2T,UAAU,CAAC3T,KAAK,GAAG8T,WAAW;MAChC;IACF,CAAC;IACD,MAAMM,iBAAiB,GAAGA,CAAA,KAAM;MAC9B,IAAIV,SAAS,CAAC1T,KAAK,IAAI2T,UAAU,CAAC3T,KAAK,EAAE;QACvC,OAAQ,GAAE8J,SAAU,uBAAsB;MAC5C;MACA,IAAI4J,SAAS,CAAC1T,KAAK,EAAE;QACnB,OAAQ,GAAE8J,SAAU,uBAAsB;MAC5C;MACA,IAAI6J,UAAU,CAAC3T,KAAK,EAAE;QACpB,OAAQ,GAAE8J,SAAU,wBAAuB;MAC7C;MACA,OAAQ,GAAEA,SAAU,yBAAwB;IAC9C,CAAC;IACD,MAAMuK,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,MAAMC,IAAI,GAAG,EAAE;MACf,IAAIpH,kBAAkB,CAAClN,KAAK,EAAE;QAC5BsU,IAAI,CAACjI,IAAI,CAAE,GAAEvC,SAAU,qBAAoB,CAAC;MAC9C;MACA,IAAIqD,mBAAmB,CAACnN,KAAK,EAAE;QAC7BsU,IAAI,CAACjI,IAAI,CAAE,GAAEvC,SAAU,sBAAqB,CAAC;MAC/C;MACA,OAAOwK,IAAI;IACb,CAAC;IACD,MAAMC,YAAY,GAAIC,CAAC,IAAK;MAC1B,IAAIA,CAAC,CAACC,MAAM,CAACC,UAAU,KAAKjB,mBAAmB,CAACzT,KAAK,EAAE;QACrDyT,mBAAmB,CAACzT,KAAK,GAAGwU,CAAC,CAACC,MAAM,CAACC,UAAU;MACjD;MACAd,gBAAgB,CAAC,CAAC;IACpB,CAAC;IACD,MAAMe,aAAa,GAAIH,CAAC,IAAK;MAC3BD,YAAY,CAACC,CAAC,CAAC;MACf,MAAM;QACJE;MACF,CAAC,GAAGF,CAAC,CAACC,MAAM;MACZ,IAAInJ,QAAQ,CAACtL,KAAK,EAAE;QAClBsL,QAAQ,CAACtL,KAAK,CAAC0U,UAAU,GAAGA,UAAU;MACxC;MACA,IAAI/J,UAAU,CAAC3K,KAAK,EAAE;QACpB2K,UAAU,CAAC3K,KAAK,CAAC0U,UAAU,GAAGA,UAAU;MAC1C;IACF,CAAC;IACD,MAAME,cAAc,GAAGA,CAAC3M,MAAM,EAAEe,EAAE,KAAK;MACrCY,IAAI,CAAC,UAAU,EAAE3B,MAAM,CAAC4I,GAAG,EAAE7H,EAAE,CAAC;IAClC,CAAC;IACD,MAAM6L,iBAAiB,GAAGA,CAAC5M,MAAM,EAAEe,EAAE,KAAK;MACxCY,IAAI,CAAC,aAAa,EAAE3B,MAAM,CAAC4I,GAAG,EAAE7H,EAAE,CAAC;IACrC,CAAC;IACD,MAAM8L,oBAAoB,GAAGA,CAAC7M,MAAM,EAAEe,EAAE,KAAK;MAC3CY,IAAI,CAAC,gBAAgB,EAAE3B,MAAM,CAAC4I,GAAG,EAAE7H,EAAE,CAAC;IACxC,CAAC;IACD,MAAM+L,eAAe,GAAGA,CAAC9M,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK;MAC9CY,IAAI,CAAC,WAAW,EAAE3B,MAAM,CAAC4I,GAAG,EAAE9H,MAAM,EAAEC,EAAE,CAAC;IAC3C,CAAC;IACD,MAAMgM,oBAAoB,GAAGhT,QAAQ,CAAC,CAACiG,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK;MAC5DY,IAAI,CAAC,gBAAgB,EAAE3B,MAAM,CAAC4I,GAAG,EAAE9H,MAAM,EAAEC,EAAE,CAAC;IAChD,CAAC,EAAE,EAAE,CAAC;IACN,MAAMiM,oBAAoB,GAAGjT,QAAQ,CAAC,CAACiG,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK;MAC5DY,IAAI,CAAC,gBAAgB,EAAE3B,MAAM,CAAC4I,GAAG,EAAE9H,MAAM,EAAEC,EAAE,CAAC;IAChD,CAAC,EAAE,EAAE,CAAC;IACN,MAAMkM,kBAAkB,GAAGA,CAACjN,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK;MACjDY,IAAI,CAAC,cAAc,EAAE3B,MAAM,CAAC4I,GAAG,EAAE9H,MAAM,EAAEC,EAAE,CAAC;IAC9C,CAAC;IACD,MAAMmM,qBAAqB,GAAGA,CAAClN,MAAM,EAAEc,MAAM,EAAEC,EAAE,KAAK;MACpDY,IAAI,CAAC,iBAAiB,EAAE3B,MAAM,CAAC4I,GAAG,EAAE9H,MAAM,EAAEC,EAAE,CAAC;IACjD,CAAC;IACD,MAAMoM,iBAAiB,GAAGA,CAACrM,MAAM,EAAEC,EAAE,KAAK;MACxCY,IAAI,CAAC,aAAa,EAAEb,MAAM,EAAEC,EAAE,CAAC;IACjC,CAAC;IACD,MAAMqM,UAAU,GAAGxU,QAAQ,CAAC,MAAM;MAChC,IAAI6E,EAAE,EAAEC,EAAE;MACV,MAAM2P,WAAW,GAAG,EAAE;MACtB,MAAMC,cAAc,GAAGrI,kBAAkB,CAAClN,KAAK,IAAImN,mBAAmB,CAACnN,KAAK;MAC5E,IAAIwV,UAAU;MACd,IAAIC,OAAO;MACX,IAAIC,SAAS;MACb,IAAI,CAAC,CAAChQ,EAAE,GAAGZ,KAAK,CAACkC,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtB,EAAE,CAACV,IAAI,MAAM,QAAQ,EAAE;QACpEwQ,UAAU,GAAG;UACX3Q,IAAI,EAAE,aAAa;UACnB8Q,KAAK,EAAE7Q,KAAK,CAACkC,SAAS,CAAC2O,KAAK;UAC5BrM,KAAK,EAAExE,KAAK,CAACkC,SAAS,CAACsC,KAAK;UAC5BkE,KAAK,EAAE1I,KAAK,CAACkC,SAAS,CAACwG,KAAK,IAAI+H;QAClC,CAAC;QACDD,WAAW,CAACjJ,IAAI,CAACmJ,UAAU,CAAC;MAC9B;MACA,IAAI1Q,KAAK,CAACiB,UAAU,EAAE;QACpB0P,OAAO,GAAG;UACR5Q,IAAI,EAAE,QAAQ;UACd8Q,KAAK,EAAE7Q,KAAK,CAACiB,UAAU,CAAC4P,KAAK;UAC7BrM,KAAK,EAAExE,KAAK,CAACiB,UAAU,CAACuD,KAAK;UAC7BkE,KAAK,EAAE1I,KAAK,CAACiB,UAAU,CAACyH,KAAK,IAAI+H;QACnC,CAAC;QACDD,WAAW,CAACjJ,IAAI,CAACoJ,OAAO,CAAC;MAC3B;MACA,IAAI3Q,KAAK,CAACgB,YAAY,EAAE;QACtB4P,SAAS,GAAG;UACV7Q,IAAI,EAAEC,KAAK,CAACgB,YAAY,CAACd,IAAI,KAAK,OAAO,GAAG,iBAAiB,GAAG,oBAAoB;UACpF2Q,KAAK,EAAE7Q,KAAK,CAACgB,YAAY,CAAC6P,KAAK;UAC/BrM,KAAK,EAAExE,KAAK,CAACgB,YAAY,CAACwD,KAAK;UAC/BkE,KAAK,EAAE1I,KAAK,CAACgB,YAAY,CAAC0H,KAAK,IAAI+H;QACrC,CAAC;QACDD,WAAW,CAACjJ,IAAI,CAACqJ,SAAS,CAAC;MAC7B;MACA,IAAI,CAACtI,uBAAuB,CAACpN,KAAK,IAAIsV,WAAW,CAAC3J,MAAM,GAAG,CAAC,IAAI2J,WAAW,CAACA,WAAW,CAAC3J,MAAM,GAAG,CAAC,CAAC,CAAC6B,KAAK,EAAE;QACzG8H,WAAW,CAACA,WAAW,CAAC3J,MAAM,GAAG,CAAC,CAAC,CAACiK,eAAe,GAAG,IAAI;MAC5D;MACA,MAAMC,YAAY,GAAG,CAAClQ,EAAE,GAAGb,KAAK,CAAC6B,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGhB,EAAE,CAAC0P,UAAU;MAC7E,OAAO3T,UAAU,CAACmU,YAAY,CAAC,GAAGA,YAAY,CAAC;QAC7CL,UAAU;QACVxN,MAAM,EAAEyN,OAAO;QACfC;MACF,CAAC,CAAC,GAAGJ,WAAW;IAClB,CAAC,CAAC;IACF,MAAMQ,WAAW,GAAGjV,QAAQ,CAAC,MAAM;MACjC,IAAI6E,EAAE,EAAEC,EAAE,EAAE0E,EAAE,EAAEC,EAAE;MAClB,IAAIF,QAAQ,CAACpK,KAAK,CAACuK,CAAC,EAAE;QACpB,MAAMwL,MAAM,GAAG;UACbzM,KAAK,EAAE3H,QAAQ,CAAC,CAAC+D,EAAE,GAAGZ,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAAC6E,CAAC,CAAC,GAAI,GAAE,CAAC5E,EAAE,GAAGb,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAAC4E,CAAE,IAAG,GAAG,CAACF,EAAE,GAAGvF,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGqE,EAAE,CAACE;QAChK,CAAC;QACD,IAAI,CAACD,EAAE,GAAGxF,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGsE,EAAE,CAACE,QAAQ,EAAE;UACtDuL,MAAM,CAACvL,QAAQ,GAAG7I,QAAQ,CAACmD,KAAK,CAACkB,MAAM,CAACwE,QAAQ,CAAC,GAAI,GAAE1F,KAAK,CAACkB,MAAM,CAACwE,QAAS,IAAG,GAAG1F,KAAK,CAACkB,MAAM,CAACwE,QAAQ;QAC1G;QACA,OAAOuL,MAAM;MACf;MACA,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IACF,MAAMC,YAAY,GAAGnV,QAAQ,CAAC,MAAM;MAClC,IAAI6E,EAAE,EAAEC,EAAE,EAAE0E,EAAE,EAAEC,EAAE;MAClB,IAAIF,QAAQ,CAACpK,KAAK,CAACuK,CAAC,IAAImB,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,GAAG,CAAC,EAAE;QACpD,MAAMoK,MAAM,GAAG;UACbzM,KAAK,EAAE3H,QAAQ,CAAC,CAAC+D,EAAE,GAAGZ,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAAC6E,CAAC,CAAC,GAAI,GAAE,CAAC5E,EAAE,GAAGb,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAAC4E,CAAE,IAAG,GAAG,CAACF,EAAE,GAAGvF,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGqE,EAAE,CAACE;QAChK,CAAC;QACD,IAAI,CAACD,EAAE,GAAGxF,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGsE,EAAE,CAACE,QAAQ,EAAE;UACtDuL,MAAM,CAACvL,QAAQ,GAAG7I,QAAQ,CAACmD,KAAK,CAACkB,MAAM,CAACwE,QAAQ,CAAC,GAAI,GAAE1F,KAAK,CAACkB,MAAM,CAACwE,QAAS,IAAG,GAAG1F,KAAK,CAACkB,MAAM,CAACwE,QAAQ;QAC1G;QACA,OAAOuL,MAAM;MACf;MACA,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IACF,MAAME,SAAS,GAAGA,CAAC9J,EAAE,EAAEpD,MAAM,KAAK;MAChC6C,aAAa,CAACsK,GAAG,CAAC/J,EAAE,EAAEpD,MAAM,CAAC;IAC/B,CAAC;IACD,MAAMoN,YAAY,GAAIhK,EAAE,IAAK;MAC3BP,aAAa,CAACwK,MAAM,CAACjK,EAAE,CAAC;IAC1B,CAAC;IACDjL,OAAO,CAACwC,iBAAiB,EAAE3C,QAAQ,CAAC;MAClC6F,QAAQ;MACR4J,eAAe;MACf3G,KAAK;MACLgE,MAAM,EAAEC,cAAc;MACtBC,OAAO,EAAEC,eAAe;MACxBnH,mBAAmB;MACnB4F,cAAc;MACdxC,aAAa;MACb0F,wBAAwB;MACxBG,sBAAsB;MACtBmG,SAAS;MACTE,YAAY;MACZE,WAAW,EAAEpG,eAAe;MAC5BqG,QAAQ,EAAEvG,YAAY;MACtBwG,gBAAgB,EAAEvG,oBAAoB;MACtCjB,cAAc,EAAER,kBAAkB;MAClCK,cAAc,EAAEP,kBAAkB;MAClCmI,aAAa,EAAE7J;IACjB,CAAC,CAAC,CAAC;IACH,MAAM8J,GAAG,GAAG5V,QAAQ,CAAC,MAAM,CAACiJ,SAAS,EAAG,GAAEA,SAAU,SAAQhF,KAAK,CAACU,IAAK,EAAC,EAAE;MACxE,CAAE,GAAEsE,SAAU,SAAQ,GAAG1E,QAAQ,CAACpF,KAAK,CAACwE,OAAO;MAC/C,CAAE,GAAEsF,SAAU,cAAa,GAAG1E,QAAQ,CAACpF,KAAK,CAACyE,IAAI;MACjD,CAAE,GAAEqF,SAAU,qBAAoB,GAAG,CAAC1E,QAAQ,CAACpF,KAAK,CAACyE,IAAI,IAAIW,QAAQ,CAACpF,KAAK,CAAC0E,UAAU;MACtF,CAAE,GAAEoF,SAAU,mBAAkB,GAAG,CAAC1E,QAAQ,CAACpF,KAAK,CAACyE,IAAI,IAAIW,QAAQ,CAACpF,KAAK,CAAC2E,QAAQ;MAClF,CAAE,GAAEmF,SAAU,SAAQ,GAAGhF,KAAK,CAACS,MAAM;MACrC,CAAE,GAAEuE,SAAU,QAAO,GAAGhF,KAAK,CAACQ,SAAS;MACvC,CAAE,GAAEwE,SAAU,WAAU,GAAGoE,SAAS,CAAC+D,QAAQ;MAC7C,CAAE,GAAEnI,SAAU,iBAAgB,GAAGzE,OAAO,CAACP,KAAK,CAACgB,YAAY,CAAC;MAC5D,CAAE,GAAEgE,SAAU,QAAO,GAAGhF,KAAK,CAACK,IAAI,IAAIuG,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,KAAK,CAAC;MACpE,CAAE,GAAE7B,SAAU,eAAc,GAAGhF,KAAK,CAACc,gBAAgB,IAAIwE,QAAQ,CAACpK,KAAK,CAACuK,CAAC,IAAIiB,UAAU,CAACxL,KAAK,IAAIyN,WAAW,CAACzN;IAC/G,CAAC,CAAC,CAAC;IACH,MAAM0W,aAAa,GAAG7V,QAAQ,CAAC,MAAM,CAAE,GAAEiJ,SAAU,aAAY,EAAE;MAC/D,CAAE,GAAEA,SAAU,kBAAiB,GAAGhF,KAAK,CAACoB,YAAY,KAAK,IAAI,IAAIpB,KAAK,CAACoB,YAAY,KAAK,IAAI;MAC5F,CAAE,GAAE4D,SAAU,oBAAmB,GAAGhF,KAAK,CAACoB,YAAY,KAAK,KAAK,IAAIpB,KAAK,CAACoB,YAAY,KAAK,QAAQ;MACnG,CAAE,GAAE4D,SAAU,mBAAkB,GAAGhF,KAAK,CAACoB,YAAY,KAAK,IAAI,IAAIpB,KAAK,CAACoB,YAAY,KAAK,IAAI;MAC7F,CAAE,GAAE4D,SAAU,iBAAgB,GAAGkD,eAAe,CAAChN;IACnD,CAAC,CAAC,CAAC;IACH,MAAM2W,QAAQ,GAAG9V,QAAQ,CAAC,MAAM;MAC9B,MAAMyT,IAAI,GAAGD,gBAAgB,CAAC,CAAC;MAC/B,IAAIjK,QAAQ,CAACpK,KAAK,CAACuK,CAAC,EAAE;QACpB+J,IAAI,CAACjI,IAAI,CAAC+H,iBAAiB,CAAC,CAAC,CAAC;MAChC;MACA,IAAI5I,UAAU,CAACxL,KAAK,EAAE;QACpBsU,IAAI,CAACjI,IAAI,CAAE,GAAEvC,SAAU,WAAU,CAAC;MACpC;MACA,OAAOwK,IAAI;IACb,CAAC,CAAC;IACF,MAAM7I,aAAa,GAAG5K,QAAQ,CAAC,MAAMwE,OAAO,CAACP,KAAK,CAACyB,gBAAgB,CAAC,CAAC;IACrE,MAAMqQ,OAAO,GAAG9V,GAAG,CAAC,CAAC,CAAC,CAAC;IACvB,MAAM+V,UAAU,GAAGA,CAAA,KAAM;MACvB,MAAMvN,KAAK,GAAG,CAAC,CAAC;MAChB,KAAK,MAAMvJ,GAAG,IAAIf,MAAM,CAACyQ,IAAI,CAAC7E,MAAM,CAAC5K,KAAK,CAAC,EAAE;QAC3CsJ,KAAK,CAACvJ,GAAG,CAAC,GAAG6K,MAAM,CAAC5K,KAAK,CAACD,GAAG,CAAC,CAACmU,WAAW;MAC5C;MACA0C,OAAO,CAAC5W,KAAK,GAAGsJ,KAAK;IACvB,CAAC;IACD,MAAMwN,YAAY,GAAGhW,GAAG,CAAC,KAAK,CAAC;IAC/B,MAAMiW,mBAAmB,GAAGA,CAAA,KAAM;MAChC,IAAI7L,QAAQ,CAAClL,KAAK,EAAE;QAClB,OAAOkL,QAAQ,CAAClL,KAAK,CAACkU,WAAW,GAAGhJ,QAAQ,CAAClL,KAAK,CAACgX,WAAW;MAChE;MACA,OAAO,KAAK;IACd,CAAC;IACD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;MAC9B,MAAMC,aAAa,GAAGH,mBAAmB,CAAC,CAAC;MAC3C,IAAID,YAAY,CAAC9W,KAAK,KAAKkX,aAAa,EAAE;QACxCJ,YAAY,CAAC9W,KAAK,GAAGkX,aAAa;MACpC;MACAtD,gBAAgB,CAAC,CAAC;MAClBiD,UAAU,CAAC,CAAC;IACd,CAAC;IACD1V,SAAS,CAAC,MAAM;MACd2V,YAAY,CAAC9W,KAAK,GAAG+W,mBAAmB,CAAC,CAAC;MAC1CF,UAAU,CAAC,CAAC;IACd,CAAC,CAAC;IACF,MAAMM,SAAS,GAAGtW,QAAQ,CAAC,MAAMY,QAAQ,CAACqD,KAAK,CAACe,OAAO,CAAC,GAAGf,KAAK,CAACe,OAAO,GAAG;MACzEA,OAAO,EAAEf,KAAK,CAACe;IACjB,CAAC,CAAC;IACF,MAAMuR,WAAW,GAAGA,CAAA,KAAM;MACxB,OAAOhW,WAAW,CAAC2B,EAAE,EAAE;QACrB,OAAO,EAAE;MACX,CAAC,EAAE;QACDmC,OAAO,EAAEA,CAAA,KAAM,CAAC9D,WAAW,CAAC6B,EAAE,EAAE;UAC9B,SAAS,EAAEsJ,WAAW,CAACvM,KAAK,CAAC2L,MAAM,GAAG0J,UAAU,CAACrV,KAAK,CAAC2L;QACzD,CAAC,EAAE;UACDzG,OAAO,EAAEA,CAAA,KAAM;YACb,IAAIQ,EAAE,EAAEC,EAAE,EAAE0E,EAAE,EAAEC,EAAE,EAAE+M,EAAE;YACtB,OAAO,CAAC,CAACA,EAAE,GAAG,CAAC/M,EAAE,GAAG,CAAC5E,EAAE,GAAGmE,KAAK,CAACyN,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG5R,EAAE,CAAClF,IAAI,CAACqJ,KAAK,CAAC,KAAK,IAAI,GAAGS,EAAE,GAAG,CAACD,EAAE,GAAGN,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,CAACpE,EAAE,GAAGoE,SAAS,CAACF,KAAK,EAAEyN,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjN,EAAE,CAAC7J,IAAI,CAACmF,EAAE,EAAE;cACvL4R,SAAS,EAAE;YACb,CAAC,CAAC,KAAK,IAAI,GAAGF,EAAE,GAAGjW,WAAW,CAACuB,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;UACpD;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;IACD,MAAM6U,mBAAmB,GAAIvP,MAAM,IAAK;MACtC,IAAIvC,EAAE;MACN,IAAIuC,MAAM,CAACD,MAAM,EAAE;QACjB,OAAOtG,UAAU,CAACuG,MAAM,CAACD,MAAM,CAAC,GAAGC,MAAM,CAACD,MAAM,CAAC,CAAC,GAAGC,MAAM,CAACD,MAAM;MACpE;MACA,IAAI6B,KAAK,CAAC,YAAY,CAAC,EAAE;QACvB,OAAOA,KAAK,CAAC,YAAY,CAAC,CAAC;UACzB5B,MAAM,EAAEA,MAAM,CAAC4I;QACjB,CAAC,CAAC;MACJ;MACA,IAAI,CAACnL,EAAE,GAAGZ,KAAK,CAACiB,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAAC+R,iBAAiB,EAAE;QACnE,OAAO3S,KAAK,CAACiB,UAAU,CAAC0R,iBAAiB,CAACxP,MAAM,CAAC4I,GAAG,CAAC;MACvD;MACA,OAAO,KAAK,CAAC;IACf,CAAC;IACD,MAAM6G,UAAU,GAAG7W,QAAQ,CAAC,MAAM,EAAE,CAAC8W,MAAM,CAACtC,UAAU,CAACrV,KAAK,EAAEuM,WAAW,CAACvM,KAAK,CAAC,CAAC;IACjF,MAAM4X,WAAW,GAAG/W,QAAQ,CAAC,MAAMiE,KAAK,CAAC4B,OAAO,GAAGgR,UAAU,CAAC1X,KAAK,GAAGuM,WAAW,CAACvM,KAAK,CAAC;IACxF,MAAM;MACJ6X,SAAS;MACTC;IACF,CAAC,GAAGjU,OAAO,CAAC;MACV2C,UAAU;MACVrB,IAAI,EAAEuG,WAAW;MACjB3G,OAAO,EAAE6S;IACX,CAAC,CAAC;IACF,MAAM;MACJC,SAAS,EAAEE,gBAAgB;MAC3BD,YAAY,EAAEE;IAChB,CAAC,GAAGnU,OAAO,CAAC;MACV2C,UAAU,EAAEa,iBAAiB;MAC7BlC,IAAI,EAAEqO,WAAW;MACjBzO,OAAO,EAAE2S;IACX,CAAC,CAAC;IACF,MAAMO,qBAAqB,GAAIpT,IAAI,IAAK;MACtC,IAAI,CAAC4G,aAAa,CAACzL,KAAK,IAAI,CAAC6E,IAAI,IAAI,CAAC+R,OAAO,CAAC5W,KAAK,CAAC6E,IAAI,CAAC,EAAE;QACzD,OAAO,KAAK,CAAC;MACf;MACA,OAAO;QACLyE,KAAK,EAAG,GAAEsN,OAAO,CAAC5W,KAAK,CAAC6E,IAAI,CAAE;MAChC,CAAC;IACH,CAAC;IACD,MAAMqT,gBAAgB,GAAGA,CAACjQ,MAAM,EAAEkQ,QAAQ,KAAK;MAC7C,OAAO/W,WAAW,CAAC2B,EAAE,EAAE;QACrB,KAAK,EAAG,iBAAgBoV,QAAS,EAAC;QAClC,OAAO,EAAE,CAAE,GAAErO,SAAU,aAAY,EAAEpI,UAAU,CAACoD,KAAK,CAACiC,QAAQ,CAAC,GAAGjC,KAAK,CAACiC,QAAQ,CAACkB,MAAM,CAAC4I,GAAG,EAAEsH,QAAQ,CAAC,GAAGrT,KAAK,CAACiC,QAAQ,CAAC;QACxH,SAAS,EAAGiC,EAAE,IAAK4L,cAAc,CAAC3M,MAAM,EAAEe,EAAE;MAC9C,CAAC,EAAE;QACD9D,OAAO,EAAEA,CAAA,KAAM,CAACmQ,UAAU,CAACrV,KAAK,CAACuT,GAAG,CAAC,CAAC6E,SAAS,EAAEnF,KAAK,KAAK;UACzD,IAAIvN,EAAE;UACN,MAAM2S,MAAM,GAAI,GAAEF,QAAS,IAAGlF,KAAM,IAAGhL,MAAM,CAAClI,GAAI,EAAC;UACnD,MAAM,CAACuY,OAAO,EAAEC,OAAO,CAAC,GAAG,CAAC7S,EAAE,GAAGqS,gBAAgB,CAAC/X,KAAK,CAACqY,MAAM,CAAC,KAAK,IAAI,GAAG3S,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;UACtF,IAAIsS,mBAAmB,CAAChY,KAAK,CAACiN,QAAQ,CAACoL,MAAM,CAAC,EAAE;YAC9C,OAAO,IAAI;UACb;UACA,MAAMtC,MAAM,GAAGkC,qBAAqB,CAACG,SAAS,CAACvT,IAAI,CAAC;UACpD,OAAOzD,WAAW,CAAC+B,WAAW,EAAE;YAC9B,OAAO,EAAE4S,MAAM;YACf,iBAAiB,EAAEqC,SAAS;YAC5B,YAAY,EAAE/C,UAAU,CAACrV,KAAK;YAC9B,QAAQ,EAAEiI,MAAM;YAChB,SAAS,EAAEqQ,OAAO;YAClB,SAAS,EAAEC,OAAO;YAClB,SAAS,EAAE;UACb,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC,EAAEhM,WAAW,CAACvM,KAAK,CAACuT,GAAG,CAAC,CAACxK,MAAM,EAAEkK,KAAK,KAAK;UAC3C,IAAIvN,EAAE;UACN,MAAM2S,MAAM,GAAI,GAAEF,QAAS,IAAG9C,UAAU,CAACrV,KAAK,CAAC2L,MAAM,GAAGsH,KAAM,IAAGhL,MAAM,CAAClI,GAAI,EAAC;UAC7E,MAAM,CAACuY,OAAO,EAAEC,OAAO,CAAC,GAAG,CAAC7S,EAAE,GAAGqS,gBAAgB,CAAC/X,KAAK,CAACqY,MAAM,CAAC,KAAK,IAAI,GAAG3S,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;UACtF,IAAIsS,mBAAmB,CAAChY,KAAK,CAACiN,QAAQ,CAACoL,MAAM,CAAC,EAAE;YAC9C,OAAO,IAAI;UACb;UACA,MAAMtC,MAAM,GAAGkC,qBAAqB,CAAClP,MAAM,CAACV,SAAS,CAAC;UACtD,OAAOjH,WAAW,CAAC6B,EAAE,EAAE;YACrB,KAAK,EAAG,MAAKoV,MAAO,EAAC;YACrB,OAAO,EAAEtC,MAAM;YACf,UAAU,EAAEoC,QAAQ;YACpB,QAAQ,EAAElQ,MAAM;YAChB,QAAQ,EAAEc,MAAM;YAChB,YAAY,EAAEsM,UAAU,CAACrV,KAAK;YAC9B,aAAa,EAAEuM,WAAW,CAACvM,KAAK;YAChC,SAAS,EAAEsY,OAAO;YAClB,SAAS,EAAEC,OAAO;YAClB,SAAS,EAAE,IAAI;YACf,SAAS,EAAGvP,EAAE,IAAK+L,eAAe,CAAC9M,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YACtD,YAAY,EAAGA,EAAE,IAAKkM,kBAAkB,CAACjN,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YAC5D,cAAc,EAAGA,EAAE,IAAKgM,oBAAoB,CAAC/M,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YAChE,cAAc,EAAGA,EAAE,IAAKiM,oBAAoB,CAAChN,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YAChE,eAAe,EAAGA,EAAE,IAAKmM,qBAAqB,CAAClN,MAAM,EAAEc,MAAM,EAAEC,EAAE;UACnE,CAAC,EAAE;YACDwP,EAAE,EAAE3O,KAAK,CAAC2O,EAAE;YACZ/T,IAAI,EAAEoF,KAAK,CAAC,cAAc;UAC5B,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH4O,EAAE,EAAE5O,KAAK,CAAC4O;MACZ,CAAC,CAAC;IACJ,CAAC;IACD,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAIlF,WAAW,CAACxT,KAAK,IAAIwT,WAAW,CAACxT,KAAK,CAAC2L,MAAM,GAAG,CAAC,EAAE;QACrD,OAAOvK,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,CAACoS,WAAW,CAACxT,KAAK,CAACuT,GAAG,CAAC,CAACpO,IAAI,EAAE8N,KAAK,KAAKiF,gBAAgB,CAAC/S,IAAI,EAAE8N,KAAK,CAAC,CAAC,CAAC,CAAC;MAC5G;MACA,OAAO,IAAI;IACb,CAAC;IACD,MAAM0F,eAAe,GAAGA,CAAC1Q,MAAM,EAAE2Q,eAAe,GAAG,IAAI,KAAK;MAC1D,IAAIlT,EAAE,EAAEC,EAAE,EAAE0E,EAAE,EAAEC,EAAE,EAAE+M,EAAE;MACtB,MAAMwB,UAAU,GAAG5Q,MAAM,CAAClI,GAAG;MAC7B,MAAM+Y,QAAQ,GAAG1I,eAAe,CAACpQ,KAAK,CAACiN,QAAQ,CAAC4L,UAAU,CAAC;MAC3D,OAAOzX,WAAW,CAAC,QAAQ,EAAE;QAC3B,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAG,GAAE0I,SAAU,aAAY;QAClC,SAAS,EAAGd,EAAE,IAAK;UACjBqH,YAAY,CAACwI,UAAU,EAAE5Q,MAAM,CAAC4I,GAAG,CAAC;UACpC,IAAI+H,eAAe,EAAE;YACnB5P,EAAE,CAAC4P,eAAe,CAAC,CAAC;UACtB;QACF;MACF,CAAC,EAAE,CAAC,CAACvB,EAAE,GAAG,CAAC/M,EAAE,GAAG,CAAC5E,EAAE,GAAGmE,KAAK,CAAC,aAAa,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnE,EAAE,CAAClF,IAAI,CAACqJ,KAAK,EAAE;QAC5EiP,QAAQ;QACR7Q,MAAM,EAAEA,MAAM,CAAC4I;MACjB,CAAC,CAAC,KAAK,IAAI,GAAGvG,EAAE,GAAG,CAACD,EAAE,GAAG,CAAC1E,EAAE,GAAGb,KAAK,CAACiB,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAACoT,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1O,EAAE,CAAC7J,IAAI,CAACmF,EAAE,EAAEmT,QAAQ,EAAE7Q,MAAM,CAAC4I,GAAG,CAAC,KAAK,IAAI,GAAGwG,EAAE,GAAGyB,QAAQ,GAAG1X,WAAW,CAACoB,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,GAAGpB,WAAW,CAACmB,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IACvO,CAAC;IACD,MAAMyW,YAAY,GAAGA,CAAC/Q,MAAM,EAAE;MAC5B9B,UAAU;MACV8S,SAAS;MACTC,SAAS;MACTC;IACF,CAAC,KAAK;MACJ,IAAIzT,EAAE,EAAEC,EAAE;MACV,IAAIsC,MAAM,CAACuJ,UAAU,EAAE;QACrB,IAAI,CAAC,CAAC9L,EAAE,GAAGuC,MAAM,CAAC+B,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGtE,EAAE,CAACiG,MAAM,MAAM,CAAC,IAAI9D,aAAa,CAAC7H,KAAK,EAAE;UACtF,OAAOoX,WAAW,CAAC,CAAC;QACtB;QACA,OAAO,CAACzR,EAAE,GAAGsC,MAAM,CAAC+B,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrE,EAAE,CAAC4N,GAAG,CAAC,CAAC6F,IAAI,EAAEnG,KAAK,KAAKoG,YAAY,CAACD,IAAI,EAAEnG,KAAK,EAAE;UACjG9M,UAAU;UACV8S,SAAS;UACTC;QACF,CAAC,CAAC,CAAC;MACL;MACA,IAAIC,aAAa,EAAE;QACjB,MAAMpF,eAAe,GAAGxI,gBAAgB,CAACvL,KAAK;QAC9C,OAAOoB,WAAW,CAAC2B,EAAE,EAAE;UACrB,KAAK,EAAG,GAAEkF,MAAM,CAAClI,GAAI,SAAQ;UAC7B,QAAQ,EAAE;QACZ,CAAC,EAAE;UACDmF,OAAO,EAAEA,CAAA,KAAM,CAAC9D,WAAW,CAAC6B,EAAE,EAAE;YAC9B,eAAe,EAAEiK,kBAAkB,CAAClN,KAAK,IAAImN,mBAAmB,CAACnN,KAAK;YACtE,gBAAgB,EAAE+T,eAAe,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACiD,WAAW;YAChF,SAAS,EAAEzK,WAAW,CAACvM,KAAK,CAAC2L,MAAM,GAAG0J,UAAU,CAACrV,KAAK,CAAC2L;UACzD,CAAC,EAAEvH,OAAO,CAAC+U,aAAa,CAAC,GAAGA,aAAa,GAAG;YAC1CjU,OAAO,EAAEA,CAAA,KAAM,CAACiU,aAAa;UAC/B,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;MACA,OAAO,IAAI;IACb,CAAC;IACD,MAAME,YAAY,GAAGA,CAACpR,MAAM,EAAEkQ,QAAQ,EAAE;MACtChS,UAAU,GAAG,CAAC;MACd8S,SAAS;MACTC,SAAS,GAAG;IACd,CAAC,GAAG,CAAC,CAAC,KAAK;MACT,IAAIxT,EAAE;MACN,MAAMmT,UAAU,GAAG5Q,MAAM,CAAClI,GAAG;MAC7B,MAAMuZ,WAAW,GAAG,CAACL,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAG,EAAE,EAAEtB,MAAM,CAACQ,QAAQ,CAAC;MACzE,MAAMgB,aAAa,GAAG3B,mBAAmB,CAACvP,MAAM,CAAC;MACjD,MAAMsR,UAAU,GAAGnJ,eAAe,CAACpQ,KAAK,CAACiN,QAAQ,CAAC4L,UAAU,CAAC;MAC7D,MAAMW,YAAY,GAAGtL,SAAS,CAACuL,SAAS,KAAKxR,MAAM,CAAClI,GAAG;MACvD,MAAM2Z,eAAe,GAAG5I,QAAQ,CAAC9Q,KAAK,GAAG;QACvCgH,SAAS,EAAEkS,SAAS;QACpBS,WAAW,EAAG3Q,EAAE,IAAK;UACnB,IAAI,CAACkQ,SAAS,EACZ;UACFnI,eAAe,CAAC/H,EAAE,EAAEf,MAAM,CAAClI,GAAG,EAAEuZ,WAAW,EAAErR,MAAM,CAAC4I,GAAG,CAAC;QAC1D,CAAC;QACD+I,SAAS,EAAG5Q,EAAE,IAAK;UACjB,IAAI,CAACkQ,SAAS,EACZ;UACF/H,aAAa,CAACnI,EAAE,CAAC;QACnB;MACF,CAAC,GAAG,CAAC,CAAC;MACN,MAAM6Q,eAAe,GAAG/I,QAAQ,CAAC9Q,KAAK,GAAG;QACvC8Z,WAAW,EAAG9Q,EAAE,IAAK;UACnB,IAAI,CAACkQ,SAAS,EACZ;UACFlI,eAAe,CAAChI,EAAE,EAAEsQ,WAAW,CAAC;QAClC,CAAC;QACDS,UAAU,EAAG/Q,EAAE,IAAK;UAClB,IAAI,CAACkQ,SAAS,EACZ;UACFhI,cAAc,CAAClI,EAAE,CAAC;QACpB,CAAC;QACDgR,MAAM,EAAGhR,EAAE,IAAK;UACd,IAAI,CAACkQ,SAAS,EACZ;UACFtL,YAAY,CAAC,MAAM,CAAC;UACpBwD,UAAU,CAACpI,EAAE,CAAC;QAChB;MACF,CAAC,GAAG,CAAC,CAAC;MACN,OAAO5H,WAAW,CAACC,QAAQ,EAAE,IAAI,EAAE,CAACD,WAAW,CAAC2B,EAAE,EAAEzB,UAAU,CAAC;QAC7D,KAAK,EAAEuX,UAAU;QACjB,OAAO,EAAE,CAAC;UACR,CAAE,GAAE/O,SAAU,eAAc,GAAGgH,QAAQ,CAAC9Q,KAAK,KAAK,KAAK;UACvD,CAAE,GAAE8J,SAAU,UAAS,GAAG0P;QAC5B,CAAC,EAAE9X,UAAU,CAACoD,KAAK,CAACiC,QAAQ,CAAC,GAAGjC,KAAK,CAACiC,QAAQ,CAACkB,MAAM,CAAC4I,GAAG,EAAEsH,QAAQ,CAAC,GAAGrT,KAAK,CAACiC,QAAQ,CAAC;QACtF,UAAU,EAAEoR,QAAQ;QACpB,QAAQ,EAAElQ,MAAM;QAChB,SAAS,EAAE,CAACvC,EAAE,GAAGmK,eAAe,CAAC7P,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0F,EAAE,CAACuH,QAAQ,CAAC4L,UAAU,CAAC;QAClF,SAAS,EAAG7P,EAAE,IAAK4L,cAAc,CAAC3M,MAAM,EAAEe,EAAE,CAAC;QAC7C,YAAY,EAAGA,EAAE,IAAK6L,iBAAiB,CAAC5M,MAAM,EAAEe,EAAE,CAAC;QACnD,eAAe,EAAGA,EAAE,IAAK8L,oBAAoB,CAAC7M,MAAM,EAAEe,EAAE;MAC1D,CAAC,EAAE8H,QAAQ,CAAC9Q,KAAK,KAAK,KAAK,GAAG0Z,eAAe,GAAG,CAAC,CAAC,EAAEG,eAAe,CAAC,EAAE;QACpE3U,OAAO,EAAEA,CAAA,KAAM,CAACmQ,UAAU,CAACrV,KAAK,CAACuT,GAAG,CAAC,CAAC6E,SAAS,EAAEnF,KAAK,KAAK;UACzD,IAAIrB,GAAG;UACP,MAAMyG,MAAM,GAAI,GAAEF,QAAS,IAAGlF,KAAM,IAAGhL,MAAM,CAAClI,GAAI,EAAC;UACnD,MAAM,CAACuY,OAAO,EAAEC,OAAO,CAAC,GAAGzT,KAAK,CAAC4B,OAAO,GAAG,CAACkL,GAAG,GAAGiG,SAAS,CAAC7X,KAAK,CAACqY,MAAM,CAAC,KAAK,IAAI,GAAGzG,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;UAC1G,IAAI9M,KAAK,CAAC4B,OAAO,IAAIoR,YAAY,CAAC9X,KAAK,CAACiN,QAAQ,CAACoL,MAAM,CAAC,EAAE;YACxD,OAAO,IAAI;UACb;UACA,MAAMtC,MAAM,GAAGkC,qBAAqB,CAACG,SAAS,CAACvT,IAAI,CAAC;UACpD,OAAOzD,WAAW,CAAC+B,WAAW,EAAE7B,UAAU,CAAC;YACzC,KAAK,EAAG,gBAAe2R,KAAM,EAAC;YAC9B,OAAO,EAAE8C,MAAM;YACf,iBAAiB,EAAEqC,SAAS;YAC5B,YAAY,EAAE/C,UAAU,CAACrV,KAAK;YAC9B,QAAQ,EAAEiI,MAAM;YAChB,WAAW,EAAE5C,OAAO,CAAC8T,aAAa,CAAC;YACnC,iBAAiB,EAAErJ,sBAAsB,CAAC9P,KAAK;YAC/C,SAAS,EAAEsY,OAAO;YAClB,SAAS,EAAEC,OAAO;YAClB,iBAAiB,EAAEI;UACrB,CAAC,EAAE7H,QAAQ,CAAC9Q,KAAK,KAAK,QAAQ,GAAG0Z,eAAe,GAAG,CAAC,CAAC,CAAC,EAAE;YACtD,kBAAkB,EAAE7P,KAAK,CAAC,kBAAkB;UAC9C,CAAC,CAAC;QACJ,CAAC,CAAC,EAAE0C,WAAW,CAACvM,KAAK,CAACuT,GAAG,CAAC,CAACxK,MAAM,EAAEkK,KAAK,KAAK;UAC3C,IAAIrB,GAAG;UACP,MAAMyG,MAAM,GAAI,GAAEF,QAAS,IAAGrT,KAAK,CAAC4B,OAAO,GAAG2O,UAAU,CAACrV,KAAK,CAAC2L,MAAM,GAAGsH,KAAK,GAAGA,KAAM,IAAGhL,MAAM,CAAClI,GAAI,EAAC;UACrG,MAAM,CAACuY,OAAO,EAAEC,OAAO,CAAC,GAAG,CAAC3G,GAAG,GAAGiG,SAAS,CAAC7X,KAAK,CAACqY,MAAM,CAAC,KAAK,IAAI,GAAGzG,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;UACjF,IAAIkG,YAAY,CAAC9X,KAAK,CAACiN,QAAQ,CAACoL,MAAM,CAAC,EAAE;YACvC,OAAO,IAAI;UACb;UACA,MAAM4B,UAAU,GAAGhH,KAAK,KAAK,CAAC,GAAG;YAC/BiH,aAAa,EAAEjS,MAAM,CAACuJ,UAAU;YAChCrL,UAAU,EAAE8B,MAAM,CAACuJ,UAAU,GAAGrL,UAAU,GAAG,EAAE,GAAGA;UACpD,CAAC,GAAG,CAAC,CAAC;UACN,MAAM4P,MAAM,GAAGkC,qBAAqB,CAAClP,MAAM,CAACV,SAAS,CAAC;UACtD,OAAOjH,WAAW,CAAC6B,EAAE,EAAE3B,UAAU,CAAC;YAChC,KAAK,EAAG,MAAK2R,KAAM,EAAC;YACpB,OAAO,EAAE8C,MAAM;YACf,UAAU,EAAEoC,QAAQ;YACpB,QAAQ,EAAElQ,MAAM;YAChB,QAAQ,EAAEc,MAAM;YAChB,YAAY,EAAEsM,UAAU,CAACrV,KAAK;YAC9B,aAAa,EAAEuM,WAAW,CAACvM,KAAK;YAChC,SAAS,EAAEsY,OAAO;YAClB,iBAAiB,EAAEK,eAAe;YAClC,SAAS,EAAEJ;UACb,CAAC,EAAE0B,UAAU,EAAE;YACb,SAAS,EAAGjR,EAAE,IAAK+L,eAAe,CAAC9M,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YACtD,YAAY,EAAGA,EAAE,IAAKkM,kBAAkB,CAACjN,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YAC5D,cAAc,EAAGA,EAAE,IAAKgM,oBAAoB,CAAC/M,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YAChE,cAAc,EAAGA,EAAE,IAAKiM,oBAAoB,CAAChN,MAAM,EAAEc,MAAM,EAAEC,EAAE,CAAC;YAChE,eAAe,EAAGA,EAAE,IAAKmM,qBAAqB,CAAClN,MAAM,EAAEc,MAAM,EAAEC,EAAE;UACnE,CAAC,CAAC,EAAE;YACFwP,EAAE,EAAE3O,KAAK,CAAC2O;UACZ,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACHC,EAAE,EAAE5O,KAAK,CAAC4O;MACZ,CAAC,CAAC,EAAEc,UAAU,IAAIP,YAAY,CAAC/Q,MAAM,EAAE;QACrC9B,UAAU,EAAEA,UAAU,GAAGrB,KAAK,CAACqB,UAAU;QACzC8S,SAAS,EAAEK,WAAW;QACtBJ,SAAS,EAAEA,SAAS,IAAI,CAACM,YAAY;QACrCL;MACF,CAAC,CAAC,CAAC,CAAC;IACN,CAAC;IACD,MAAMgB,UAAU,GAAGA,CAAA,KAAM;MACvB,MAAMC,UAAU,GAAG1O,WAAW,CAAC1L,KAAK,CAACqa,IAAI,CAAEpS,MAAM,IAAK5C,OAAO,CAAC4C,MAAM,CAACuJ,UAAU,CAAC,CAAC;MACjF,OAAOpQ,WAAW,CAAC0B,KAAK,EAAE,IAAI,EAAE;QAC9BoC,OAAO,EAAEA,CAAA,KAAM,CAACwG,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,GAAG,CAAC,GAAGD,WAAW,CAAC1L,KAAK,CAACuT,GAAG,CAAC,CAACtL,MAAM,EAAEgL,KAAK,KAAKoG,YAAY,CAACpR,MAAM,EAAEgL,KAAK,EAAE;UAClH9M,UAAU,EAAEiU,UAAU,GAAG,EAAE,GAAG;QAChC,CAAC,CAAC,CAAC,GAAGhD,WAAW,CAAC,CAAC,CAAC;QACpBkD,KAAK,EAAEzQ,KAAK,CAACyQ;MACf,CAAC,CAAC;IACJ,CAAC;IACD,MAAMC,YAAY,GAAGA,CAAA,KAAMnZ,WAAW,CAACyB,KAAK,EAAE,IAAI,EAAE;MAClDqC,OAAO,EAAEA,CAAA,KAAM,CAACsH,YAAY,CAACxM,KAAK,CAACuT,GAAG,CAAC,CAACiH,GAAG,EAAEvH,KAAK,KAAK7R,WAAW,CAAC2B,EAAE,EAAE;QACrE,KAAK,EAAG,cAAakQ,KAAM;MAC7B,CAAC,EAAE;QACD/N,OAAO,EAAEA,CAAA,KAAM,CAAC+N,KAAK,KAAK,CAAC,IAAIoC,UAAU,CAACrV,KAAK,CAACuT,GAAG,CAAC,CAAC6E,SAAS,EAAEqC,MAAM,KAAK;UACzE,IAAI/U,EAAE;UACN,OAAOtE,WAAW,CAAC8B,WAAW,EAAE;YAC9B,KAAK,EAAG,gBAAeuX,MAAO,EAAC;YAC/B,KAAK,EAAGC,GAAG,IAAK;cACd,IAAI,CAACA,GAAG,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACC,GAAG,KAAKvC,SAAS,CAACvT,IAAI,EAAE;gBACtD+F,MAAM,CAAC5K,KAAK,CAACoY,SAAS,CAACvT,IAAI,CAAC,GAAG6V,GAAG,CAACC,GAAG;cACxC;YACF,CAAC;YACD,iBAAiB,EAAEvC,SAAS;YAC5B,YAAY,EAAE/C,UAAU,CAACrV,KAAK;YAC9B,WAAW,EAAEqF,OAAO,CAAC+S,SAAS,CAACvT,IAAI,KAAK,oBAAoB,KAAK,CAACa,EAAE,GAAGZ,KAAK,CAACgB,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAACkV,cAAc,CAAC,CAAC;YACjI,SAAS,EAAEpO,YAAY,CAACxM,KAAK,CAAC2L;UAChC,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC,EAAE6O,GAAG,CAACjH,GAAG,CAAC,CAACxK,MAAM,EAAE0R,MAAM,KAAK;UAC9B,MAAMI,SAAS,GAAG/V,KAAK,CAACoC,eAAe,IAAI7B,OAAO,CAAC0D,MAAM,CAACV,SAAS,CAAC,IAAIoS,MAAM,GAAGD,GAAG,CAAC7O,MAAM,GAAG,CAAC;UAC/F,OAAOvK,WAAW,CAAC4B,EAAE,EAAE;YACrB,KAAK,EAAG,MAAKyX,MAAO,EAAC;YACrB,KAAK,EAAGC,GAAG,IAAK;cACd,IAAI,CAACA,GAAG,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACC,GAAG,KAAK5R,MAAM,CAACV,SAAS,EAAE;gBACxDuC,MAAM,CAAC5K,KAAK,CAAC+I,MAAM,CAACV,SAAS,CAAC,GAAGqS,GAAG,CAACC,GAAG;cAC1C;YACF,CAAC;YACD,QAAQ,EAAE5R,MAAM;YAChB,YAAY,EAAEsM,UAAU,CAACrV,KAAK;YAC9B,aAAa,EAAEuM,WAAW,CAACvM,KAAK;YAChC,WAAW,EAAE6a,SAAS;YACtB,SAAS,EAAG7R,EAAE,IAAKoM,iBAAiB,CAACrM,MAAM,EAAEC,EAAE;UACjD,CAAC,EAAE;YACD8R,EAAE,EAAEjR,KAAK,CAACiR;UACZ,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC;MACJC,KAAK,EAAElR,KAAK,CAACkR;IACf,CAAC,CAAC;IACF,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAIxP,UAAU,CAACxL,KAAK,EAAE;QACpB,MAAM+V,MAAM,GAAG,CAAC,CAAC;QACjB,IAAIe,YAAY,CAAC9W,KAAK,EAAE;UACtB+V,MAAM,CAACkF,SAAS,GAAG,QAAQ;QAC7B;QACA,IAAItZ,QAAQ,CAACmD,KAAK,CAAC6C,YAAY,CAAC,EAAE;UAChCoO,MAAM,CAACmF,GAAG,GAAI,GAAEpW,KAAK,CAAC6C,YAAa,IAAG;QACxC;QACA,MAAMwT,SAAS,GAAGjR,gBAAgB,CAAClK,KAAK,GAAG+D,SAAS,GAAG,KAAK;QAC5D,OAAO3C,WAAW,CAACC,QAAQ,EAAE,IAAI,EAAE,CAACyD,KAAK,CAACwB,UAAU,IAAIlF,WAAW,CAAC+Z,SAAS,EAAE7Z,UAAU,CAAC;UACxF,KAAK,EAAE+J,WAAW;UAClB,OAAO,EAAE,CAAE,GAAEvB,SAAU,SAAQ,EAAE;YAC/B,CAAE,GAAEA,SAAU,gBAAe,GAAGhF,KAAK,CAAC6C;UACxC,CAAC,CAAC;UACF,OAAO,EAAEoO;QACX,CAAC,EAAEnO,SAAS,CAAC5H,KAAK,GAAGI,cAAc,CAAC;UAClCgb,IAAI,EAAE1P,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,KAAK,CAAC;UACpC0P,eAAe,EAAE;QACnB,CAAC,EAAElR,cAAc,CAACnK,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE;UAClCkF,OAAO,EAAEA,CAAA,KAAM,CAAC9D,WAAW,CAAC,OAAO,EAAE;YACnC,OAAO,EAAG,GAAE0I,SAAU,UAAS;YAC/B,OAAO,EAAEgM,WAAW,CAAC9V,KAAK;YAC1B,aAAa,EAAE,CAAC;YAChB,aAAa,EAAE;UACjB,CAAC,EAAE,CAACoB,WAAW,CAACwB,QAAQ,EAAE;YACxB,aAAa,EAAE2J,WAAW,CAACvM,KAAK;YAChC,YAAY,EAAEqV,UAAU,CAACrV,KAAK;YAC9B,aAAa,EAAE0M;UACjB,CAAC,EAAE,IAAI,CAAC,EAAE6N,YAAY,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,EAAEnZ,WAAW,CAACiC,cAAc,EAAE;UAC9B,UAAU,EAAE4T;QACd,CAAC,EAAE;UACD/R,OAAO,EAAEA,CAAA,KAAM;YACb,IAAIQ,EAAE,EAAEC,EAAE;YACV,OAAO,CAAC8F,aAAa,CAACzL,KAAK,GAAGoB,WAAW,CAACgC,WAAW,EAAE9B,UAAU,CAAC;cAChE,KAAK,EAAGoZ,GAAG,IAAK;gBACd,IAAIA,GAAG,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACC,GAAG,EAChCzP,QAAQ,CAAClL,KAAK,GAAG0a,GAAG,CAACC,GAAG;cAC5B,CAAC;cACD,OAAO,EAAG,GAAE7Q,SAAU,OAAM;cAC5B,MAAM,EAAE4B,WAAW,CAAC1L,KAAK;cACzB,SAAS,EAAE,MAAM;cACjB,WAAW,EAAE;gBACXsb,IAAI,EAAE,OAAO;gBACbC,OAAO,EAAE;cACX,CAAC;cACD,WAAW,EAAE;gBACXC,KAAK,EAAG,GAAE1R,SAAU,UAAS;gBAC7B2R,KAAK,EAAEzF,YAAY,CAAChW;cACtB,CAAC;cACD,iBAAiB,EAAE;YACrB,CAAC,EAAE8E,KAAK,CAACyB,gBAAgB,EAAE;cACzB,UAAU,EAAEoO;YACd,CAAC,CAAC,EAAE;cACFyE,IAAI,EAAEA,CAAC;gBACLA,IAAI;gBACJnG;cACF,CAAC,KAAKoG,YAAY,CAACD,IAAI,EAAEnG,KAAK;YAChC,CAAC,CAAC,GAAG7R,WAAW,CAAC+Z,SAAS,EAAE7Z,UAAU,CAAC;cACrC,KAAK,EAAE2J,WAAW;cAClB,OAAO,EAAG,GAAEnB,SAAU,OAAM;cAC5B,OAAO,EAAE;gBACPY,SAAS,EAAE/I,QAAQ,CAAC,CAAC+D,EAAE,GAAGZ,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAAC+E,CAAC,CAAC,GAAI,GAAE,CAAC9E,EAAE,GAAGb,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAAC8E,CAAE,IAAG,GAAG;cAC1H;YACF,CAAC,EAAE7C,SAAS,CAAC5H,KAAK,GAAGI,cAAc,CAAC;cAClCsb,UAAU,EAAE;gBACVC,OAAO,EAAE,MAAM;gBACfC,SAAS,EAAE;cACb;YACF,CAAC,EAAEzR,cAAc,CAACnK,KAAK,CAAC,GAAG,KAAK,CAAC,EAAE;cACjC,UAAU,EAAE2U;YACd,CAAC,CAAC,EAAE;cACFzP,OAAO,EAAEA,CAAA,KAAM,CAAC9D,WAAW,CAAC,OAAO,EAAE;gBACnC,OAAO,EAAG,GAAE0I,SAAU,UAAS;gBAC/B,OAAO,EAAEkM,YAAY,CAAChW,KAAK;gBAC3B,aAAa,EAAE,CAAC;gBAChB,aAAa,EAAE;cACjB,CAAC,EAAE,CAAC0L,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,KAAK,CAAC,IAAIvK,WAAW,CAACwB,QAAQ,EAAE;gBAC1D,aAAa,EAAE2J,WAAW,CAACvM,KAAK;gBAChC,YAAY,EAAEqV,UAAU,CAACrV,KAAK;gBAC9B,aAAa,EAAE0M;cACjB,CAAC,EAAE,IAAI,CAAC,EAAEyN,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;UACL;QACF,CAAC,CAAC,EAAE3G,WAAW,CAACxT,KAAK,IAAIwT,WAAW,CAACxT,KAAK,CAAC2L,MAAM,GAAG,CAAC,IAAIvK,WAAW,CAAC,KAAK,EAAE;UAC1E,KAAK,EAAEuJ,UAAU;UACjB,OAAO,EAAG,GAAEb,SAAU,QAAO;UAC7B,OAAO,EAAE;YACPmR,SAAS,EAAEnE,YAAY,CAAC9W,KAAK,GAAG,QAAQ,GAAG;UAC7C;QACF,CAAC,EAAE,CAACoB,WAAW,CAAC,OAAO,EAAE;UACvB,OAAO,EAAG,GAAE0I,SAAU,UAAS;UAC/B,OAAO,EAAEkM,YAAY,CAAChW,KAAK;UAC3B,aAAa,EAAE,CAAC;UAChB,aAAa,EAAE;QACjB,CAAC,EAAE,CAACoB,WAAW,CAACwB,QAAQ,EAAE;UACxB,aAAa,EAAE2J,WAAW,CAACvM,KAAK;UAChC,YAAY,EAAEqV,UAAU,CAACrV,KAAK;UAC9B,aAAa,EAAE0M;QACjB,CAAC,EAAE,IAAI,CAAC,EAAEgM,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC;MACA,OAAOtX,WAAW,CAACiC,cAAc,EAAE;QACjC,UAAU,EAAEwY,CAAA,KAAMjI,gBAAgB,CAAC;MACrC,CAAC,EAAE;QACD1O,OAAO,EAAEA,CAAA,KAAM,CAAC9D,WAAW,CAAC,OAAO,EAAE;UACnC,OAAO,EAAG,GAAE0I,SAAU,UAAS;UAC/B,aAAa,EAAE,CAAC;UAChB,aAAa,EAAE,CAAC;UAChB,OAAO,EAAEkM,YAAY,CAAChW;QACxB,CAAC,EAAE,CAACoB,WAAW,CAACwB,QAAQ,EAAE;UACxB,aAAa,EAAE2J,WAAW,CAACvM,KAAK;UAChC,YAAY,EAAEqV,UAAU,CAACrV,KAAK;UAC9B,aAAa,EAAE0M;QACjB,CAAC,EAAE,IAAI,CAAC,EAAE5H,KAAK,CAACwB,UAAU,IAAIiU,YAAY,CAAC,CAAC,EAAEJ,UAAU,CAAC,CAAC,EAAE3G,WAAW,CAACxT,KAAK,IAAIwT,WAAW,CAACxT,KAAK,CAAC2L,MAAM,GAAG,CAAC,IAAI+M,aAAa,CAAC,CAAC,CAAC,CAAC;MACpI,CAAC,CAAC;IACJ,CAAC;IACD,MAAMoD,WAAW,GAAIP,OAAO,IAAK;MAC/B,IAAI7V,EAAE;MACN,MAAMqQ,MAAM,GAAG,CAAC,CAACrQ,EAAE,GAAGZ,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAACgF,SAAS,IAAI;QACrEA,SAAS,EAAE5F,KAAK,CAACkB,MAAM,CAAC0E;MAC1B,CAAC,GAAG,KAAK,CAAC;MACV,MAAMyQ,SAAS,GAAGjR,gBAAgB,CAAClK,KAAK,GAAG+D,SAAS,GAAG,KAAK;MAC5D,OAAO3C,WAAW,CAACC,QAAQ,EAAE,IAAI,EAAE,CAACD,WAAW,CAAC,KAAK,EAAE;QACrD,OAAO,EAAE,CAAE,GAAE0I,SAAU,YAAW,EAAE6M,QAAQ,CAAC3W,KAAK;MACpD,CAAC,EAAE,CAACoB,WAAW,CAAC+Z,SAAS,EAAE7Z,UAAU,CAAC;QACpC,KAAK,EAAEwJ,aAAa;QACpB,OAAO,EAAE,CAAE,GAAEhB,SAAU,UAAS,EAAE;UAChC,CAAE,GAAEA,SAAU,mBAAkB,GAAG,CAAC0B,UAAU,CAACxL;QACjD,CAAC,CAAC;QACF,OAAO,EAAE+V;MACX,CAAC,EAAEnO,SAAS,CAAC5H,KAAK,GAAGI,cAAc,CAAC;QAClCsb,UAAU,EAAE;UACVK,MAAM,EAAE;QACV;MACF,CAAC,EAAE5R,cAAc,CAACnK,KAAK,CAAC,GAAG,KAAK,CAAC,EAAE;QACjC,UAAU,EAAEuU;MACd,CAAC,CAAC,EAAE;QACFrP,OAAO,EAAEA,CAAA,KAAM,CAACqW,OAAO,GAAGna,WAAW,CAAC,OAAO,EAAE;UAC7C,OAAO,EAAG,GAAE0I,SAAU,UAAS;UAC/B,aAAa,EAAE,CAAC;UAChB,aAAa,EAAE;QACjB,CAAC,EAAE,CAACyR,OAAO,CAAC,CAAC,CAAC,CAAC,GAAGP,aAAa,CAAC,CAAC;MACnC,CAAC,CAAC,CAAC,CAAC,EAAEnR,KAAK,CAACmS,MAAM,IAAI5a,WAAW,CAAC,KAAK,EAAE;QACvC,OAAO,EAAG,GAAE0I,SAAU;MACxB,CAAC,EAAE,CAACD,KAAK,CAACmS,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IACD,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAIvW,EAAE,EAAEC,EAAE;MACV,MAAMuW,eAAe,GAAGza,QAAQ,CAACqD,KAAK,CAACmB,UAAU,CAAC,GAAG3C,IAAI,CAACwB,KAAK,CAACmB,UAAU,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,gBAAgB,EAAE,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC;MAC9I,OAAO7E,WAAW,CAAC,KAAK,EAAE;QACxB,OAAO,EAAEsV,aAAa,CAAC1W;MACzB,CAAC,EAAE,CAAC,CAAC0F,EAAE,GAAGmE,KAAK,CAAC,iBAAiB,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnE,EAAE,CAAClF,IAAI,CAACqJ,KAAK,CAAC,EAAEzI,WAAW,CAACsB,UAAU,EAAEpB,UAAU,CAAC;QACxG,OAAO,EAAEmQ,SAAS,CAACzR,KAAK,CAAC2L,MAAM;QAC/B,SAAS,EAAElD,IAAI,CAACzI,KAAK;QACrB,UAAU,EAAE0I,QAAQ,CAAC1I,KAAK;QAC1B,UAAU,EAAGmc,KAAK,IAAK;UACrB1J,gBAAgB,CAAC0J,KAAK,CAAC;UACvBvO,YAAY,CAAC,YAAY,CAAC;QAC5B,CAAC;QACD,kBAAkB,EAAGwO,SAAS,IAAK;UACjC1J,oBAAoB,CAAC0J,SAAS,CAAC;UAC/BxO,YAAY,CAAC,YAAY,CAAC;QAC5B;MACF,CAAC,EAAEsO,eAAe,CAAC,EAAE,IAAI,CAAC,EAAE,CAACvW,EAAE,GAAGkE,KAAK,CAAC,kBAAkB,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGlE,EAAE,CAACnF,IAAI,CAACqJ,KAAK,CAAC,CAAC,CAAC;IAClG,CAAC;IACD,MAAM4R,KAAK,GAAG5a,QAAQ,CAAC,MAAM;MAC3B,IAAI6E,EAAE,EAAEC,EAAE;MACV,IAAI7D,QAAQ,CAAC,CAAC4D,EAAE,GAAGZ,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAAC+E,CAAC,CAAC,EAAE;QACzD,OAAO;UACLsR,MAAM,EAAE,CAACpW,EAAE,GAAGb,KAAK,CAACkB,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAAC8E;QACpD,CAAC;MACH;MACA,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IACF,MAAM4R,MAAM,GAAGA,CAAA,KAAM;MACnB,IAAI3W,EAAE;MACN,IAAImE,KAAK,CAAC3E,OAAO,EAAE;QACjB,OAAO9D,WAAW,CAAC,KAAK,EAAE;UACxB,OAAO,EAAEqV,GAAG,CAACzW;QACf,CAAC,EAAE,CAAC8b,WAAW,CAACjS,KAAK,CAAC3E,OAAO,CAAC,CAAC,CAAC;MAClC;MACA8E,QAAQ,CAAChK,KAAK,GAAG,CAAC0F,EAAE,GAAGmE,KAAK,CAAC9E,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGW,EAAE,CAAClF,IAAI,CAACqJ,KAAK,CAAC;MACvE,OAAOzI,WAAW,CAAC,KAAK,EAAE;QACxB,OAAO,EAAEqV,GAAG,CAACzW,KAAK;QAClB,OAAO,EAAEyb,KAAK,CAACzb;MACjB,CAAC,EAAE,CAACgK,QAAQ,CAAChK,KAAK,EAAEoB,WAAW,CAACqB,IAAI,EAAE0U,SAAS,CAACnX,KAAK,EAAE;QACrDkF,OAAO,EAAEA,CAAA,KAAM,CAACJ,KAAK,CAACmB,UAAU,KAAK,KAAK,KAAKyF,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,GAAG,CAAC,IAAIyC,UAAU,CAACpO,KAAK,CAAC2L,MAAM,GAAG,CAAC,CAAC,IAAIqB,eAAe,CAAChN,KAAK,IAAIic,gBAAgB,CAAC,CAAC,EAAEH,WAAW,CAAC,CAAC,EAAEhX,KAAK,CAACmB,UAAU,KAAK,KAAK,KAAKyF,WAAW,CAAC1L,KAAK,CAAC2L,MAAM,GAAG,CAAC,IAAIyC,UAAU,CAACpO,KAAK,CAAC2L,MAAM,GAAG,CAAC,CAAC,IAAI,CAACqB,eAAe,CAAChN,KAAK,IAAIic,gBAAgB,CAAC,CAAC;MACxT,CAAC,CAAC,CAAC,CAAC;IACN,CAAC;IACD,OAAO;MACLI,MAAM;MACNC,UAAU,EAAEtU,MAAM;MAClBuU,aAAa,EAAEjM,SAAS;MACxBkM,UAAU,EAAEtU,MAAM;MAClBuU,aAAa,EAAEvM,SAAS;MACxBwM,gBAAgB,EAAEhO,YAAY;MAC9BiO,gBAAgB,EAAEhO,YAAY;MAC9BiO,gBAAgB,EAAE/N,YAAY;MAC9BgO,gBAAgB,EAAE/N;IACpB,CAAC;EACH,CAAC;EACDgO,OAAO,EAAE;IACP5M,SAASA,CAAC/H,OAAO,EAAE;MACjB,OAAO,IAAI,CAACsU,aAAa,CAACtU,OAAO,CAAC;IACpC,CAAC;IACDD,MAAMA,CAAC7B,MAAM,EAAE8B,OAAO,EAAE;MACtB,OAAO,IAAI,CAACqU,UAAU,CAACnW,MAAM,EAAE8B,OAAO,CAAC;IACzC,CAAC;IACDmI,SAASA,CAACnI,OAAO,EAAE;MACjB,OAAO,IAAI,CAACoU,aAAa,CAACpU,OAAO,CAAC;IACpC,CAAC;IACDH,MAAMA,CAAC3B,MAAM,EAAE8B,OAAO,EAAE;MACtB,OAAO,IAAI,CAACmU,UAAU,CAACjW,MAAM,EAAE8B,OAAO,CAAC;IACzC,CAAC;IACDuG,YAAYA,CAACrG,SAAS,EAAE;MACtB,OAAO,IAAI,CAACqU,gBAAgB,CAACrU,SAAS,CAAC;IACzC,CAAC;IACDsG,YAAYA,CAACtG,SAAS,EAAE;MACtB,OAAO,IAAI,CAACsU,gBAAgB,CAACtU,SAAS,CAAC;IACzC,CAAC;IACDwG,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAAC+N,gBAAgB,CAAC,CAAC;IAChC,CAAC;IACD9N,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAAC+N,gBAAgB,CAAC,CAAC;IAChC;EACF,CAAC;EACDR,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACA,MAAM,CAAC,CAAC;EACtB;AACF,CAAC,CAAC;AACF,SAASzX,MAAM,IAAIM,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}