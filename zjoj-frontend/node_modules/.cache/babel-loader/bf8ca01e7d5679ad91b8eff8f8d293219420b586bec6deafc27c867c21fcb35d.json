{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, toRefs, computed, inject, ref, provide, reactive, watch, onMounted, onUpdated, onDeactivated, onBeforeUnmount, createVNode, Fragment, Teleport, mergeProps, Transition, withDirectives, vShow, nextTick } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { getScrollElements, getElementScrollRect, getPopupStyle, getTransformOrigin, getArrowStyle } from \"./utils.js\";\nimport ResizeObserver from \"../_components/resize-observer-v2.js\";\nimport { on, off } from \"../_utils/dom.js\";\nimport { isEmptyChildren, mergeFirstChild } from \"../_utils/vue-utils.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nimport { triggerInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport usePopupManager from \"../_hooks/use-popup-manager.js\";\nimport { useResizeObserver } from \"../_hooks/use-resize-observer.js\";\nimport ClientOnly from \"../_components/client-only.js\";\nimport { useTeleportContainer } from \"../_hooks/use-teleport-container.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport { useFirstElement } from \"../_hooks/use-first-element.js\";\nimport { omit } from \"../_utils/omit.js\";\nconst TRIGGER_EVENTS = [\"onClick\", \"onMouseenter\", \"onMouseleave\", \"onFocusin\", \"onFocusout\", \"onContextmenu\"];\nvar _Trigger = defineComponent({\n  name: \"Trigger\",\n  inheritAttrs: false,\n  props: {\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {\n      type: [String, Array],\n      default: \"hover\"\n    },\n    position: {\n      type: String,\n      default: \"bottom\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    popupOffset: {\n      type: Number,\n      default: 0\n    },\n    popupTranslate: {\n      type: [Array, Object]\n    },\n    showArrow: {\n      type: Boolean,\n      default: false\n    },\n    alignPoint: {\n      type: Boolean,\n      default: false\n    },\n    popupHoverStay: {\n      type: Boolean,\n      default: true\n    },\n    blurToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickOutsideToClose: {\n      type: Boolean,\n      default: true\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: true\n    },\n    contentClass: {\n      type: [String, Array, Object]\n    },\n    contentStyle: {\n      type: Object\n    },\n    arrowClass: {\n      type: [String, Array, Object]\n    },\n    arrowStyle: {\n      type: Object\n    },\n    popupStyle: {\n      type: Object\n    },\n    animationName: {\n      type: String,\n      default: \"fade-in\"\n    },\n    duration: {\n      type: [Number, Object]\n    },\n    mouseEnterDelay: {\n      type: Number,\n      default: 100\n    },\n    mouseLeaveDelay: {\n      type: Number,\n      default: 100\n    },\n    focusDelay: {\n      type: Number,\n      default: 0\n    },\n    autoFitPopupWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFitPopupMinWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFixPosition: {\n      type: Boolean,\n      default: true\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    updateAtScroll: {\n      type: Boolean,\n      default: false\n    },\n    autoFitTransformOrigin: {\n      type: Boolean,\n      default: false\n    },\n    hideEmpty: {\n      type: Boolean,\n      default: false\n    },\n    openedClass: {\n      type: [String, Array, Object]\n    },\n    autoFitPosition: {\n      type: Boolean,\n      default: true\n    },\n    renderToBody: {\n      type: Boolean,\n      default: true\n    },\n    preventFocus: {\n      type: Boolean,\n      default: false\n    },\n    scrollToClose: {\n      type: Boolean,\n      default: false\n    },\n    scrollToCloseDistance: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: {\n    \"update:popupVisible\": visible => true,\n    \"popupVisibleChange\": visible => true,\n    \"show\": () => true,\n    \"hide\": () => true,\n    \"resize\": () => true\n  },\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const {\n      popupContainer\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"trigger\");\n    const popupAttrs = computed(() => omit(attrs, TRIGGER_EVENTS));\n    const configCtx = inject(configProviderInjectionKey, void 0);\n    const triggerMethods = computed(() => [].concat(props.trigger));\n    const childrenRefs = new Set();\n    const triggerCtx = inject(triggerInjectionKey, void 0);\n    const {\n      children,\n      firstElement\n    } = useFirstElement();\n    const popupRef = ref();\n    const popupVisible = ref(props.defaultPopupVisible);\n    const popupPosition = ref(props.position);\n    const popupStyle = ref({});\n    const transformStyle = ref({});\n    const arrowStyle = ref({});\n    const arrowRef = ref();\n    const mousePosition = ref({\n      top: 0,\n      left: 0\n    });\n    let scrollPosition = null;\n    let windowScrollPosition = null;\n    const computedVisible = computed(() => {\n      var _a;\n      return (_a = props.popupVisible) != null ? _a : popupVisible.value;\n    });\n    const {\n      teleportContainer,\n      containerRef\n    } = useTeleportContainer({\n      popupContainer,\n      visible: computedVisible,\n      documentContainer: true\n    });\n    const {\n      zIndex\n    } = usePopupManager(\"popup\", {\n      visible: computedVisible\n    });\n    let delayTimer = 0;\n    let outsideListener = false;\n    let windowListener = false;\n    const cleanDelayTimer = () => {\n      if (delayTimer) {\n        window.clearTimeout(delayTimer);\n        delayTimer = 0;\n      }\n    };\n    const updateMousePosition = e => {\n      if (props.alignPoint) {\n        const {\n          pageX,\n          pageY\n        } = e;\n        mousePosition.value = {\n          top: pageY,\n          left: pageX\n        };\n      }\n    };\n    const updatePopupStyle = () => {\n      if (!firstElement.value || !popupRef.value || !containerRef.value) {\n        return;\n      }\n      const containerRect = containerRef.value.getBoundingClientRect();\n      const triggerRect = props.alignPoint ? {\n        top: mousePosition.value.top,\n        bottom: mousePosition.value.top,\n        left: mousePosition.value.left,\n        right: mousePosition.value.left,\n        scrollTop: mousePosition.value.top,\n        scrollBottom: mousePosition.value.top,\n        scrollLeft: mousePosition.value.left,\n        scrollRight: mousePosition.value.left,\n        width: 0,\n        height: 0\n      } : getElementScrollRect(firstElement.value, containerRect);\n      const getPopupRect = () => getElementScrollRect(popupRef.value, containerRect);\n      const popupRect = getPopupRect();\n      const {\n        style,\n        position\n      } = getPopupStyle(props.position, containerRect, triggerRect, popupRect, {\n        offset: props.popupOffset,\n        translate: props.popupTranslate,\n        customStyle: props.popupStyle,\n        autoFitPosition: props.autoFitPosition\n      });\n      if (props.autoFitTransformOrigin) {\n        transformStyle.value = {\n          transformOrigin: getTransformOrigin(position)\n        };\n      }\n      if (props.autoFitPopupMinWidth) {\n        style.minWidth = `${triggerRect.width}px`;\n      } else if (props.autoFitPopupWidth) {\n        style.width = `${triggerRect.width}px`;\n      }\n      if (popupPosition.value !== position) {\n        popupPosition.value = position;\n      }\n      popupStyle.value = style;\n      if (props.showArrow) {\n        nextTick(() => {\n          arrowStyle.value = getArrowStyle(position, triggerRect, getPopupRect(), {\n            customStyle: props.arrowStyle\n          });\n        });\n      }\n    };\n    const changeVisible = (visible, delay) => {\n      if (visible === computedVisible.value && delayTimer === 0) {\n        return;\n      }\n      const update = () => {\n        popupVisible.value = visible;\n        emit(\"update:popupVisible\", visible);\n        emit(\"popupVisibleChange\", visible);\n        if (visible) {\n          nextTick(() => {\n            updatePopupStyle();\n          });\n        }\n      };\n      if (!visible) {\n        scrollPosition = null;\n        windowScrollPosition = null;\n      }\n      if (delay) {\n        cleanDelayTimer();\n        if (visible !== computedVisible.value) {\n          delayTimer = window.setTimeout(update, delay);\n        }\n      } else {\n        update();\n      }\n    };\n    const handleClick = e => {\n      var _a;\n      (_a = attrs.onClick) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n      if (triggerMethods.value.includes(\"click\")) {\n        updateMousePosition(e);\n        changeVisible(!computedVisible.value);\n      } else if (triggerMethods.value.includes(\"contextMenu\") && computedVisible.value) {\n        changeVisible(false);\n      }\n    };\n    const handleMouseEnter = e => {\n      var _a;\n      (_a = attrs.onMouseenter) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n      updateMousePosition(e);\n      changeVisible(true, props.mouseEnterDelay);\n    };\n    const handleMouseEnterWithContext = e => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseenter(e);\n      handleMouseEnter(e);\n    };\n    const handleMouseLeave = e => {\n      var _a;\n      (_a = attrs.onMouseleave) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n      changeVisible(false, props.mouseLeaveDelay);\n    };\n    const handleMouseLeaveWithContext = e => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseleave(e);\n      handleMouseLeave(e);\n    };\n    const handleFocusin = e => {\n      var _a;\n      (_a = attrs.onFocusin) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n      changeVisible(true, props.focusDelay);\n    };\n    const handleFocusout = e => {\n      var _a;\n      (_a = attrs.onFocusout) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n      if (!props.blurToClose) {\n        return;\n      }\n      changeVisible(false);\n    };\n    const handleContextmenu = e => {\n      var _a;\n      (_a = attrs.onContextmenu) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"contextMenu\") || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n      updateMousePosition(e);\n      changeVisible(!computedVisible.value);\n      e.preventDefault();\n    };\n    const addChildRef = ref2 => {\n      childrenRefs.add(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.addChildRef(ref2);\n    };\n    const removeChildRef = ref2 => {\n      childrenRefs.delete(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(ref2);\n    };\n    provide(triggerInjectionKey, reactive({\n      onMouseenter: handleMouseEnterWithContext,\n      onMouseleave: handleMouseLeaveWithContext,\n      addChildRef,\n      removeChildRef\n    }));\n    const removeOutsideListener = () => {\n      off(document.documentElement, \"mousedown\", handleOutsideClick);\n      outsideListener = false;\n    };\n    const contentSlot = usePickSlots(slots, \"content\");\n    const hidePopup = computed(() => {\n      var _a;\n      return props.hideEmpty && isEmptyChildren((_a = contentSlot.value) == null ? void 0 : _a.call(contentSlot));\n    });\n    const handleOutsideClick = e => {\n      var _a, _b, _c;\n      if (((_a = firstElement.value) == null ? void 0 : _a.contains(e.target)) || ((_b = popupRef.value) == null ? void 0 : _b.contains(e.target))) {\n        return;\n      }\n      for (const item of childrenRefs) {\n        if ((_c = item.value) == null ? void 0 : _c.contains(e.target)) {\n          return;\n        }\n      }\n      removeOutsideListener();\n      changeVisible(false);\n    };\n    const isExceedThreshold = (oldPosition, element) => {\n      const [scrollTop, scrollLeft] = oldPosition;\n      const {\n        scrollTop: newScrollTop,\n        scrollLeft: newScrollLeft\n      } = element;\n      return Math.abs(newScrollTop - scrollTop) >= props.scrollToCloseDistance || Math.abs(newScrollLeft - scrollLeft) >= props.scrollToCloseDistance;\n    };\n    const handleScroll = throttleByRaf(e => {\n      if (computedVisible.value) {\n        if (props.scrollToClose || (configCtx == null ? void 0 : configCtx.scrollToClose)) {\n          const element = e.target;\n          if (!scrollPosition) {\n            scrollPosition = [element.scrollTop, element.scrollLeft];\n          }\n          if (isExceedThreshold(scrollPosition, element)) {\n            changeVisible(false);\n          } else {\n            updatePopupStyle();\n          }\n        } else {\n          updatePopupStyle();\n        }\n      }\n    });\n    const removeWindowScroll = () => {\n      off(window, \"scroll\", onWindowScroll);\n      windowListener = false;\n    };\n    const onWindowScroll = throttleByRaf(e => {\n      const element = e.target.documentElement;\n      if (!windowScrollPosition) {\n        windowScrollPosition = [element.scrollTop, element.scrollLeft];\n      }\n      if (isExceedThreshold(windowScrollPosition, element)) {\n        changeVisible(false);\n        removeWindowScroll();\n      }\n    });\n    const handleResize = () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    };\n    const onTargetResize = () => {\n      handleResize();\n      emit(\"resize\");\n    };\n    const handlePopupMouseDown = e => {\n      if (props.preventFocus) {\n        e.preventDefault();\n      }\n    };\n    triggerCtx == null ? void 0 : triggerCtx.addChildRef(popupRef);\n    const triggerCls = computed(() => {\n      return computedVisible.value ? props.openedClass : void 0;\n    });\n    let scrollElements;\n    watch(computedVisible, value => {\n      if (props.clickOutsideToClose) {\n        if (!value && outsideListener) {\n          removeOutsideListener();\n        } else if (value && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n      }\n      if (props.scrollToClose || (configCtx == null ? void 0 : configCtx.scrollToClose)) {\n        on(window, \"scroll\", onWindowScroll);\n        windowListener = true;\n      }\n      if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n        if (value) {\n          scrollElements = getScrollElements(firstElement.value);\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        } else if (scrollElements) {\n          for (const item of scrollElements) {\n            item.removeEventListener(\"scroll\", handleScroll);\n          }\n          scrollElements = void 0;\n        }\n      }\n      if (value) {\n        mounted.value = true;\n      }\n    });\n    watch(() => [props.autoFitPopupWidth, props.autoFitPopupMinWidth], () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    const {\n      createResizeObserver,\n      destroyResizeObserver\n    } = useResizeObserver({\n      elementRef: containerRef,\n      onResize: handleResize\n    });\n    onMounted(() => {\n      createResizeObserver();\n      if (computedVisible.value) {\n        updatePopupStyle();\n        if (props.clickOutsideToClose && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n        if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n          scrollElements = getScrollElements(firstElement.value);\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        }\n      }\n    });\n    onUpdated(() => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    onDeactivated(() => {\n      changeVisible(false);\n    });\n    onBeforeUnmount(() => {\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(popupRef);\n      destroyResizeObserver();\n      if (outsideListener) {\n        removeOutsideListener();\n      }\n      if (windowListener) {\n        removeWindowScroll();\n      }\n      if (scrollElements) {\n        for (const item of scrollElements) {\n          item.removeEventListener(\"scroll\", handleScroll);\n        }\n        scrollElements = void 0;\n      }\n    });\n    const mounted = ref(computedVisible.value);\n    const isAnimation = ref(false);\n    const onAnimationStart = () => {\n      isAnimation.value = true;\n    };\n    const handleShow = () => {\n      isAnimation.value = false;\n      if (computedVisible.value) {\n        emit(\"show\");\n      }\n    };\n    const handleHide = () => {\n      isAnimation.value = false;\n      if (!computedVisible.value) {\n        mounted.value = false;\n        emit(\"hide\");\n      }\n    };\n    return () => {\n      var _a, _b;\n      children.value = (_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [];\n      mergeFirstChild(children.value, {\n        class: triggerCls.value,\n        onClick: handleClick,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave,\n        onFocusin: handleFocusin,\n        onFocusout: handleFocusout,\n        onContextmenu: handleContextmenu\n      });\n      return createVNode(Fragment, null, [props.autoFixPosition ? createVNode(ResizeObserver, {\n        \"onResize\": onTargetResize\n      }, {\n        default: () => [children.value]\n      }) : children.value, createVNode(ClientOnly, null, {\n        default: () => [createVNode(Teleport, {\n          \"to\": teleportContainer.value,\n          \"disabled\": !props.renderToBody\n        }, {\n          default: () => [(!props.unmountOnClose || computedVisible.value || mounted.value) && !hidePopup.value && createVNode(ResizeObserver, {\n            \"onResize\": handleResize\n          }, {\n            default: () => [createVNode(\"div\", mergeProps({\n              \"ref\": popupRef,\n              \"class\": [`${prefixCls}-popup`, `${prefixCls}-position-${popupPosition.value}`],\n              \"style\": __spreadProps(__spreadValues({}, popupStyle.value), {\n                zIndex: zIndex.value,\n                pointerEvents: isAnimation.value ? \"none\" : \"auto\"\n              }),\n              \"trigger-placement\": popupPosition.value,\n              \"onMouseenter\": handleMouseEnterWithContext,\n              \"onMouseleave\": handleMouseLeaveWithContext,\n              \"onMousedown\": handlePopupMouseDown\n            }, popupAttrs.value), [createVNode(Transition, {\n              \"name\": props.animationName,\n              \"duration\": props.duration,\n              \"appear\": true,\n              \"onBeforeEnter\": onAnimationStart,\n              \"onAfterEnter\": handleShow,\n              \"onBeforeLeave\": onAnimationStart,\n              \"onAfterLeave\": handleHide\n            }, {\n              default: () => {\n                var _a2;\n                return [withDirectives(createVNode(\"div\", {\n                  \"class\": `${prefixCls}-popup-wrapper`,\n                  \"style\": transformStyle.value\n                }, [createVNode(\"div\", {\n                  \"class\": [`${prefixCls}-content`, props.contentClass],\n                  \"style\": props.contentStyle\n                }, [(_a2 = slots.content) == null ? void 0 : _a2.call(slots)]), props.showArrow && createVNode(\"div\", {\n                  \"ref\": arrowRef,\n                  \"class\": [`${prefixCls}-arrow`, props.arrowClass],\n                  \"style\": arrowStyle.value\n                }, null)]), [[vShow, computedVisible.value]])];\n              }\n            })])]\n          })]\n        })]\n      })]);\n    };\n  }\n});\nexport { _Trigger as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","defineComponent","toRefs","computed","inject","ref","provide","reactive","watch","onMounted","onUpdated","onDeactivated","onBeforeUnmount","createVNode","Fragment","Teleport","mergeProps","Transition","withDirectives","vShow","nextTick","getPrefixCls","getScrollElements","getElementScrollRect","getPopupStyle","getTransformOrigin","getArrowStyle","ResizeObserver","on","off","isEmptyChildren","mergeFirstChild","usePickSlots","triggerInjectionKey","throttleByRaf","usePopupManager","useResizeObserver","ClientOnly","useTeleportContainer","configProviderInjectionKey","useFirstElement","omit","TRIGGER_EVENTS","_Trigger","name","inheritAttrs","props","popupVisible","type","Boolean","default","defaultPopupVisible","trigger","String","Array","position","disabled","popupOffset","Number","popupTranslate","showArrow","alignPoint","popupHoverStay","blurToClose","clickToClose","clickOutsideToClose","unmountOnClose","contentClass","contentStyle","arrowClass","arrowStyle","popupStyle","animationName","duration","mouseEnterDelay","mouseLeaveDelay","focusDelay","autoFitPopupWidth","autoFitPopupMinWidth","autoFixPosition","popupContainer","updateAtScroll","autoFitTransformOrigin","hideEmpty","openedClass","autoFitPosition","renderToBody","preventFocus","scrollToClose","scrollToCloseDistance","emits","visible","show","hide","resize","setup","emit","slots","attrs","prefixCls","popupAttrs","configCtx","triggerMethods","concat","childrenRefs","Set","triggerCtx","children","firstElement","popupRef","popupPosition","transformStyle","arrowRef","mousePosition","top","left","scrollPosition","windowScrollPosition","computedVisible","_a","teleportContainer","containerRef","documentContainer","zIndex","delayTimer","outsideListener","windowListener","cleanDelayTimer","window","clearTimeout","updateMousePosition","e","pageX","pageY","updatePopupStyle","containerRect","getBoundingClientRect","triggerRect","bottom","right","scrollTop","scrollBottom","scrollLeft","scrollRight","width","height","getPopupRect","popupRect","style","offset","translate","customStyle","transformOrigin","minWidth","changeVisible","delay","update","setTimeout","handleClick","onClick","includes","handleMouseEnter","onMouseenter","handleMouseEnterWithContext","handleMouseLeave","onMouseleave","handleMouseLeaveWithContext","handleFocusin","onFocusin","handleFocusout","onFocusout","handleContextmenu","onContextmenu","preventDefault","addChildRef","ref2","add","removeChildRef","delete","removeOutsideListener","document","documentElement","handleOutsideClick","contentSlot","hidePopup","_b","_c","contains","target","item","isExceedThreshold","oldPosition","element","newScrollTop","newScrollLeft","Math","abs","handleScroll","removeWindowScroll","onWindowScroll","handleResize","onTargetResize","handlePopupMouseDown","triggerCls","scrollElements","addEventListener","removeEventListener","mounted","createResizeObserver","destroyResizeObserver","elementRef","onResize","isAnimation","onAnimationStart","handleShow","handleHide","class","pointerEvents","_a2","content"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/trigger/trigger.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, toRefs, computed, inject, ref, provide, reactive, watch, onMounted, onUpdated, onDeactivated, onBeforeUnmount, createVNode, Fragment, Teleport, mergeProps, Transition, withDirectives, vShow, nextTick } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { getScrollElements, getElementScrollRect, getPopupStyle, getTransformOrigin, getArrowStyle } from \"./utils.js\";\nimport ResizeObserver from \"../_components/resize-observer-v2.js\";\nimport { on, off } from \"../_utils/dom.js\";\nimport { isEmptyChildren, mergeFirstChild } from \"../_utils/vue-utils.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nimport { triggerInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport usePopupManager from \"../_hooks/use-popup-manager.js\";\nimport { useResizeObserver } from \"../_hooks/use-resize-observer.js\";\nimport ClientOnly from \"../_components/client-only.js\";\nimport { useTeleportContainer } from \"../_hooks/use-teleport-container.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport { useFirstElement } from \"../_hooks/use-first-element.js\";\nimport { omit } from \"../_utils/omit.js\";\nconst TRIGGER_EVENTS = [\"onClick\", \"onMouseenter\", \"onMouseleave\", \"onFocusin\", \"onFocusout\", \"onContextmenu\"];\nvar _Trigger = defineComponent({\n  name: \"Trigger\",\n  inheritAttrs: false,\n  props: {\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {\n      type: [String, Array],\n      default: \"hover\"\n    },\n    position: {\n      type: String,\n      default: \"bottom\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    popupOffset: {\n      type: Number,\n      default: 0\n    },\n    popupTranslate: {\n      type: [Array, Object]\n    },\n    showArrow: {\n      type: Boolean,\n      default: false\n    },\n    alignPoint: {\n      type: Boolean,\n      default: false\n    },\n    popupHoverStay: {\n      type: Boolean,\n      default: true\n    },\n    blurToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickToClose: {\n      type: Boolean,\n      default: true\n    },\n    clickOutsideToClose: {\n      type: Boolean,\n      default: true\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: true\n    },\n    contentClass: {\n      type: [String, Array, Object]\n    },\n    contentStyle: {\n      type: Object\n    },\n    arrowClass: {\n      type: [String, Array, Object]\n    },\n    arrowStyle: {\n      type: Object\n    },\n    popupStyle: {\n      type: Object\n    },\n    animationName: {\n      type: String,\n      default: \"fade-in\"\n    },\n    duration: {\n      type: [Number, Object]\n    },\n    mouseEnterDelay: {\n      type: Number,\n      default: 100\n    },\n    mouseLeaveDelay: {\n      type: Number,\n      default: 100\n    },\n    focusDelay: {\n      type: Number,\n      default: 0\n    },\n    autoFitPopupWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFitPopupMinWidth: {\n      type: Boolean,\n      default: false\n    },\n    autoFixPosition: {\n      type: Boolean,\n      default: true\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    updateAtScroll: {\n      type: Boolean,\n      default: false\n    },\n    autoFitTransformOrigin: {\n      type: Boolean,\n      default: false\n    },\n    hideEmpty: {\n      type: Boolean,\n      default: false\n    },\n    openedClass: {\n      type: [String, Array, Object]\n    },\n    autoFitPosition: {\n      type: Boolean,\n      default: true\n    },\n    renderToBody: {\n      type: Boolean,\n      default: true\n    },\n    preventFocus: {\n      type: Boolean,\n      default: false\n    },\n    scrollToClose: {\n      type: Boolean,\n      default: false\n    },\n    scrollToCloseDistance: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: {\n    \"update:popupVisible\": (visible) => true,\n    \"popupVisibleChange\": (visible) => true,\n    \"show\": () => true,\n    \"hide\": () => true,\n    \"resize\": () => true\n  },\n  setup(props, {\n    emit,\n    slots,\n    attrs\n  }) {\n    const {\n      popupContainer\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"trigger\");\n    const popupAttrs = computed(() => omit(attrs, TRIGGER_EVENTS));\n    const configCtx = inject(configProviderInjectionKey, void 0);\n    const triggerMethods = computed(() => [].concat(props.trigger));\n    const childrenRefs = new Set();\n    const triggerCtx = inject(triggerInjectionKey, void 0);\n    const {\n      children,\n      firstElement\n    } = useFirstElement();\n    const popupRef = ref();\n    const popupVisible = ref(props.defaultPopupVisible);\n    const popupPosition = ref(props.position);\n    const popupStyle = ref({});\n    const transformStyle = ref({});\n    const arrowStyle = ref({});\n    const arrowRef = ref();\n    const mousePosition = ref({\n      top: 0,\n      left: 0\n    });\n    let scrollPosition = null;\n    let windowScrollPosition = null;\n    const computedVisible = computed(() => {\n      var _a;\n      return (_a = props.popupVisible) != null ? _a : popupVisible.value;\n    });\n    const {\n      teleportContainer,\n      containerRef\n    } = useTeleportContainer({\n      popupContainer,\n      visible: computedVisible,\n      documentContainer: true\n    });\n    const {\n      zIndex\n    } = usePopupManager(\"popup\", {\n      visible: computedVisible\n    });\n    let delayTimer = 0;\n    let outsideListener = false;\n    let windowListener = false;\n    const cleanDelayTimer = () => {\n      if (delayTimer) {\n        window.clearTimeout(delayTimer);\n        delayTimer = 0;\n      }\n    };\n    const updateMousePosition = (e) => {\n      if (props.alignPoint) {\n        const {\n          pageX,\n          pageY\n        } = e;\n        mousePosition.value = {\n          top: pageY,\n          left: pageX\n        };\n      }\n    };\n    const updatePopupStyle = () => {\n      if (!firstElement.value || !popupRef.value || !containerRef.value) {\n        return;\n      }\n      const containerRect = containerRef.value.getBoundingClientRect();\n      const triggerRect = props.alignPoint ? {\n        top: mousePosition.value.top,\n        bottom: mousePosition.value.top,\n        left: mousePosition.value.left,\n        right: mousePosition.value.left,\n        scrollTop: mousePosition.value.top,\n        scrollBottom: mousePosition.value.top,\n        scrollLeft: mousePosition.value.left,\n        scrollRight: mousePosition.value.left,\n        width: 0,\n        height: 0\n      } : getElementScrollRect(firstElement.value, containerRect);\n      const getPopupRect = () => getElementScrollRect(popupRef.value, containerRect);\n      const popupRect = getPopupRect();\n      const {\n        style,\n        position\n      } = getPopupStyle(props.position, containerRect, triggerRect, popupRect, {\n        offset: props.popupOffset,\n        translate: props.popupTranslate,\n        customStyle: props.popupStyle,\n        autoFitPosition: props.autoFitPosition\n      });\n      if (props.autoFitTransformOrigin) {\n        transformStyle.value = {\n          transformOrigin: getTransformOrigin(position)\n        };\n      }\n      if (props.autoFitPopupMinWidth) {\n        style.minWidth = `${triggerRect.width}px`;\n      } else if (props.autoFitPopupWidth) {\n        style.width = `${triggerRect.width}px`;\n      }\n      if (popupPosition.value !== position) {\n        popupPosition.value = position;\n      }\n      popupStyle.value = style;\n      if (props.showArrow) {\n        nextTick(() => {\n          arrowStyle.value = getArrowStyle(position, triggerRect, getPopupRect(), {\n            customStyle: props.arrowStyle\n          });\n        });\n      }\n    };\n    const changeVisible = (visible, delay) => {\n      if (visible === computedVisible.value && delayTimer === 0) {\n        return;\n      }\n      const update = () => {\n        popupVisible.value = visible;\n        emit(\"update:popupVisible\", visible);\n        emit(\"popupVisibleChange\", visible);\n        if (visible) {\n          nextTick(() => {\n            updatePopupStyle();\n          });\n        }\n      };\n      if (!visible) {\n        scrollPosition = null;\n        windowScrollPosition = null;\n      }\n      if (delay) {\n        cleanDelayTimer();\n        if (visible !== computedVisible.value) {\n          delayTimer = window.setTimeout(update, delay);\n        }\n      } else {\n        update();\n      }\n    };\n    const handleClick = (e) => {\n      var _a;\n      (_a = attrs.onClick) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n      if (triggerMethods.value.includes(\"click\")) {\n        updateMousePosition(e);\n        changeVisible(!computedVisible.value);\n      } else if (triggerMethods.value.includes(\"contextMenu\") && computedVisible.value) {\n        changeVisible(false);\n      }\n    };\n    const handleMouseEnter = (e) => {\n      var _a;\n      (_a = attrs.onMouseenter) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n      updateMousePosition(e);\n      changeVisible(true, props.mouseEnterDelay);\n    };\n    const handleMouseEnterWithContext = (e) => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseenter(e);\n      handleMouseEnter(e);\n    };\n    const handleMouseLeave = (e) => {\n      var _a;\n      (_a = attrs.onMouseleave) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"hover\")) {\n        return;\n      }\n      changeVisible(false, props.mouseLeaveDelay);\n    };\n    const handleMouseLeaveWithContext = (e) => {\n      triggerCtx == null ? void 0 : triggerCtx.onMouseleave(e);\n      handleMouseLeave(e);\n    };\n    const handleFocusin = (e) => {\n      var _a;\n      (_a = attrs.onFocusin) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n      changeVisible(true, props.focusDelay);\n    };\n    const handleFocusout = (e) => {\n      var _a;\n      (_a = attrs.onFocusout) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"focus\")) {\n        return;\n      }\n      if (!props.blurToClose) {\n        return;\n      }\n      changeVisible(false);\n    };\n    const handleContextmenu = (e) => {\n      var _a;\n      (_a = attrs.onContextmenu) == null ? void 0 : _a.call(attrs, e);\n      if (props.disabled || !triggerMethods.value.includes(\"contextMenu\") || computedVisible.value && !props.clickToClose) {\n        return;\n      }\n      updateMousePosition(e);\n      changeVisible(!computedVisible.value);\n      e.preventDefault();\n    };\n    const addChildRef = (ref2) => {\n      childrenRefs.add(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.addChildRef(ref2);\n    };\n    const removeChildRef = (ref2) => {\n      childrenRefs.delete(ref2);\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(ref2);\n    };\n    provide(triggerInjectionKey, reactive({\n      onMouseenter: handleMouseEnterWithContext,\n      onMouseleave: handleMouseLeaveWithContext,\n      addChildRef,\n      removeChildRef\n    }));\n    const removeOutsideListener = () => {\n      off(document.documentElement, \"mousedown\", handleOutsideClick);\n      outsideListener = false;\n    };\n    const contentSlot = usePickSlots(slots, \"content\");\n    const hidePopup = computed(() => {\n      var _a;\n      return props.hideEmpty && isEmptyChildren((_a = contentSlot.value) == null ? void 0 : _a.call(contentSlot));\n    });\n    const handleOutsideClick = (e) => {\n      var _a, _b, _c;\n      if (((_a = firstElement.value) == null ? void 0 : _a.contains(e.target)) || ((_b = popupRef.value) == null ? void 0 : _b.contains(e.target))) {\n        return;\n      }\n      for (const item of childrenRefs) {\n        if ((_c = item.value) == null ? void 0 : _c.contains(e.target)) {\n          return;\n        }\n      }\n      removeOutsideListener();\n      changeVisible(false);\n    };\n    const isExceedThreshold = (oldPosition, element) => {\n      const [scrollTop, scrollLeft] = oldPosition;\n      const {\n        scrollTop: newScrollTop,\n        scrollLeft: newScrollLeft\n      } = element;\n      return Math.abs(newScrollTop - scrollTop) >= props.scrollToCloseDistance || Math.abs(newScrollLeft - scrollLeft) >= props.scrollToCloseDistance;\n    };\n    const handleScroll = throttleByRaf((e) => {\n      if (computedVisible.value) {\n        if (props.scrollToClose || (configCtx == null ? void 0 : configCtx.scrollToClose)) {\n          const element = e.target;\n          if (!scrollPosition) {\n            scrollPosition = [element.scrollTop, element.scrollLeft];\n          }\n          if (isExceedThreshold(scrollPosition, element)) {\n            changeVisible(false);\n          } else {\n            updatePopupStyle();\n          }\n        } else {\n          updatePopupStyle();\n        }\n      }\n    });\n    const removeWindowScroll = () => {\n      off(window, \"scroll\", onWindowScroll);\n      windowListener = false;\n    };\n    const onWindowScroll = throttleByRaf((e) => {\n      const element = e.target.documentElement;\n      if (!windowScrollPosition) {\n        windowScrollPosition = [element.scrollTop, element.scrollLeft];\n      }\n      if (isExceedThreshold(windowScrollPosition, element)) {\n        changeVisible(false);\n        removeWindowScroll();\n      }\n    });\n    const handleResize = () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    };\n    const onTargetResize = () => {\n      handleResize();\n      emit(\"resize\");\n    };\n    const handlePopupMouseDown = (e) => {\n      if (props.preventFocus) {\n        e.preventDefault();\n      }\n    };\n    triggerCtx == null ? void 0 : triggerCtx.addChildRef(popupRef);\n    const triggerCls = computed(() => {\n      return computedVisible.value ? props.openedClass : void 0;\n    });\n    let scrollElements;\n    watch(computedVisible, (value) => {\n      if (props.clickOutsideToClose) {\n        if (!value && outsideListener) {\n          removeOutsideListener();\n        } else if (value && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n      }\n      if (props.scrollToClose || (configCtx == null ? void 0 : configCtx.scrollToClose)) {\n        on(window, \"scroll\", onWindowScroll);\n        windowListener = true;\n      }\n      if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n        if (value) {\n          scrollElements = getScrollElements(firstElement.value);\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        } else if (scrollElements) {\n          for (const item of scrollElements) {\n            item.removeEventListener(\"scroll\", handleScroll);\n          }\n          scrollElements = void 0;\n        }\n      }\n      if (value) {\n        mounted.value = true;\n      }\n    });\n    watch(() => [props.autoFitPopupWidth, props.autoFitPopupMinWidth], () => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    const {\n      createResizeObserver,\n      destroyResizeObserver\n    } = useResizeObserver({\n      elementRef: containerRef,\n      onResize: handleResize\n    });\n    onMounted(() => {\n      createResizeObserver();\n      if (computedVisible.value) {\n        updatePopupStyle();\n        if (props.clickOutsideToClose && !outsideListener) {\n          on(document.documentElement, \"mousedown\", handleOutsideClick);\n          outsideListener = true;\n        }\n        if (props.updateAtScroll || (configCtx == null ? void 0 : configCtx.updateAtScroll)) {\n          scrollElements = getScrollElements(firstElement.value);\n          for (const item of scrollElements) {\n            item.addEventListener(\"scroll\", handleScroll);\n          }\n        }\n      }\n    });\n    onUpdated(() => {\n      if (computedVisible.value) {\n        updatePopupStyle();\n      }\n    });\n    onDeactivated(() => {\n      changeVisible(false);\n    });\n    onBeforeUnmount(() => {\n      triggerCtx == null ? void 0 : triggerCtx.removeChildRef(popupRef);\n      destroyResizeObserver();\n      if (outsideListener) {\n        removeOutsideListener();\n      }\n      if (windowListener) {\n        removeWindowScroll();\n      }\n      if (scrollElements) {\n        for (const item of scrollElements) {\n          item.removeEventListener(\"scroll\", handleScroll);\n        }\n        scrollElements = void 0;\n      }\n    });\n    const mounted = ref(computedVisible.value);\n    const isAnimation = ref(false);\n    const onAnimationStart = () => {\n      isAnimation.value = true;\n    };\n    const handleShow = () => {\n      isAnimation.value = false;\n      if (computedVisible.value) {\n        emit(\"show\");\n      }\n    };\n    const handleHide = () => {\n      isAnimation.value = false;\n      if (!computedVisible.value) {\n        mounted.value = false;\n        emit(\"hide\");\n      }\n    };\n    return () => {\n      var _a, _b;\n      children.value = (_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [];\n      mergeFirstChild(children.value, {\n        class: triggerCls.value,\n        onClick: handleClick,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave,\n        onFocusin: handleFocusin,\n        onFocusout: handleFocusout,\n        onContextmenu: handleContextmenu\n      });\n      return createVNode(Fragment, null, [props.autoFixPosition ? createVNode(ResizeObserver, {\n        \"onResize\": onTargetResize\n      }, {\n        default: () => [children.value]\n      }) : children.value, createVNode(ClientOnly, null, {\n        default: () => [createVNode(Teleport, {\n          \"to\": teleportContainer.value,\n          \"disabled\": !props.renderToBody\n        }, {\n          default: () => [(!props.unmountOnClose || computedVisible.value || mounted.value) && !hidePopup.value && createVNode(ResizeObserver, {\n            \"onResize\": handleResize\n          }, {\n            default: () => [createVNode(\"div\", mergeProps({\n              \"ref\": popupRef,\n              \"class\": [`${prefixCls}-popup`, `${prefixCls}-position-${popupPosition.value}`],\n              \"style\": __spreadProps(__spreadValues({}, popupStyle.value), {\n                zIndex: zIndex.value,\n                pointerEvents: isAnimation.value ? \"none\" : \"auto\"\n              }),\n              \"trigger-placement\": popupPosition.value,\n              \"onMouseenter\": handleMouseEnterWithContext,\n              \"onMouseleave\": handleMouseLeaveWithContext,\n              \"onMousedown\": handlePopupMouseDown\n            }, popupAttrs.value), [createVNode(Transition, {\n              \"name\": props.animationName,\n              \"duration\": props.duration,\n              \"appear\": true,\n              \"onBeforeEnter\": onAnimationStart,\n              \"onAfterEnter\": handleShow,\n              \"onBeforeLeave\": onAnimationStart,\n              \"onAfterLeave\": handleHide\n            }, {\n              default: () => {\n                var _a2;\n                return [withDirectives(createVNode(\"div\", {\n                  \"class\": `${prefixCls}-popup-wrapper`,\n                  \"style\": transformStyle.value\n                }, [createVNode(\"div\", {\n                  \"class\": [`${prefixCls}-content`, props.contentClass],\n                  \"style\": props.contentStyle\n                }, [(_a2 = slots.content) == null ? void 0 : _a2.call(slots)]), props.showArrow && createVNode(\"div\", {\n                  \"ref\": arrowRef,\n                  \"class\": [`${prefixCls}-arrow`, props.arrowClass],\n                  \"style\": arrowStyle.value\n                }, null)]), [[vShow, computedVisible.value]])];\n              }\n            })])]\n          })]\n        })]\n      })]);\n    };\n  }\n});\nexport { _Trigger as default };\n"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,MAAM,CAACC,cAAc;AACrC,IAAIC,UAAU,GAAGF,MAAM,CAACG,gBAAgB;AACxC,IAAIC,iBAAiB,GAAGJ,MAAM,CAACK,yBAAyB;AACxD,IAAIC,mBAAmB,GAAGN,MAAM,CAACO,qBAAqB;AACtD,IAAIC,YAAY,GAAGR,MAAM,CAACS,SAAS,CAACC,cAAc;AAClD,IAAIC,YAAY,GAAGX,MAAM,CAACS,SAAS,CAACG,oBAAoB;AACxD,IAAIC,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAKD,GAAG,IAAID,GAAG,GAAGf,SAAS,CAACe,GAAG,EAAEC,GAAG,EAAE;EAAEE,UAAU,EAAE,IAAI;EAAEC,YAAY,EAAE,IAAI;EAAEC,QAAQ,EAAE,IAAI;EAAEH;AAAM,CAAC,CAAC,GAAGF,GAAG,CAACC,GAAG,CAAC,GAAGC,KAAK;AAC/J,IAAII,cAAc,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;EAC7B,KAAK,IAAIC,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAC5B,IAAId,YAAY,CAACgB,IAAI,CAACF,CAAC,EAAEC,IAAI,CAAC,EAC5BV,eAAe,CAACQ,CAAC,EAAEE,IAAI,EAAED,CAAC,CAACC,IAAI,CAAC,CAAC;EACrC,IAAIjB,mBAAmB,EACrB,KAAK,IAAIiB,IAAI,IAAIjB,mBAAmB,CAACgB,CAAC,CAAC,EAAE;IACvC,IAAIX,YAAY,CAACa,IAAI,CAACF,CAAC,EAAEC,IAAI,CAAC,EAC5BV,eAAe,CAACQ,CAAC,EAAEE,IAAI,EAAED,CAAC,CAACC,IAAI,CAAC,CAAC;EACrC;EACF,OAAOF,CAAC;AACV,CAAC;AACD,IAAII,aAAa,GAAGA,CAACJ,CAAC,EAAEC,CAAC,KAAKpB,UAAU,CAACmB,CAAC,EAAEjB,iBAAiB,CAACkB,CAAC,CAAC,CAAC;AACjE,SAASI,eAAe,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,GAAG,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAEC,SAAS,EAAEC,aAAa,EAAEC,eAAe,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,cAAc,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,KAAK;AAC9O,SAASC,YAAY,QAAQ,4BAA4B;AACzD,SAASC,iBAAiB,EAAEC,oBAAoB,EAAEC,aAAa,EAAEC,kBAAkB,EAAEC,aAAa,QAAQ,YAAY;AACtH,OAAOC,cAAc,MAAM,sCAAsC;AACjE,SAASC,EAAE,EAAEC,GAAG,QAAQ,kBAAkB;AAC1C,SAASC,eAAe,EAAEC,eAAe,QAAQ,wBAAwB;AACzE,OAAOC,YAAY,MAAM,6BAA6B;AACtD,SAASC,mBAAmB,QAAQ,cAAc;AAClD,SAASC,aAAa,QAAQ,8BAA8B;AAC5D,OAAOC,eAAe,MAAM,gCAAgC;AAC5D,SAASC,iBAAiB,QAAQ,kCAAkC;AACpE,OAAOC,UAAU,MAAM,+BAA+B;AACtD,SAASC,oBAAoB,QAAQ,qCAAqC;AAC1E,SAASC,0BAA0B,QAAQ,+BAA+B;AAC1E,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,IAAI,QAAQ,mBAAmB;AACxC,MAAMC,cAAc,GAAG,CAAC,SAAS,EAAE,cAAc,EAAE,cAAc,EAAE,WAAW,EAAE,YAAY,EAAE,eAAe,CAAC;AAC9G,IAAIC,QAAQ,GAAG1C,eAAe,CAAC;EAC7B2C,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAE;IACLC,YAAY,EAAE;MACZC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE,KAAK;IAChB,CAAC;IACDC,mBAAmB,EAAE;MACnBH,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDE,OAAO,EAAE;MACPJ,IAAI,EAAE,CAACK,MAAM,EAAEC,KAAK,CAAC;MACrBJ,OAAO,EAAE;IACX,CAAC;IACDK,QAAQ,EAAE;MACRP,IAAI,EAAEK,MAAM;MACZH,OAAO,EAAE;IACX,CAAC;IACDM,QAAQ,EAAE;MACRR,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDO,WAAW,EAAE;MACXT,IAAI,EAAEU,MAAM;MACZR,OAAO,EAAE;IACX,CAAC;IACDS,cAAc,EAAE;MACdX,IAAI,EAAE,CAACM,KAAK,EAAE/E,MAAM;IACtB,CAAC;IACDqF,SAAS,EAAE;MACTZ,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDW,UAAU,EAAE;MACVb,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDY,cAAc,EAAE;MACdd,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDa,WAAW,EAAE;MACXf,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDc,YAAY,EAAE;MACZhB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDe,mBAAmB,EAAE;MACnBjB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDgB,cAAc,EAAE;MACdlB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDiB,YAAY,EAAE;MACZnB,IAAI,EAAE,CAACK,MAAM,EAAEC,KAAK,EAAE/E,MAAM;IAC9B,CAAC;IACD6F,YAAY,EAAE;MACZpB,IAAI,EAAEzE;IACR,CAAC;IACD8F,UAAU,EAAE;MACVrB,IAAI,EAAE,CAACK,MAAM,EAAEC,KAAK,EAAE/E,MAAM;IAC9B,CAAC;IACD+F,UAAU,EAAE;MACVtB,IAAI,EAAEzE;IACR,CAAC;IACDgG,UAAU,EAAE;MACVvB,IAAI,EAAEzE;IACR,CAAC;IACDiG,aAAa,EAAE;MACbxB,IAAI,EAAEK,MAAM;MACZH,OAAO,EAAE;IACX,CAAC;IACDuB,QAAQ,EAAE;MACRzB,IAAI,EAAE,CAACU,MAAM,EAAEnF,MAAM;IACvB,CAAC;IACDmG,eAAe,EAAE;MACf1B,IAAI,EAAEU,MAAM;MACZR,OAAO,EAAE;IACX,CAAC;IACDyB,eAAe,EAAE;MACf3B,IAAI,EAAEU,MAAM;MACZR,OAAO,EAAE;IACX,CAAC;IACD0B,UAAU,EAAE;MACV5B,IAAI,EAAEU,MAAM;MACZR,OAAO,EAAE;IACX,CAAC;IACD2B,iBAAiB,EAAE;MACjB7B,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACD4B,oBAAoB,EAAE;MACpB9B,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACD6B,eAAe,EAAE;MACf/B,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACD8B,cAAc,EAAE;MACdhC,IAAI,EAAE,CAACK,MAAM,EAAE9E,MAAM;IACvB,CAAC;IACD0G,cAAc,EAAE;MACdjC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDgC,sBAAsB,EAAE;MACtBlC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDiC,SAAS,EAAE;MACTnC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDkC,WAAW,EAAE;MACXpC,IAAI,EAAE,CAACK,MAAM,EAAEC,KAAK,EAAE/E,MAAM;IAC9B,CAAC;IACD8G,eAAe,EAAE;MACfrC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDoC,YAAY,EAAE;MACZtC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDqC,YAAY,EAAE;MACZvC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDsC,aAAa,EAAE;MACbxC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDuC,qBAAqB,EAAE;MACrBzC,IAAI,EAAEU,MAAM;MACZR,OAAO,EAAE;IACX;EACF,CAAC;EACDwC,KAAK,EAAE;IACL,qBAAqB,EAAGC,OAAO,IAAK,IAAI;IACxC,oBAAoB,EAAGA,OAAO,IAAK,IAAI;IACvC,MAAM,EAAEC,CAAA,KAAM,IAAI;IAClB,MAAM,EAAEC,CAAA,KAAM,IAAI;IAClB,QAAQ,EAAEC,CAAA,KAAM;EAClB,CAAC;EACDC,KAAKA,CAACjD,KAAK,EAAE;IACXkD,IAAI;IACJC,KAAK;IACLC;EACF,CAAC,EAAE;IACD,MAAM;MACJlB;IACF,CAAC,GAAG9E,MAAM,CAAC4C,KAAK,CAAC;IACjB,MAAMqD,SAAS,GAAG9E,YAAY,CAAC,SAAS,CAAC;IACzC,MAAM+E,UAAU,GAAGjG,QAAQ,CAAC,MAAMsC,IAAI,CAACyD,KAAK,EAAExD,cAAc,CAAC,CAAC;IAC9D,MAAM2D,SAAS,GAAGjG,MAAM,CAACmC,0BAA0B,EAAE,KAAK,CAAC,CAAC;IAC5D,MAAM+D,cAAc,GAAGnG,QAAQ,CAAC,MAAM,EAAE,CAACoG,MAAM,CAACzD,KAAK,CAACM,OAAO,CAAC,CAAC;IAC/D,MAAMoD,YAAY,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC9B,MAAMC,UAAU,GAAGtG,MAAM,CAAC6B,mBAAmB,EAAE,KAAK,CAAC,CAAC;IACtD,MAAM;MACJ0E,QAAQ;MACRC;IACF,CAAC,GAAGpE,eAAe,CAAC,CAAC;IACrB,MAAMqE,QAAQ,GAAGxG,GAAG,CAAC,CAAC;IACtB,MAAM0C,YAAY,GAAG1C,GAAG,CAACyC,KAAK,CAACK,mBAAmB,CAAC;IACnD,MAAM2D,aAAa,GAAGzG,GAAG,CAACyC,KAAK,CAACS,QAAQ,CAAC;IACzC,MAAMgB,UAAU,GAAGlE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1B,MAAM0G,cAAc,GAAG1G,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9B,MAAMiE,UAAU,GAAGjE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1B,MAAM2G,QAAQ,GAAG3G,GAAG,CAAC,CAAC;IACtB,MAAM4G,aAAa,GAAG5G,GAAG,CAAC;MACxB6G,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE;IACR,CAAC,CAAC;IACF,IAAIC,cAAc,GAAG,IAAI;IACzB,IAAIC,oBAAoB,GAAG,IAAI;IAC/B,MAAMC,eAAe,GAAGnH,QAAQ,CAAC,MAAM;MACrC,IAAIoH,EAAE;MACN,OAAO,CAACA,EAAE,GAAGzE,KAAK,CAACC,YAAY,KAAK,IAAI,GAAGwE,EAAE,GAAGxE,YAAY,CAACxD,KAAK;IACpE,CAAC,CAAC;IACF,MAAM;MACJiI,iBAAiB;MACjBC;IACF,CAAC,GAAGnF,oBAAoB,CAAC;MACvB0C,cAAc;MACdW,OAAO,EAAE2B,eAAe;MACxBI,iBAAiB,EAAE;IACrB,CAAC,CAAC;IACF,MAAM;MACJC;IACF,CAAC,GAAGxF,eAAe,CAAC,OAAO,EAAE;MAC3BwD,OAAO,EAAE2B;IACX,CAAC,CAAC;IACF,IAAIM,UAAU,GAAG,CAAC;IAClB,IAAIC,eAAe,GAAG,KAAK;IAC3B,IAAIC,cAAc,GAAG,KAAK;IAC1B,MAAMC,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAIH,UAAU,EAAE;QACdI,MAAM,CAACC,YAAY,CAACL,UAAU,CAAC;QAC/BA,UAAU,GAAG,CAAC;MAChB;IACF,CAAC;IACD,MAAMM,mBAAmB,GAAIC,CAAC,IAAK;MACjC,IAAIrF,KAAK,CAACe,UAAU,EAAE;QACpB,MAAM;UACJuE,KAAK;UACLC;QACF,CAAC,GAAGF,CAAC;QACLlB,aAAa,CAAC1H,KAAK,GAAG;UACpB2H,GAAG,EAAEmB,KAAK;UACVlB,IAAI,EAAEiB;QACR,CAAC;MACH;IACF,CAAC;IACD,MAAME,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAI,CAAC1B,YAAY,CAACrH,KAAK,IAAI,CAACsH,QAAQ,CAACtH,KAAK,IAAI,CAACkI,YAAY,CAAClI,KAAK,EAAE;QACjE;MACF;MACA,MAAMgJ,aAAa,GAAGd,YAAY,CAAClI,KAAK,CAACiJ,qBAAqB,CAAC,CAAC;MAChE,MAAMC,WAAW,GAAG3F,KAAK,CAACe,UAAU,GAAG;QACrCqD,GAAG,EAAED,aAAa,CAAC1H,KAAK,CAAC2H,GAAG;QAC5BwB,MAAM,EAAEzB,aAAa,CAAC1H,KAAK,CAAC2H,GAAG;QAC/BC,IAAI,EAAEF,aAAa,CAAC1H,KAAK,CAAC4H,IAAI;QAC9BwB,KAAK,EAAE1B,aAAa,CAAC1H,KAAK,CAAC4H,IAAI;QAC/ByB,SAAS,EAAE3B,aAAa,CAAC1H,KAAK,CAAC2H,GAAG;QAClC2B,YAAY,EAAE5B,aAAa,CAAC1H,KAAK,CAAC2H,GAAG;QACrC4B,UAAU,EAAE7B,aAAa,CAAC1H,KAAK,CAAC4H,IAAI;QACpC4B,WAAW,EAAE9B,aAAa,CAAC1H,KAAK,CAAC4H,IAAI;QACrC6B,KAAK,EAAE,CAAC;QACRC,MAAM,EAAE;MACV,CAAC,GAAG1H,oBAAoB,CAACqF,YAAY,CAACrH,KAAK,EAAEgJ,aAAa,CAAC;MAC3D,MAAMW,YAAY,GAAGA,CAAA,KAAM3H,oBAAoB,CAACsF,QAAQ,CAACtH,KAAK,EAAEgJ,aAAa,CAAC;MAC9E,MAAMY,SAAS,GAAGD,YAAY,CAAC,CAAC;MAChC,MAAM;QACJE,KAAK;QACL7F;MACF,CAAC,GAAG/B,aAAa,CAACsB,KAAK,CAACS,QAAQ,EAAEgF,aAAa,EAAEE,WAAW,EAAEU,SAAS,EAAE;QACvEE,MAAM,EAAEvG,KAAK,CAACW,WAAW;QACzB6F,SAAS,EAAExG,KAAK,CAACa,cAAc;QAC/B4F,WAAW,EAAEzG,KAAK,CAACyB,UAAU;QAC7Bc,eAAe,EAAEvC,KAAK,CAACuC;MACzB,CAAC,CAAC;MACF,IAAIvC,KAAK,CAACoC,sBAAsB,EAAE;QAChC6B,cAAc,CAACxH,KAAK,GAAG;UACrBiK,eAAe,EAAE/H,kBAAkB,CAAC8B,QAAQ;QAC9C,CAAC;MACH;MACA,IAAIT,KAAK,CAACgC,oBAAoB,EAAE;QAC9BsE,KAAK,CAACK,QAAQ,GAAI,GAAEhB,WAAW,CAACO,KAAM,IAAG;MAC3C,CAAC,MAAM,IAAIlG,KAAK,CAAC+B,iBAAiB,EAAE;QAClCuE,KAAK,CAACJ,KAAK,GAAI,GAAEP,WAAW,CAACO,KAAM,IAAG;MACxC;MACA,IAAIlC,aAAa,CAACvH,KAAK,KAAKgE,QAAQ,EAAE;QACpCuD,aAAa,CAACvH,KAAK,GAAGgE,QAAQ;MAChC;MACAgB,UAAU,CAAChF,KAAK,GAAG6J,KAAK;MACxB,IAAItG,KAAK,CAACc,SAAS,EAAE;QACnBxC,QAAQ,CAAC,MAAM;UACbkD,UAAU,CAAC/E,KAAK,GAAGmC,aAAa,CAAC6B,QAAQ,EAAEkF,WAAW,EAAES,YAAY,CAAC,CAAC,EAAE;YACtEK,WAAW,EAAEzG,KAAK,CAACwB;UACrB,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;IACF,CAAC;IACD,MAAMoF,aAAa,GAAGA,CAAC/D,OAAO,EAAEgE,KAAK,KAAK;MACxC,IAAIhE,OAAO,KAAK2B,eAAe,CAAC/H,KAAK,IAAIqI,UAAU,KAAK,CAAC,EAAE;QACzD;MACF;MACA,MAAMgC,MAAM,GAAGA,CAAA,KAAM;QACnB7G,YAAY,CAACxD,KAAK,GAAGoG,OAAO;QAC5BK,IAAI,CAAC,qBAAqB,EAAEL,OAAO,CAAC;QACpCK,IAAI,CAAC,oBAAoB,EAAEL,OAAO,CAAC;QACnC,IAAIA,OAAO,EAAE;UACXvE,QAAQ,CAAC,MAAM;YACbkH,gBAAgB,CAAC,CAAC;UACpB,CAAC,CAAC;QACJ;MACF,CAAC;MACD,IAAI,CAAC3C,OAAO,EAAE;QACZyB,cAAc,GAAG,IAAI;QACrBC,oBAAoB,GAAG,IAAI;MAC7B;MACA,IAAIsC,KAAK,EAAE;QACT5B,eAAe,CAAC,CAAC;QACjB,IAAIpC,OAAO,KAAK2B,eAAe,CAAC/H,KAAK,EAAE;UACrCqI,UAAU,GAAGI,MAAM,CAAC6B,UAAU,CAACD,MAAM,EAAED,KAAK,CAAC;QAC/C;MACF,CAAC,MAAM;QACLC,MAAM,CAAC,CAAC;MACV;IACF,CAAC;IACD,MAAME,WAAW,GAAI3B,CAAC,IAAK;MACzB,IAAIZ,EAAE;MACN,CAACA,EAAE,GAAGrB,KAAK,CAAC6D,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGxC,EAAE,CAACxH,IAAI,CAACmG,KAAK,EAAEiC,CAAC,CAAC;MACzD,IAAIrF,KAAK,CAACU,QAAQ,IAAI8D,eAAe,CAAC/H,KAAK,IAAI,CAACuD,KAAK,CAACkB,YAAY,EAAE;QAClE;MACF;MACA,IAAIsC,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC1C9B,mBAAmB,CAACC,CAAC,CAAC;QACtBuB,aAAa,CAAC,CAACpC,eAAe,CAAC/H,KAAK,CAAC;MACvC,CAAC,MAAM,IAAI+G,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,aAAa,CAAC,IAAI1C,eAAe,CAAC/H,KAAK,EAAE;QAChFmK,aAAa,CAAC,KAAK,CAAC;MACtB;IACF,CAAC;IACD,MAAMO,gBAAgB,GAAI9B,CAAC,IAAK;MAC9B,IAAIZ,EAAE;MACN,CAACA,EAAE,GAAGrB,KAAK,CAACgE,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG3C,EAAE,CAACxH,IAAI,CAACmG,KAAK,EAAEiC,CAAC,CAAC;MAC9D,IAAIrF,KAAK,CAACU,QAAQ,IAAI,CAAC8C,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC7D;MACF;MACA9B,mBAAmB,CAACC,CAAC,CAAC;MACtBuB,aAAa,CAAC,IAAI,EAAE5G,KAAK,CAAC4B,eAAe,CAAC;IAC5C,CAAC;IACD,MAAMyF,2BAA2B,GAAIhC,CAAC,IAAK;MACzCzB,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACwD,YAAY,CAAC/B,CAAC,CAAC;MACxD8B,gBAAgB,CAAC9B,CAAC,CAAC;IACrB,CAAC;IACD,MAAMiC,gBAAgB,GAAIjC,CAAC,IAAK;MAC9B,IAAIZ,EAAE;MACN,CAACA,EAAE,GAAGrB,KAAK,CAACmE,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG9C,EAAE,CAACxH,IAAI,CAACmG,KAAK,EAAEiC,CAAC,CAAC;MAC9D,IAAIrF,KAAK,CAACU,QAAQ,IAAI,CAAC8C,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC7D;MACF;MACAN,aAAa,CAAC,KAAK,EAAE5G,KAAK,CAAC6B,eAAe,CAAC;IAC7C,CAAC;IACD,MAAM2F,2BAA2B,GAAInC,CAAC,IAAK;MACzCzB,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAC2D,YAAY,CAAClC,CAAC,CAAC;MACxDiC,gBAAgB,CAACjC,CAAC,CAAC;IACrB,CAAC;IACD,MAAMoC,aAAa,GAAIpC,CAAC,IAAK;MAC3B,IAAIZ,EAAE;MACN,CAACA,EAAE,GAAGrB,KAAK,CAACsE,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGjD,EAAE,CAACxH,IAAI,CAACmG,KAAK,EAAEiC,CAAC,CAAC;MAC3D,IAAIrF,KAAK,CAACU,QAAQ,IAAI,CAAC8C,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC7D;MACF;MACAN,aAAa,CAAC,IAAI,EAAE5G,KAAK,CAAC8B,UAAU,CAAC;IACvC,CAAC;IACD,MAAM6F,cAAc,GAAItC,CAAC,IAAK;MAC5B,IAAIZ,EAAE;MACN,CAACA,EAAE,GAAGrB,KAAK,CAACwE,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGnD,EAAE,CAACxH,IAAI,CAACmG,KAAK,EAAEiC,CAAC,CAAC;MAC5D,IAAIrF,KAAK,CAACU,QAAQ,IAAI,CAAC8C,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC7D;MACF;MACA,IAAI,CAAClH,KAAK,CAACiB,WAAW,EAAE;QACtB;MACF;MACA2F,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC;IACD,MAAMiB,iBAAiB,GAAIxC,CAAC,IAAK;MAC/B,IAAIZ,EAAE;MACN,CAACA,EAAE,GAAGrB,KAAK,CAAC0E,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGrD,EAAE,CAACxH,IAAI,CAACmG,KAAK,EAAEiC,CAAC,CAAC;MAC/D,IAAIrF,KAAK,CAACU,QAAQ,IAAI,CAAC8C,cAAc,CAAC/G,KAAK,CAACyK,QAAQ,CAAC,aAAa,CAAC,IAAI1C,eAAe,CAAC/H,KAAK,IAAI,CAACuD,KAAK,CAACkB,YAAY,EAAE;QACnH;MACF;MACAkE,mBAAmB,CAACC,CAAC,CAAC;MACtBuB,aAAa,CAAC,CAACpC,eAAe,CAAC/H,KAAK,CAAC;MACrC4I,CAAC,CAAC0C,cAAc,CAAC,CAAC;IACpB,CAAC;IACD,MAAMC,WAAW,GAAIC,IAAI,IAAK;MAC5BvE,YAAY,CAACwE,GAAG,CAACD,IAAI,CAAC;MACtBrE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACoE,WAAW,CAACC,IAAI,CAAC;IAC5D,CAAC;IACD,MAAME,cAAc,GAAIF,IAAI,IAAK;MAC/BvE,YAAY,CAAC0E,MAAM,CAACH,IAAI,CAAC;MACzBrE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACuE,cAAc,CAACF,IAAI,CAAC;IAC/D,CAAC;IACDzK,OAAO,CAAC2B,mBAAmB,EAAE1B,QAAQ,CAAC;MACpC2J,YAAY,EAAEC,2BAA2B;MACzCE,YAAY,EAAEC,2BAA2B;MACzCQ,WAAW;MACXG;IACF,CAAC,CAAC,CAAC;IACH,MAAME,qBAAqB,GAAGA,CAAA,KAAM;MAClCtJ,GAAG,CAACuJ,QAAQ,CAACC,eAAe,EAAE,WAAW,EAAEC,kBAAkB,CAAC;MAC9DzD,eAAe,GAAG,KAAK;IACzB,CAAC;IACD,MAAM0D,WAAW,GAAGvJ,YAAY,CAACiE,KAAK,EAAE,SAAS,CAAC;IAClD,MAAMuF,SAAS,GAAGrL,QAAQ,CAAC,MAAM;MAC/B,IAAIoH,EAAE;MACN,OAAOzE,KAAK,CAACqC,SAAS,IAAIrD,eAAe,CAAC,CAACyF,EAAE,GAAGgE,WAAW,CAAChM,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGgI,EAAE,CAACxH,IAAI,CAACwL,WAAW,CAAC,CAAC;IAC7G,CAAC,CAAC;IACF,MAAMD,kBAAkB,GAAInD,CAAC,IAAK;MAChC,IAAIZ,EAAE,EAAEkE,EAAE,EAAEC,EAAE;MACd,IAAI,CAAC,CAACnE,EAAE,GAAGX,YAAY,CAACrH,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGgI,EAAE,CAACoE,QAAQ,CAACxD,CAAC,CAACyD,MAAM,CAAC,MAAM,CAACH,EAAE,GAAG5E,QAAQ,CAACtH,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGkM,EAAE,CAACE,QAAQ,CAACxD,CAAC,CAACyD,MAAM,CAAC,CAAC,EAAE;QAC5I;MACF;MACA,KAAK,MAAMC,IAAI,IAAIrF,YAAY,EAAE;QAC/B,IAAI,CAACkF,EAAE,GAAGG,IAAI,CAACtM,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGmM,EAAE,CAACC,QAAQ,CAACxD,CAAC,CAACyD,MAAM,CAAC,EAAE;UAC9D;QACF;MACF;MACAT,qBAAqB,CAAC,CAAC;MACvBzB,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC;IACD,MAAMoC,iBAAiB,GAAGA,CAACC,WAAW,EAAEC,OAAO,KAAK;MAClD,MAAM,CAACpD,SAAS,EAAEE,UAAU,CAAC,GAAGiD,WAAW;MAC3C,MAAM;QACJnD,SAAS,EAAEqD,YAAY;QACvBnD,UAAU,EAAEoD;MACd,CAAC,GAAGF,OAAO;MACX,OAAOG,IAAI,CAACC,GAAG,CAACH,YAAY,GAAGrD,SAAS,CAAC,IAAI9F,KAAK,CAAC2C,qBAAqB,IAAI0G,IAAI,CAACC,GAAG,CAACF,aAAa,GAAGpD,UAAU,CAAC,IAAIhG,KAAK,CAAC2C,qBAAqB;IACjJ,CAAC;IACD,MAAM4G,YAAY,GAAGnK,aAAa,CAAEiG,CAAC,IAAK;MACxC,IAAIb,eAAe,CAAC/H,KAAK,EAAE;QACzB,IAAIuD,KAAK,CAAC0C,aAAa,KAAKa,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACb,aAAa,CAAC,EAAE;UACjF,MAAMwG,OAAO,GAAG7D,CAAC,CAACyD,MAAM;UACxB,IAAI,CAACxE,cAAc,EAAE;YACnBA,cAAc,GAAG,CAAC4E,OAAO,CAACpD,SAAS,EAAEoD,OAAO,CAAClD,UAAU,CAAC;UAC1D;UACA,IAAIgD,iBAAiB,CAAC1E,cAAc,EAAE4E,OAAO,CAAC,EAAE;YAC9CtC,aAAa,CAAC,KAAK,CAAC;UACtB,CAAC,MAAM;YACLpB,gBAAgB,CAAC,CAAC;UACpB;QACF,CAAC,MAAM;UACLA,gBAAgB,CAAC,CAAC;QACpB;MACF;IACF,CAAC,CAAC;IACF,MAAMgE,kBAAkB,GAAGA,CAAA,KAAM;MAC/BzK,GAAG,CAACmG,MAAM,EAAE,QAAQ,EAAEuE,cAAc,CAAC;MACrCzE,cAAc,GAAG,KAAK;IACxB,CAAC;IACD,MAAMyE,cAAc,GAAGrK,aAAa,CAAEiG,CAAC,IAAK;MAC1C,MAAM6D,OAAO,GAAG7D,CAAC,CAACyD,MAAM,CAACP,eAAe;MACxC,IAAI,CAAChE,oBAAoB,EAAE;QACzBA,oBAAoB,GAAG,CAAC2E,OAAO,CAACpD,SAAS,EAAEoD,OAAO,CAAClD,UAAU,CAAC;MAChE;MACA,IAAIgD,iBAAiB,CAACzE,oBAAoB,EAAE2E,OAAO,CAAC,EAAE;QACpDtC,aAAa,CAAC,KAAK,CAAC;QACpB4C,kBAAkB,CAAC,CAAC;MACtB;IACF,CAAC,CAAC;IACF,MAAME,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIlF,eAAe,CAAC/H,KAAK,EAAE;QACzB+I,gBAAgB,CAAC,CAAC;MACpB;IACF,CAAC;IACD,MAAMmE,cAAc,GAAGA,CAAA,KAAM;MAC3BD,YAAY,CAAC,CAAC;MACdxG,IAAI,CAAC,QAAQ,CAAC;IAChB,CAAC;IACD,MAAM0G,oBAAoB,GAAIvE,CAAC,IAAK;MAClC,IAAIrF,KAAK,CAACyC,YAAY,EAAE;QACtB4C,CAAC,CAAC0C,cAAc,CAAC,CAAC;MACpB;IACF,CAAC;IACDnE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACoE,WAAW,CAACjE,QAAQ,CAAC;IAC9D,MAAM8F,UAAU,GAAGxM,QAAQ,CAAC,MAAM;MAChC,OAAOmH,eAAe,CAAC/H,KAAK,GAAGuD,KAAK,CAACsC,WAAW,GAAG,KAAK,CAAC;IAC3D,CAAC,CAAC;IACF,IAAIwH,cAAc;IAClBpM,KAAK,CAAC8G,eAAe,EAAG/H,KAAK,IAAK;MAChC,IAAIuD,KAAK,CAACmB,mBAAmB,EAAE;QAC7B,IAAI,CAAC1E,KAAK,IAAIsI,eAAe,EAAE;UAC7BsD,qBAAqB,CAAC,CAAC;QACzB,CAAC,MAAM,IAAI5L,KAAK,IAAI,CAACsI,eAAe,EAAE;UACpCjG,EAAE,CAACwJ,QAAQ,CAACC,eAAe,EAAE,WAAW,EAAEC,kBAAkB,CAAC;UAC7DzD,eAAe,GAAG,IAAI;QACxB;MACF;MACA,IAAI/E,KAAK,CAAC0C,aAAa,KAAKa,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACb,aAAa,CAAC,EAAE;QACjF5D,EAAE,CAACoG,MAAM,EAAE,QAAQ,EAAEuE,cAAc,CAAC;QACpCzE,cAAc,GAAG,IAAI;MACvB;MACA,IAAIhF,KAAK,CAACmC,cAAc,KAAKoB,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACpB,cAAc,CAAC,EAAE;QACnF,IAAI1F,KAAK,EAAE;UACTqN,cAAc,GAAGtL,iBAAiB,CAACsF,YAAY,CAACrH,KAAK,CAAC;UACtD,KAAK,MAAMsM,IAAI,IAAIe,cAAc,EAAE;YACjCf,IAAI,CAACgB,gBAAgB,CAAC,QAAQ,EAAER,YAAY,CAAC;UAC/C;QACF,CAAC,MAAM,IAAIO,cAAc,EAAE;UACzB,KAAK,MAAMf,IAAI,IAAIe,cAAc,EAAE;YACjCf,IAAI,CAACiB,mBAAmB,CAAC,QAAQ,EAAET,YAAY,CAAC;UAClD;UACAO,cAAc,GAAG,KAAK,CAAC;QACzB;MACF;MACA,IAAIrN,KAAK,EAAE;QACTwN,OAAO,CAACxN,KAAK,GAAG,IAAI;MACtB;IACF,CAAC,CAAC;IACFiB,KAAK,CAAC,MAAM,CAACsC,KAAK,CAAC+B,iBAAiB,EAAE/B,KAAK,CAACgC,oBAAoB,CAAC,EAAE,MAAM;MACvE,IAAIwC,eAAe,CAAC/H,KAAK,EAAE;QACzB+I,gBAAgB,CAAC,CAAC;MACpB;IACF,CAAC,CAAC;IACF,MAAM;MACJ0E,oBAAoB;MACpBC;IACF,CAAC,GAAG7K,iBAAiB,CAAC;MACpB8K,UAAU,EAAEzF,YAAY;MACxB0F,QAAQ,EAAEX;IACZ,CAAC,CAAC;IACF/L,SAAS,CAAC,MAAM;MACduM,oBAAoB,CAAC,CAAC;MACtB,IAAI1F,eAAe,CAAC/H,KAAK,EAAE;QACzB+I,gBAAgB,CAAC,CAAC;QAClB,IAAIxF,KAAK,CAACmB,mBAAmB,IAAI,CAAC4D,eAAe,EAAE;UACjDjG,EAAE,CAACwJ,QAAQ,CAACC,eAAe,EAAE,WAAW,EAAEC,kBAAkB,CAAC;UAC7DzD,eAAe,GAAG,IAAI;QACxB;QACA,IAAI/E,KAAK,CAACmC,cAAc,KAAKoB,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACpB,cAAc,CAAC,EAAE;UACnF2H,cAAc,GAAGtL,iBAAiB,CAACsF,YAAY,CAACrH,KAAK,CAAC;UACtD,KAAK,MAAMsM,IAAI,IAAIe,cAAc,EAAE;YACjCf,IAAI,CAACgB,gBAAgB,CAAC,QAAQ,EAAER,YAAY,CAAC;UAC/C;QACF;MACF;IACF,CAAC,CAAC;IACF3L,SAAS,CAAC,MAAM;MACd,IAAI4G,eAAe,CAAC/H,KAAK,EAAE;QACzB+I,gBAAgB,CAAC,CAAC;MACpB;IACF,CAAC,CAAC;IACF3H,aAAa,CAAC,MAAM;MAClB+I,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC;IACF9I,eAAe,CAAC,MAAM;MACpB8F,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACuE,cAAc,CAACpE,QAAQ,CAAC;MACjEoG,qBAAqB,CAAC,CAAC;MACvB,IAAIpF,eAAe,EAAE;QACnBsD,qBAAqB,CAAC,CAAC;MACzB;MACA,IAAIrD,cAAc,EAAE;QAClBwE,kBAAkB,CAAC,CAAC;MACtB;MACA,IAAIM,cAAc,EAAE;QAClB,KAAK,MAAMf,IAAI,IAAIe,cAAc,EAAE;UACjCf,IAAI,CAACiB,mBAAmB,CAAC,QAAQ,EAAET,YAAY,CAAC;QAClD;QACAO,cAAc,GAAG,KAAK,CAAC;MACzB;IACF,CAAC,CAAC;IACF,MAAMG,OAAO,GAAG1M,GAAG,CAACiH,eAAe,CAAC/H,KAAK,CAAC;IAC1C,MAAM6N,WAAW,GAAG/M,GAAG,CAAC,KAAK,CAAC;IAC9B,MAAMgN,gBAAgB,GAAGA,CAAA,KAAM;MAC7BD,WAAW,CAAC7N,KAAK,GAAG,IAAI;IAC1B,CAAC;IACD,MAAM+N,UAAU,GAAGA,CAAA,KAAM;MACvBF,WAAW,CAAC7N,KAAK,GAAG,KAAK;MACzB,IAAI+H,eAAe,CAAC/H,KAAK,EAAE;QACzByG,IAAI,CAAC,MAAM,CAAC;MACd;IACF,CAAC;IACD,MAAMuH,UAAU,GAAGA,CAAA,KAAM;MACvBH,WAAW,CAAC7N,KAAK,GAAG,KAAK;MACzB,IAAI,CAAC+H,eAAe,CAAC/H,KAAK,EAAE;QAC1BwN,OAAO,CAACxN,KAAK,GAAG,KAAK;QACrByG,IAAI,CAAC,MAAM,CAAC;MACd;IACF,CAAC;IACD,OAAO,MAAM;MACX,IAAIuB,EAAE,EAAEkE,EAAE;MACV9E,QAAQ,CAACpH,KAAK,GAAG,CAACkM,EAAE,GAAG,CAAClE,EAAE,GAAGtB,KAAK,CAAC/C,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGqE,EAAE,CAACxH,IAAI,CAACkG,KAAK,CAAC,KAAK,IAAI,GAAGwF,EAAE,GAAG,EAAE;MAChG1J,eAAe,CAAC4E,QAAQ,CAACpH,KAAK,EAAE;QAC9BiO,KAAK,EAAEb,UAAU,CAACpN,KAAK;QACvBwK,OAAO,EAAED,WAAW;QACpBI,YAAY,EAAED,gBAAgB;QAC9BI,YAAY,EAAED,gBAAgB;QAC9BI,SAAS,EAAED,aAAa;QACxBG,UAAU,EAAED,cAAc;QAC1BG,aAAa,EAAED;MACjB,CAAC,CAAC;MACF,OAAO9J,WAAW,CAACC,QAAQ,EAAE,IAAI,EAAE,CAACgC,KAAK,CAACiC,eAAe,GAAGlE,WAAW,CAACc,cAAc,EAAE;QACtF,UAAU,EAAE8K;MACd,CAAC,EAAE;QACDvJ,OAAO,EAAEA,CAAA,KAAM,CAACyD,QAAQ,CAACpH,KAAK;MAChC,CAAC,CAAC,GAAGoH,QAAQ,CAACpH,KAAK,EAAEsB,WAAW,CAACwB,UAAU,EAAE,IAAI,EAAE;QACjDa,OAAO,EAAEA,CAAA,KAAM,CAACrC,WAAW,CAACE,QAAQ,EAAE;UACpC,IAAI,EAAEyG,iBAAiB,CAACjI,KAAK;UAC7B,UAAU,EAAE,CAACuD,KAAK,CAACwC;QACrB,CAAC,EAAE;UACDpC,OAAO,EAAEA,CAAA,KAAM,CAAC,CAAC,CAACJ,KAAK,CAACoB,cAAc,IAAIoD,eAAe,CAAC/H,KAAK,IAAIwN,OAAO,CAACxN,KAAK,KAAK,CAACiM,SAAS,CAACjM,KAAK,IAAIsB,WAAW,CAACc,cAAc,EAAE;YACnI,UAAU,EAAE6K;UACd,CAAC,EAAE;YACDtJ,OAAO,EAAEA,CAAA,KAAM,CAACrC,WAAW,CAAC,KAAK,EAAEG,UAAU,CAAC;cAC5C,KAAK,EAAE6F,QAAQ;cACf,OAAO,EAAE,CAAE,GAAEV,SAAU,QAAO,EAAG,GAAEA,SAAU,aAAYW,aAAa,CAACvH,KAAM,EAAC,CAAC;cAC/E,OAAO,EAAES,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE4E,UAAU,CAAChF,KAAK,CAAC,EAAE;gBAC3DoI,MAAM,EAAEA,MAAM,CAACpI,KAAK;gBACpBkO,aAAa,EAAEL,WAAW,CAAC7N,KAAK,GAAG,MAAM,GAAG;cAC9C,CAAC,CAAC;cACF,mBAAmB,EAAEuH,aAAa,CAACvH,KAAK;cACxC,cAAc,EAAE4K,2BAA2B;cAC3C,cAAc,EAAEG,2BAA2B;cAC3C,aAAa,EAAEoC;YACjB,CAAC,EAAEtG,UAAU,CAAC7G,KAAK,CAAC,EAAE,CAACsB,WAAW,CAACI,UAAU,EAAE;cAC7C,MAAM,EAAE6B,KAAK,CAAC0B,aAAa;cAC3B,UAAU,EAAE1B,KAAK,CAAC2B,QAAQ;cAC1B,QAAQ,EAAE,IAAI;cACd,eAAe,EAAE4I,gBAAgB;cACjC,cAAc,EAAEC,UAAU;cAC1B,eAAe,EAAED,gBAAgB;cACjC,cAAc,EAAEE;YAClB,CAAC,EAAE;cACDrK,OAAO,EAAEA,CAAA,KAAM;gBACb,IAAIwK,GAAG;gBACP,OAAO,CAACxM,cAAc,CAACL,WAAW,CAAC,KAAK,EAAE;kBACxC,OAAO,EAAG,GAAEsF,SAAU,gBAAe;kBACrC,OAAO,EAAEY,cAAc,CAACxH;gBAC1B,CAAC,EAAE,CAACsB,WAAW,CAAC,KAAK,EAAE;kBACrB,OAAO,EAAE,CAAE,GAAEsF,SAAU,UAAS,EAAErD,KAAK,CAACqB,YAAY,CAAC;kBACrD,OAAO,EAAErB,KAAK,CAACsB;gBACjB,CAAC,EAAE,CAAC,CAACsJ,GAAG,GAAGzH,KAAK,CAAC0H,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,GAAG,CAAC3N,IAAI,CAACkG,KAAK,CAAC,CAAC,CAAC,EAAEnD,KAAK,CAACc,SAAS,IAAI/C,WAAW,CAAC,KAAK,EAAE;kBACpG,KAAK,EAAEmG,QAAQ;kBACf,OAAO,EAAE,CAAE,GAAEb,SAAU,QAAO,EAAErD,KAAK,CAACuB,UAAU,CAAC;kBACjD,OAAO,EAAEC,UAAU,CAAC/E;gBACtB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC4B,KAAK,EAAEmG,eAAe,CAAC/H,KAAK,CAAC,CAAC,CAAC,CAAC;cAChD;YACF,CAAC,CAAC,CAAC,CAAC;UACN,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC;IACN,CAAC;EACH;AACF,CAAC,CAAC;AACF,SAASoD,QAAQ,IAAIO,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}