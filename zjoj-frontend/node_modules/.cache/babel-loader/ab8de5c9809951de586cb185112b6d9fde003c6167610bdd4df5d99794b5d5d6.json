{"ast":null,"code":"import { ref, reactive, inject, computed } from \"vue\";\nimport { isString } from \"../_utils/is.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport lang from \"./lang/zh-cn.js\";\nconst LOCALE = ref(\"zh-CN\");\nconst I18N_MESSAGES = reactive({\n  \"zh-CN\": lang\n});\nconst addI18nMessages = (messages, options) => {\n  for (const key of Object.keys(messages)) {\n    if (!I18N_MESSAGES[key] || (options == null ? void 0 : options.overwrite)) {\n      I18N_MESSAGES[key] = messages[key];\n    }\n  }\n};\nconst useLocale = locale => {\n  if (!I18N_MESSAGES[locale]) {\n    console.warn(`use ${locale} failed! Please add ${locale} first`);\n    return;\n  }\n  LOCALE.value = locale;\n};\nconst getLocale = () => {\n  return LOCALE.value;\n};\nconst useI18n = () => {\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const i18nMessage = computed(() => {\n    var _a;\n    return (_a = configProvider == null ? void 0 : configProvider.locale) != null ? _a : I18N_MESSAGES[LOCALE.value];\n  });\n  const locale = computed(() => i18nMessage.value.locale);\n  const transform = (key, ...args) => {\n    const keyArray = key.split(\".\");\n    let temp = i18nMessage.value;\n    for (const keyItem of keyArray) {\n      if (!temp[keyItem]) {\n        return key;\n      }\n      temp = temp[keyItem];\n    }\n    if (isString(temp)) {\n      if (args.length > 0) {\n        return temp.replace(/{(\\d+)}/g, (sub, index) => {\n          var _a;\n          return (_a = args[index]) != null ? _a : sub;\n        });\n      }\n      return temp;\n    }\n    return temp;\n  };\n  return {\n    i18nMessage,\n    locale,\n    t: transform\n  };\n};\nexport { addI18nMessages, getLocale, useI18n, useLocale };","map":{"version":3,"names":["ref","reactive","inject","computed","isString","configProviderInjectionKey","lang","LOCALE","I18N_MESSAGES","addI18nMessages","messages","options","key","Object","keys","overwrite","useLocale","locale","console","warn","value","getLocale","useI18n","configProvider","i18nMessage","_a","transform","args","keyArray","split","temp","keyItem","length","replace","sub","index","t"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/locale/index.js"],"sourcesContent":["import { ref, reactive, inject, computed } from \"vue\";\nimport { isString } from \"../_utils/is.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport lang from \"./lang/zh-cn.js\";\nconst LOCALE = ref(\"zh-CN\");\nconst I18N_MESSAGES = reactive({\n  \"zh-CN\": lang\n});\nconst addI18nMessages = (messages, options) => {\n  for (const key of Object.keys(messages)) {\n    if (!I18N_MESSAGES[key] || (options == null ? void 0 : options.overwrite)) {\n      I18N_MESSAGES[key] = messages[key];\n    }\n  }\n};\nconst useLocale = (locale) => {\n  if (!I18N_MESSAGES[locale]) {\n    console.warn(`use ${locale} failed! Please add ${locale} first`);\n    return;\n  }\n  LOCALE.value = locale;\n};\nconst getLocale = () => {\n  return LOCALE.value;\n};\nconst useI18n = () => {\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const i18nMessage = computed(() => {\n    var _a;\n    return (_a = configProvider == null ? void 0 : configProvider.locale) != null ? _a : I18N_MESSAGES[LOCALE.value];\n  });\n  const locale = computed(() => i18nMessage.value.locale);\n  const transform = (key, ...args) => {\n    const keyArray = key.split(\".\");\n    let temp = i18nMessage.value;\n    for (const keyItem of keyArray) {\n      if (!temp[keyItem]) {\n        return key;\n      }\n      temp = temp[keyItem];\n    }\n    if (isString(temp)) {\n      if (args.length > 0) {\n        return temp.replace(/{(\\d+)}/g, (sub, index) => {\n          var _a;\n          return (_a = args[index]) != null ? _a : sub;\n        });\n      }\n      return temp;\n    }\n    return temp;\n  };\n  return {\n    i18nMessage,\n    locale,\n    t: transform\n  };\n};\nexport { addI18nMessages, getLocale, useI18n, useLocale };\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,KAAK;AACrD,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,0BAA0B,QAAQ,+BAA+B;AAC1E,OAAOC,IAAI,MAAM,iBAAiB;AAClC,MAAMC,MAAM,GAAGP,GAAG,CAAC,OAAO,CAAC;AAC3B,MAAMQ,aAAa,GAAGP,QAAQ,CAAC;EAC7B,OAAO,EAAEK;AACX,CAAC,CAAC;AACF,MAAMG,eAAe,GAAGA,CAACC,QAAQ,EAAEC,OAAO,KAAK;EAC7C,KAAK,MAAMC,GAAG,IAAIC,MAAM,CAACC,IAAI,CAACJ,QAAQ,CAAC,EAAE;IACvC,IAAI,CAACF,aAAa,CAACI,GAAG,CAAC,KAAKD,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACI,SAAS,CAAC,EAAE;MACzEP,aAAa,CAACI,GAAG,CAAC,GAAGF,QAAQ,CAACE,GAAG,CAAC;IACpC;EACF;AACF,CAAC;AACD,MAAMI,SAAS,GAAIC,MAAM,IAAK;EAC5B,IAAI,CAACT,aAAa,CAACS,MAAM,CAAC,EAAE;IAC1BC,OAAO,CAACC,IAAI,CAAE,OAAMF,MAAO,uBAAsBA,MAAO,QAAO,CAAC;IAChE;EACF;EACAV,MAAM,CAACa,KAAK,GAAGH,MAAM;AACvB,CAAC;AACD,MAAMI,SAAS,GAAGA,CAAA,KAAM;EACtB,OAAOd,MAAM,CAACa,KAAK;AACrB,CAAC;AACD,MAAME,OAAO,GAAGA,CAAA,KAAM;EACpB,MAAMC,cAAc,GAAGrB,MAAM,CAACG,0BAA0B,EAAE,KAAK,CAAC,CAAC;EACjE,MAAMmB,WAAW,GAAGrB,QAAQ,CAAC,MAAM;IACjC,IAAIsB,EAAE;IACN,OAAO,CAACA,EAAE,GAAGF,cAAc,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,cAAc,CAACN,MAAM,KAAK,IAAI,GAAGQ,EAAE,GAAGjB,aAAa,CAACD,MAAM,CAACa,KAAK,CAAC;EAClH,CAAC,CAAC;EACF,MAAMH,MAAM,GAAGd,QAAQ,CAAC,MAAMqB,WAAW,CAACJ,KAAK,CAACH,MAAM,CAAC;EACvD,MAAMS,SAAS,GAAGA,CAACd,GAAG,EAAE,GAAGe,IAAI,KAAK;IAClC,MAAMC,QAAQ,GAAGhB,GAAG,CAACiB,KAAK,CAAC,GAAG,CAAC;IAC/B,IAAIC,IAAI,GAAGN,WAAW,CAACJ,KAAK;IAC5B,KAAK,MAAMW,OAAO,IAAIH,QAAQ,EAAE;MAC9B,IAAI,CAACE,IAAI,CAACC,OAAO,CAAC,EAAE;QAClB,OAAOnB,GAAG;MACZ;MACAkB,IAAI,GAAGA,IAAI,CAACC,OAAO,CAAC;IACtB;IACA,IAAI3B,QAAQ,CAAC0B,IAAI,CAAC,EAAE;MAClB,IAAIH,IAAI,CAACK,MAAM,GAAG,CAAC,EAAE;QACnB,OAAOF,IAAI,CAACG,OAAO,CAAC,UAAU,EAAE,CAACC,GAAG,EAAEC,KAAK,KAAK;UAC9C,IAAIV,EAAE;UACN,OAAO,CAACA,EAAE,GAAGE,IAAI,CAACQ,KAAK,CAAC,KAAK,IAAI,GAAGV,EAAE,GAAGS,GAAG;QAC9C,CAAC,CAAC;MACJ;MACA,OAAOJ,IAAI;IACb;IACA,OAAOA,IAAI;EACb,CAAC;EACD,OAAO;IACLN,WAAW;IACXP,MAAM;IACNmB,CAAC,EAAEV;EACL,CAAC;AACH,CAAC;AACD,SAASjB,eAAe,EAAEY,SAAS,EAAEC,OAAO,EAAEN,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}