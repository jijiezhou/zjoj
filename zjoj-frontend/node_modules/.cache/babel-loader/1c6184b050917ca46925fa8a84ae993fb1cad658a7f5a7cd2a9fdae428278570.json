{"ast":null,"code":"import { defineComponent, toRefs, computed, reactive, watchEffect, provide, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { GridContextInjectionKey, GridDataCollectorInjectionKey } from \"./context.js\";\nimport { useResponsiveState } from \"./hook/use-responsive-state.js\";\nimport { setItemVisible } from \"./utils/index.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"Grid\",\n  props: {\n    cols: {\n      type: [Number, Object],\n      default: 24\n    },\n    rowGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    colGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    collapsed: {\n      type: Boolean,\n      default: false\n    },\n    collapsedRows: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup(props) {\n    const {\n      cols: propCols,\n      rowGap: propRowGap,\n      colGap: propColGap,\n      collapsedRows,\n      collapsed\n    } = toRefs(props);\n    const cols = useResponsiveState(propCols, 24);\n    const colGap = useResponsiveState(propColGap, 0);\n    const rowGap = useResponsiveState(propRowGap, 0);\n    const prefixCls = getPrefixCls(\"grid\");\n    const classNames = computed(() => [prefixCls]);\n    const style = computed(() => [{\n      \"gap\": `${rowGap.value}px ${colGap.value}px`,\n      \"grid-template-columns\": `repeat(${cols.value}, minmax(0px, 1fr))`\n    }]);\n    const itemDataMap = reactive(new Map());\n    const itemDataList = computed(() => {\n      const list = [];\n      for (const [index, itemData] of itemDataMap.entries()) {\n        list[index] = itemData;\n      }\n      return list;\n    });\n    const gridContext = reactive({\n      overflow: false,\n      displayIndexList: [],\n      cols: cols.value,\n      colGap: colGap.value\n    });\n    watchEffect(() => {\n      gridContext.cols = cols.value;\n      gridContext.colGap = colGap.value;\n    });\n    watchEffect(() => {\n      const displayInfo = setItemVisible({\n        cols: cols.value,\n        collapsed: collapsed.value,\n        collapsedRows: collapsedRows.value,\n        itemDataList: itemDataList.value\n      });\n      gridContext.overflow = displayInfo.overflow;\n      gridContext.displayIndexList = displayInfo.displayIndexList;\n    });\n    provide(GridContextInjectionKey, gridContext);\n    provide(GridDataCollectorInjectionKey, {\n      collectItemData(index, itemData) {\n        itemDataMap.set(index, itemData);\n      },\n      removeItemData(index) {\n        itemDataMap.delete(index);\n      }\n    });\n    return {\n      classNames,\n      style\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.classNames),\n    style: normalizeStyle(_ctx.style)\n  }, [renderSlot(_ctx.$slots, \"default\")], 6);\n}\nvar _Grid = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Grid as default };","map":{"version":3,"names":["defineComponent","toRefs","computed","reactive","watchEffect","provide","openBlock","createElementBlock","normalizeClass","normalizeStyle","renderSlot","getPrefixCls","GridContextInjectionKey","GridDataCollectorInjectionKey","useResponsiveState","setItemVisible","_export_sfc","_sfc_main","name","props","cols","type","Number","Object","default","rowGap","colGap","collapsed","Boolean","collapsedRows","setup","propCols","propRowGap","propColGap","prefixCls","classNames","style","value","itemDataMap","Map","itemDataList","list","index","itemData","entries","gridContext","overflow","displayIndexList","displayInfo","collectItemData","set","removeItemData","delete","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","class","$slots","_Grid"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/grid/grid.js"],"sourcesContent":["import { defineComponent, toRefs, computed, reactive, watchEffect, provide, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { GridContextInjectionKey, GridDataCollectorInjectionKey } from \"./context.js\";\nimport { useResponsiveState } from \"./hook/use-responsive-state.js\";\nimport { setItemVisible } from \"./utils/index.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"Grid\",\n  props: {\n    cols: {\n      type: [Number, Object],\n      default: 24\n    },\n    rowGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    colGap: {\n      type: [Number, Object],\n      default: 0\n    },\n    collapsed: {\n      type: Boolean,\n      default: false\n    },\n    collapsedRows: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup(props) {\n    const {\n      cols: propCols,\n      rowGap: propRowGap,\n      colGap: propColGap,\n      collapsedRows,\n      collapsed\n    } = toRefs(props);\n    const cols = useResponsiveState(propCols, 24);\n    const colGap = useResponsiveState(propColGap, 0);\n    const rowGap = useResponsiveState(propRowGap, 0);\n    const prefixCls = getPrefixCls(\"grid\");\n    const classNames = computed(() => [prefixCls]);\n    const style = computed(() => [\n      {\n        \"gap\": `${rowGap.value}px ${colGap.value}px`,\n        \"grid-template-columns\": `repeat(${cols.value}, minmax(0px, 1fr))`\n      }\n    ]);\n    const itemDataMap = reactive(new Map());\n    const itemDataList = computed(() => {\n      const list = [];\n      for (const [index, itemData] of itemDataMap.entries()) {\n        list[index] = itemData;\n      }\n      return list;\n    });\n    const gridContext = reactive({\n      overflow: false,\n      displayIndexList: [],\n      cols: cols.value,\n      colGap: colGap.value\n    });\n    watchEffect(() => {\n      gridContext.cols = cols.value;\n      gridContext.colGap = colGap.value;\n    });\n    watchEffect(() => {\n      const displayInfo = setItemVisible({\n        cols: cols.value,\n        collapsed: collapsed.value,\n        collapsedRows: collapsedRows.value,\n        itemDataList: itemDataList.value\n      });\n      gridContext.overflow = displayInfo.overflow;\n      gridContext.displayIndexList = displayInfo.displayIndexList;\n    });\n    provide(GridContextInjectionKey, gridContext);\n    provide(GridDataCollectorInjectionKey, {\n      collectItemData(index, itemData) {\n        itemDataMap.set(index, itemData);\n      },\n      removeItemData(index) {\n        itemDataMap.delete(index);\n      }\n    });\n    return {\n      classNames,\n      style\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.classNames),\n    style: normalizeStyle(_ctx.style)\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6);\n}\nvar _Grid = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Grid as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}