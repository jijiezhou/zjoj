{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { isObject } from '../../../base/common/types.js';\nexport const IBulkEditService = createDecorator('IWorkspaceEditService');\nexport class ResourceEdit {\n  constructor(metadata) {\n    this.metadata = metadata;\n  }\n  static convert(edit) {\n    return edit.edits.map(edit => {\n      if (ResourceTextEdit.is(edit)) {\n        return ResourceTextEdit.lift(edit);\n      }\n      if (ResourceFileEdit.is(edit)) {\n        return ResourceFileEdit.lift(edit);\n      }\n      throw new Error('Unsupported edit');\n    });\n  }\n}\nexport class ResourceTextEdit extends ResourceEdit {\n  static is(candidate) {\n    if (candidate instanceof ResourceTextEdit) {\n      return true;\n    }\n    return isObject(candidate) && URI.isUri(candidate.resource) && isObject(candidate.textEdit);\n  }\n  static lift(edit) {\n    if (edit instanceof ResourceTextEdit) {\n      return edit;\n    } else {\n      return new ResourceTextEdit(edit.resource, edit.textEdit, edit.versionId, edit.metadata);\n    }\n  }\n  constructor(resource, textEdit, versionId = undefined, metadata) {\n    super(metadata);\n    this.resource = resource;\n    this.textEdit = textEdit;\n    this.versionId = versionId;\n  }\n}\nexport class ResourceFileEdit extends ResourceEdit {\n  static is(candidate) {\n    if (candidate instanceof ResourceFileEdit) {\n      return true;\n    } else {\n      return isObject(candidate) && (Boolean(candidate.newResource) || Boolean(candidate.oldResource));\n    }\n  }\n  static lift(edit) {\n    if (edit instanceof ResourceFileEdit) {\n      return edit;\n    } else {\n      return new ResourceFileEdit(edit.oldResource, edit.newResource, edit.options, edit.metadata);\n    }\n  }\n  constructor(oldResource, newResource, options = {}, metadata) {\n    super(metadata);\n    this.oldResource = oldResource;\n    this.newResource = newResource;\n    this.options = options;\n  }\n}","map":{"version":3,"names":["createDecorator","URI","isObject","IBulkEditService","ResourceEdit","constructor","metadata","convert","edit","edits","map","ResourceTextEdit","is","lift","ResourceFileEdit","Error","candidate","isUri","resource","textEdit","versionId","undefined","Boolean","newResource","oldResource","options"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/browser/services/bulkEditService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { isObject } from '../../../base/common/types.js';\nexport const IBulkEditService = createDecorator('IWorkspaceEditService');\nexport class ResourceEdit {\n    constructor(metadata) {\n        this.metadata = metadata;\n    }\n    static convert(edit) {\n        return edit.edits.map(edit => {\n            if (ResourceTextEdit.is(edit)) {\n                return ResourceTextEdit.lift(edit);\n            }\n            if (ResourceFileEdit.is(edit)) {\n                return ResourceFileEdit.lift(edit);\n            }\n            throw new Error('Unsupported edit');\n        });\n    }\n}\nexport class ResourceTextEdit extends ResourceEdit {\n    static is(candidate) {\n        if (candidate instanceof ResourceTextEdit) {\n            return true;\n        }\n        return isObject(candidate)\n            && URI.isUri(candidate.resource)\n            && isObject(candidate.textEdit);\n    }\n    static lift(edit) {\n        if (edit instanceof ResourceTextEdit) {\n            return edit;\n        }\n        else {\n            return new ResourceTextEdit(edit.resource, edit.textEdit, edit.versionId, edit.metadata);\n        }\n    }\n    constructor(resource, textEdit, versionId = undefined, metadata) {\n        super(metadata);\n        this.resource = resource;\n        this.textEdit = textEdit;\n        this.versionId = versionId;\n    }\n}\nexport class ResourceFileEdit extends ResourceEdit {\n    static is(candidate) {\n        if (candidate instanceof ResourceFileEdit) {\n            return true;\n        }\n        else {\n            return isObject(candidate)\n                && (Boolean(candidate.newResource) || Boolean(candidate.oldResource));\n        }\n    }\n    static lift(edit) {\n        if (edit instanceof ResourceFileEdit) {\n            return edit;\n        }\n        else {\n            return new ResourceFileEdit(edit.oldResource, edit.newResource, edit.options, edit.metadata);\n        }\n    }\n    constructor(oldResource, newResource, options = {}, metadata) {\n        super(metadata);\n        this.oldResource = oldResource;\n        this.newResource = newResource;\n        this.options = options;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}