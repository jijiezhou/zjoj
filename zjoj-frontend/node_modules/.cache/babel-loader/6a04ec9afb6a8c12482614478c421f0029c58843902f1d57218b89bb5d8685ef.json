{"ast":null,"code":"import { defineComponent, ref, reactive, watch, onMounted, onBeforeUnmount, provide, computed, nextTick, openBlock, createElementBlock, normalizeClass, createCommentVNode, createElementVNode, renderSlot } from \"vue\";\nimport computeScrollIntoView from \"compute-scroll-into-view\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isNumber, isWindow } from \"../_utils/is.js\";\nimport { getElement, on, off } from \"../_utils/dom.js\";\nimport { slide } from \"./utils.js\";\nimport { anchorInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst BOUNDARY_POSITIONS = [\"start\", \"end\", \"center\", \"nearest\"];\nconst _sfc_main = defineComponent({\n  name: \"Anchor\",\n  props: {\n    boundary: {\n      type: [Number, String],\n      default: \"start\",\n      validator: value => {\n        return isNumber(value) || BOUNDARY_POSITIONS.includes(value);\n      }\n    },\n    lineLess: {\n      type: Boolean,\n      default: false\n    },\n    scrollContainer: {\n      type: [String, Object]\n    },\n    changeHash: {\n      type: Boolean,\n      default: true\n    },\n    smooth: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: {\n    select: (hash, preHash) => true,\n    change: hash => true\n  },\n  setup(props, {\n    emit\n  }) {\n    const prefixCls = getPrefixCls(\"anchor\");\n    const anchorRef = ref();\n    const lineSliderRef = ref();\n    const links = reactive({});\n    const currentLink = ref(\"\");\n    const isScrolling = ref(false);\n    const scrollContainerEle = ref();\n    const containerEle = ref();\n    const addLink = (hash, node) => {\n      if (!hash) return;\n      links[hash] = node;\n    };\n    const removeLink = hash => {\n      delete links[hash];\n    };\n    const handleClick = (e, hash) => {\n      if (!props.changeHash) {\n        e.preventDefault();\n      }\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      }\n      emit(\"select\", hash, currentLink.value);\n    };\n    const scrollIntoView = hash => {\n      try {\n        const element = getElement(hash);\n        if (!element) return;\n        let block;\n        let diff = 0;\n        if (isNumber(props.boundary)) {\n          block = \"start\";\n          diff = props.boundary;\n        } else {\n          block = props.boundary;\n        }\n        const actions = computeScrollIntoView(element, {\n          block\n        });\n        if (!actions.length) return;\n        const {\n          el,\n          top\n        } = actions[0];\n        const targetTop = top - diff;\n        slide(el, targetTop, () => {\n          isScrolling.value = false;\n        });\n        isScrolling.value = true;\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    const handleScroll = throttleByRaf(() => {\n      if (isScrolling.value) return;\n      const element = getFirstInViewportEle();\n      if (element && element.id) {\n        const hash = `#${element.id}`;\n        handleAnchorChange(hash);\n      }\n    });\n    const handleAnchorChange = hash => {\n      if (!links[hash] && anchorRef.value) {\n        const element = getElement(`a[data-href='${hash}']`, anchorRef.value);\n        if (!element) return;\n        links[hash] = element;\n      }\n      if (hash !== currentLink.value) {\n        currentLink.value = hash;\n        nextTick(() => {\n          emit(\"change\", hash);\n        });\n      }\n    };\n    const getFirstInViewportEle = () => {\n      if (!scrollContainerEle.value || !containerEle.value) {\n        return void 0;\n      }\n      const boundary = isNumber(props.boundary) ? props.boundary : 0;\n      const containerRect = containerEle.value.getBoundingClientRect();\n      for (const hash of Object.keys(links)) {\n        const element = getElement(hash);\n        if (element) {\n          const {\n            top\n          } = element.getBoundingClientRect();\n          const offsetTop = isWindow(scrollContainerEle.value) ? top - boundary : top - containerRect.top - boundary;\n          if (offsetTop >= 0 && offsetTop <= containerRect.height / 2) {\n            return element;\n          }\n        }\n      }\n      return void 0;\n    };\n    watch(currentLink, () => {\n      const link = links[currentLink.value];\n      if (!props.lineLess && link && lineSliderRef.value) {\n        lineSliderRef.value.style.top = `${link.offsetTop}px`;\n      }\n    });\n    const bindScrollEvent = () => {\n      if (scrollContainerEle.value) {\n        on(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    const unbindScrollEvent = () => {\n      if (scrollContainerEle.value) {\n        off(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    const getContainer = () => {\n      if (props.scrollContainer) {\n        scrollContainerEle.value = isWindow(props.scrollContainer) ? window : getElement(props.scrollContainer);\n        containerEle.value = isWindow(props.scrollContainer) ? document.documentElement : getElement(props.scrollContainer);\n      } else {\n        scrollContainerEle.value = window;\n        containerEle.value = document.documentElement;\n      }\n    };\n    onMounted(() => {\n      getContainer();\n      const hash = decodeURIComponent(window.location.hash);\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      } else {\n        handleScroll();\n      }\n      bindScrollEvent();\n    });\n    onBeforeUnmount(() => {\n      unbindScrollEvent();\n    });\n    provide(anchorInjectionKey, reactive({\n      currentLink,\n      addLink,\n      removeLink,\n      handleClick\n    }));\n    const cls = computed(() => [prefixCls, {\n      [`${prefixCls}-line-less`]: props.lineLess\n    }]);\n    return {\n      prefixCls,\n      cls,\n      anchorRef,\n      lineSliderRef\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"anchorRef\",\n    class: normalizeClass(_ctx.cls)\n  }, [!_ctx.lineLess ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    ref: \"lineSliderRef\",\n    class: normalizeClass(`${_ctx.prefixCls}-line-slider`)\n  }, null, 2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"ul\", {\n    class: normalizeClass(`${_ctx.prefixCls}-list`)\n  }, [renderSlot(_ctx.$slots, \"default\")], 2)], 2);\n}\nvar _Anchor = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Anchor as default };","map":{"version":3,"names":["defineComponent","ref","reactive","watch","onMounted","onBeforeUnmount","provide","computed","nextTick","openBlock","createElementBlock","normalizeClass","createCommentVNode","createElementVNode","renderSlot","computeScrollIntoView","getPrefixCls","isNumber","isWindow","getElement","on","off","slide","anchorInjectionKey","throttleByRaf","_export_sfc","BOUNDARY_POSITIONS","_sfc_main","name","props","boundary","type","Number","String","default","validator","value","includes","lineLess","Boolean","scrollContainer","Object","changeHash","smooth","emits","select","hash","preHash","change","setup","emit","prefixCls","anchorRef","lineSliderRef","links","currentLink","isScrolling","scrollContainerEle","containerEle","addLink","node","removeLink","handleClick","e","preventDefault","scrollIntoView","handleAnchorChange","element","block","diff","actions","length","el","top","targetTop","console","error","handleScroll","getFirstInViewportEle","id","containerRect","getBoundingClientRect","keys","offsetTop","height","link","style","bindScrollEvent","unbindScrollEvent","getContainer","window","document","documentElement","decodeURIComponent","location","cls","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","class","key","$slots","_Anchor"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/anchor/anchor.js"],"sourcesContent":["import { defineComponent, ref, reactive, watch, onMounted, onBeforeUnmount, provide, computed, nextTick, openBlock, createElementBlock, normalizeClass, createCommentVNode, createElementVNode, renderSlot } from \"vue\";\nimport computeScrollIntoView from \"compute-scroll-into-view\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isNumber, isWindow } from \"../_utils/is.js\";\nimport { getElement, on, off } from \"../_utils/dom.js\";\nimport { slide } from \"./utils.js\";\nimport { anchorInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst BOUNDARY_POSITIONS = [\"start\", \"end\", \"center\", \"nearest\"];\nconst _sfc_main = defineComponent({\n  name: \"Anchor\",\n  props: {\n    boundary: {\n      type: [Number, String],\n      default: \"start\",\n      validator: (value) => {\n        return isNumber(value) || BOUNDARY_POSITIONS.includes(value);\n      }\n    },\n    lineLess: {\n      type: Boolean,\n      default: false\n    },\n    scrollContainer: {\n      type: [String, Object]\n    },\n    changeHash: {\n      type: Boolean,\n      default: true\n    },\n    smooth: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: {\n    select: (hash, preHash) => true,\n    change: (hash) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"anchor\");\n    const anchorRef = ref();\n    const lineSliderRef = ref();\n    const links = reactive({});\n    const currentLink = ref(\"\");\n    const isScrolling = ref(false);\n    const scrollContainerEle = ref();\n    const containerEle = ref();\n    const addLink = (hash, node) => {\n      if (!hash)\n        return;\n      links[hash] = node;\n    };\n    const removeLink = (hash) => {\n      delete links[hash];\n    };\n    const handleClick = (e, hash) => {\n      if (!props.changeHash) {\n        e.preventDefault();\n      }\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      }\n      emit(\"select\", hash, currentLink.value);\n    };\n    const scrollIntoView = (hash) => {\n      try {\n        const element = getElement(hash);\n        if (!element)\n          return;\n        let block;\n        let diff = 0;\n        if (isNumber(props.boundary)) {\n          block = \"start\";\n          diff = props.boundary;\n        } else {\n          block = props.boundary;\n        }\n        const actions = computeScrollIntoView(element, { block });\n        if (!actions.length)\n          return;\n        const { el, top } = actions[0];\n        const targetTop = top - diff;\n        slide(el, targetTop, () => {\n          isScrolling.value = false;\n        });\n        isScrolling.value = true;\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    const handleScroll = throttleByRaf(() => {\n      if (isScrolling.value)\n        return;\n      const element = getFirstInViewportEle();\n      if (element && element.id) {\n        const hash = `#${element.id}`;\n        handleAnchorChange(hash);\n      }\n    });\n    const handleAnchorChange = (hash) => {\n      if (!links[hash] && anchorRef.value) {\n        const element = getElement(`a[data-href='${hash}']`, anchorRef.value);\n        if (!element)\n          return;\n        links[hash] = element;\n      }\n      if (hash !== currentLink.value) {\n        currentLink.value = hash;\n        nextTick(() => {\n          emit(\"change\", hash);\n        });\n      }\n    };\n    const getFirstInViewportEle = () => {\n      if (!scrollContainerEle.value || !containerEle.value) {\n        return void 0;\n      }\n      const boundary = isNumber(props.boundary) ? props.boundary : 0;\n      const containerRect = containerEle.value.getBoundingClientRect();\n      for (const hash of Object.keys(links)) {\n        const element = getElement(hash);\n        if (element) {\n          const { top } = element.getBoundingClientRect();\n          const offsetTop = isWindow(scrollContainerEle.value) ? top - boundary : top - containerRect.top - boundary;\n          if (offsetTop >= 0 && offsetTop <= containerRect.height / 2) {\n            return element;\n          }\n        }\n      }\n      return void 0;\n    };\n    watch(currentLink, () => {\n      const link = links[currentLink.value];\n      if (!props.lineLess && link && lineSliderRef.value) {\n        lineSliderRef.value.style.top = `${link.offsetTop}px`;\n      }\n    });\n    const bindScrollEvent = () => {\n      if (scrollContainerEle.value) {\n        on(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    const unbindScrollEvent = () => {\n      if (scrollContainerEle.value) {\n        off(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    const getContainer = () => {\n      if (props.scrollContainer) {\n        scrollContainerEle.value = isWindow(props.scrollContainer) ? window : getElement(props.scrollContainer);\n        containerEle.value = isWindow(props.scrollContainer) ? document.documentElement : getElement(props.scrollContainer);\n      } else {\n        scrollContainerEle.value = window;\n        containerEle.value = document.documentElement;\n      }\n    };\n    onMounted(() => {\n      getContainer();\n      const hash = decodeURIComponent(window.location.hash);\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      } else {\n        handleScroll();\n      }\n      bindScrollEvent();\n    });\n    onBeforeUnmount(() => {\n      unbindScrollEvent();\n    });\n    provide(anchorInjectionKey, reactive({\n      currentLink,\n      addLink,\n      removeLink,\n      handleClick\n    }));\n    const cls = computed(() => [\n      prefixCls,\n      {\n        [`${prefixCls}-line-less`]: props.lineLess\n      }\n    ]);\n    return {\n      prefixCls,\n      cls,\n      anchorRef,\n      lineSliderRef\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"anchorRef\",\n    class: normalizeClass(_ctx.cls)\n  }, [\n    !_ctx.lineLess ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      ref: \"lineSliderRef\",\n      class: normalizeClass(`${_ctx.prefixCls}-line-slider`)\n    }, null, 2)) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"ul\", {\n      class: normalizeClass(`${_ctx.prefixCls}-list`)\n    }, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 2)\n  ], 2);\n}\nvar _Anchor = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Anchor as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}