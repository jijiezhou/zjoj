{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar LightBulbWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Gesture } from '../../../../base/browser/touch.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport './lightBulbWidget.css';\nimport { ShowAiIconMode } from '../../../common/config/editorOptions.js';\nimport { computeIndentLevel } from '../../../common/model/utils.js';\nimport { autoFixCommandId, quickFixCommandId } from './codeAction.js';\nimport * as nls from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nvar LightBulbState;\n(function (LightBulbState) {\n  LightBulbState.Hidden = {\n    type: 0 /* Type.Hidden */\n  };\n  class Showing {\n    constructor(actions, trigger, editorPosition, widgetPosition) {\n      this.actions = actions;\n      this.trigger = trigger;\n      this.editorPosition = editorPosition;\n      this.widgetPosition = widgetPosition;\n      this.type = 1 /* Type.Showing */;\n    }\n  }\n  LightBulbState.Showing = Showing;\n})(LightBulbState || (LightBulbState = {}));\nlet LightBulbWidget = LightBulbWidget_1 = class LightBulbWidget extends Disposable {\n  constructor(_editor, _keybindingService, commandService) {\n    super();\n    this._editor = _editor;\n    this._keybindingService = _keybindingService;\n    this._onClick = this._register(new Emitter());\n    this.onClick = this._onClick.event;\n    this._state = LightBulbState.Hidden;\n    this._iconClasses = [];\n    this._domNode = dom.$('div.lightBulbWidget');\n    this._register(Gesture.ignoreTarget(this._domNode));\n    this._editor.addContentWidget(this);\n    this._register(this._editor.onDidChangeModelContent(_ => {\n      // cancel when the line in question has been removed\n      const editorModel = this._editor.getModel();\n      if (this.state.type !== 1 /* LightBulbState.Type.Showing */ || !editorModel || this.state.editorPosition.lineNumber >= editorModel.getLineCount()) {\n        this.hide();\n      }\n    }));\n    this._register(dom.addStandardDisposableGenericMouseDownListener(this._domNode, e => {\n      var _a;\n      if (this.state.type !== 1 /* LightBulbState.Type.Showing */) {\n        return;\n      }\n      const option = this._editor.getOption(64 /* EditorOption.lightbulb */).experimental.showAiIcon;\n      if ((option === ShowAiIconMode.On || option === ShowAiIconMode.OnCode) && this.state.actions.allAIFixes && this.state.actions.validActions.length === 1) {\n        const action = this.state.actions.validActions[0].action;\n        if ((_a = action.command) === null || _a === void 0 ? void 0 : _a.id) {\n          commandService.executeCommand(action.command.id, ...(action.command.arguments || []));\n          e.preventDefault();\n          return;\n        }\n      }\n      // Make sure that focus / cursor location is not lost when clicking widget icon\n      this._editor.focus();\n      e.preventDefault();\n      // a bit of extra work to make sure the menu\n      // doesn't cover the line-text\n      const {\n        top,\n        height\n      } = dom.getDomNodePagePosition(this._domNode);\n      const lineHeight = this._editor.getOption(66 /* EditorOption.lineHeight */);\n      let pad = Math.floor(lineHeight / 3);\n      if (this.state.widgetPosition.position !== null && this.state.widgetPosition.position.lineNumber < this.state.editorPosition.lineNumber) {\n        pad += lineHeight;\n      }\n      this._onClick.fire({\n        x: e.posx,\n        y: top + height + pad,\n        actions: this.state.actions,\n        trigger: this.state.trigger\n      });\n    }));\n    this._register(dom.addDisposableListener(this._domNode, 'mouseenter', e => {\n      if ((e.buttons & 1) !== 1) {\n        return;\n      }\n      // mouse enters lightbulb while the primary/left button\n      // is being pressed -> hide the lightbulb\n      this.hide();\n    }));\n    this._register(this._editor.onDidChangeConfiguration(e => {\n      // hide when told to do so\n      if (e.hasChanged(64 /* EditorOption.lightbulb */)) {\n        if (!this._editor.getOption(64 /* EditorOption.lightbulb */).enabled) {\n          this.hide();\n        }\n        this._updateLightBulbTitleAndIcon();\n      }\n    }));\n    this._register(Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings, () => {\n      var _a, _b, _c, _d;\n      this._preferredKbLabel = (_b = (_a = this._keybindingService.lookupKeybinding(autoFixCommandId)) === null || _a === void 0 ? void 0 : _a.getLabel()) !== null && _b !== void 0 ? _b : undefined;\n      this._quickFixKbLabel = (_d = (_c = this._keybindingService.lookupKeybinding(quickFixCommandId)) === null || _c === void 0 ? void 0 : _c.getLabel()) !== null && _d !== void 0 ? _d : undefined;\n      this._updateLightBulbTitleAndIcon();\n    }));\n  }\n  dispose() {\n    super.dispose();\n    this._editor.removeContentWidget(this);\n  }\n  getId() {\n    return 'LightBulbWidget';\n  }\n  getDomNode() {\n    return this._domNode;\n  }\n  getPosition() {\n    return this._state.type === 1 /* LightBulbState.Type.Showing */ ? this._state.widgetPosition : null;\n  }\n  update(actions, trigger, atPosition) {\n    if (actions.validActions.length <= 0) {\n      return this.hide();\n    }\n    const options = this._editor.getOptions();\n    if (!options.get(64 /* EditorOption.lightbulb */).enabled) {\n      return this.hide();\n    }\n    const model = this._editor.getModel();\n    if (!model) {\n      return this.hide();\n    }\n    const {\n      lineNumber,\n      column\n    } = model.validatePosition(atPosition);\n    const tabSize = model.getOptions().tabSize;\n    const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n    const lineContent = model.getLineContent(lineNumber);\n    const indent = computeIndentLevel(lineContent, tabSize);\n    const lineHasSpace = fontInfo.spaceWidth * indent > 22;\n    const isFolded = lineNumber => {\n      return lineNumber > 2 && this._editor.getTopForLineNumber(lineNumber) === this._editor.getTopForLineNumber(lineNumber - 1);\n    };\n    let effectiveLineNumber = lineNumber;\n    if (!lineHasSpace) {\n      if (lineNumber > 1 && !isFolded(lineNumber - 1)) {\n        effectiveLineNumber -= 1;\n      } else if (!isFolded(lineNumber + 1)) {\n        effectiveLineNumber += 1;\n      } else if (column * fontInfo.spaceWidth < 22) {\n        // cannot show lightbulb above/below and showing\n        // it inline would overlay the cursor...\n        return this.hide();\n      }\n    }\n    this.state = new LightBulbState.Showing(actions, trigger, atPosition, {\n      position: {\n        lineNumber: effectiveLineNumber,\n        column: !!model.getLineContent(effectiveLineNumber).match(/^\\S\\s*$/) ? 2 : 1\n      },\n      preference: LightBulbWidget_1._posPref\n    });\n    this._editor.layoutContentWidget(this);\n  }\n  hide() {\n    if (this.state === LightBulbState.Hidden) {\n      return;\n    }\n    this.state = LightBulbState.Hidden;\n    this._editor.layoutContentWidget(this);\n  }\n  get state() {\n    return this._state;\n  }\n  set state(value) {\n    this._state = value;\n    this._updateLightBulbTitleAndIcon();\n  }\n  _updateLightBulbTitleAndIcon() {\n    var _a, _b, _c;\n    this._domNode.classList.remove(...this._iconClasses);\n    this._iconClasses = [];\n    if (this.state.type !== 1 /* LightBulbState.Type.Showing */) {\n      return;\n    }\n    const updateAutoFixLightbulbTitle = () => {\n      if (this._preferredKbLabel) {\n        this.title = nls.localize('preferredcodeActionWithKb', \"Show Code Actions. Preferred Quick Fix Available ({0})\", this._preferredKbLabel);\n      }\n    };\n    const updateLightbulbTitle = () => {\n      if (this._quickFixKbLabel) {\n        this.title = nls.localize('codeActionWithKb', \"Show Code Actions ({0})\", this._quickFixKbLabel);\n      } else {\n        this.title = nls.localize('codeAction', \"Show Code Actions\");\n      }\n    };\n    let icon;\n    const option = this._editor.getOption(64 /* EditorOption.lightbulb */).experimental.showAiIcon;\n    if (option === ShowAiIconMode.On || option === ShowAiIconMode.OnCode) {\n      if (option === ShowAiIconMode.On && this.state.actions.allAIFixes) {\n        icon = Codicon.sparkleFilled;\n        if (this.state.actions.allAIFixes && this.state.actions.validActions.length === 1) {\n          if (((_a = this.state.actions.validActions[0].action.command) === null || _a === void 0 ? void 0 : _a.id) === `inlineChat.start`) {\n            const keybinding = (_c = (_b = this._keybindingService.lookupKeybinding('inlineChat.start')) === null || _b === void 0 ? void 0 : _b.getLabel()) !== null && _c !== void 0 ? _c : undefined;\n            this.title = keybinding ? nls.localize('codeActionStartInlineChatWithKb', 'Start Inline Chat ({0})', keybinding) : nls.localize('codeActionStartInlineChat', 'Start Inline Chat');\n          } else {\n            this.title = nls.localize('codeActionTriggerAiAction', \"Trigger AI Action\");\n          }\n        } else {\n          updateLightbulbTitle();\n        }\n      } else if (this.state.actions.hasAutoFix) {\n        if (this.state.actions.hasAIFix) {\n          icon = Codicon.lightbulbSparkleAutofix;\n        } else {\n          icon = Codicon.lightbulbAutofix;\n        }\n        updateAutoFixLightbulbTitle();\n      } else if (this.state.actions.hasAIFix) {\n        icon = Codicon.lightbulbSparkle;\n        updateLightbulbTitle();\n      } else {\n        icon = Codicon.lightBulb;\n        updateLightbulbTitle();\n      }\n    } else {\n      if (this.state.actions.hasAutoFix) {\n        icon = Codicon.lightbulbAutofix;\n        updateAutoFixLightbulbTitle();\n      } else {\n        icon = Codicon.lightBulb;\n        updateLightbulbTitle();\n      }\n    }\n    this._iconClasses = ThemeIcon.asClassNameArray(icon);\n    this._domNode.classList.add(...this._iconClasses);\n  }\n  set title(value) {\n    this._domNode.title = value;\n  }\n};\nLightBulbWidget.ID = 'editor.contrib.lightbulbWidget';\nLightBulbWidget._posPref = [0 /* ContentWidgetPositionPreference.EXACT */];\nLightBulbWidget = LightBulbWidget_1 = __decorate([__param(1, IKeybindingService), __param(2, ICommandService)], LightBulbWidget);\nexport { LightBulbWidget };","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","LightBulbWidget_1","dom","Gesture","Codicon","Emitter","Event","Disposable","ThemeIcon","ShowAiIconMode","computeIndentLevel","autoFixCommandId","quickFixCommandId","nls","ICommandService","IKeybindingService","LightBulbState","Hidden","type","Showing","constructor","actions","trigger","editorPosition","widgetPosition","LightBulbWidget","_editor","_keybindingService","commandService","_onClick","_register","onClick","event","_state","_iconClasses","_domNode","$","ignoreTarget","addContentWidget","onDidChangeModelContent","_","editorModel","getModel","state","lineNumber","getLineCount","hide","addStandardDisposableGenericMouseDownListener","e","_a","option","getOption","experimental","showAiIcon","On","OnCode","allAIFixes","validActions","action","command","id","executeCommand","preventDefault","focus","top","height","getDomNodePagePosition","lineHeight","pad","Math","floor","position","fire","x","posx","y","addDisposableListener","buttons","onDidChangeConfiguration","hasChanged","enabled","_updateLightBulbTitleAndIcon","runAndSubscribe","onDidUpdateKeybindings","_b","_c","_d","_preferredKbLabel","lookupKeybinding","getLabel","undefined","_quickFixKbLabel","dispose","removeContentWidget","getId","getDomNode","getPosition","update","atPosition","options","getOptions","get","model","column","validatePosition","tabSize","fontInfo","lineContent","getLineContent","indent","lineHasSpace","spaceWidth","isFolded","getTopForLineNumber","effectiveLineNumber","match","preference","_posPref","layoutContentWidget","value","classList","remove","updateAutoFixLightbulbTitle","title","localize","updateLightbulbTitle","icon","sparkleFilled","keybinding","hasAutoFix","hasAIFix","lightbulbSparkleAutofix","lightbulbAutofix","lightbulbSparkle","lightBulb","asClassNameArray","add","ID"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/browser/lightBulbWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar LightBulbWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Gesture } from '../../../../base/browser/touch.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport './lightBulbWidget.css';\nimport { ShowAiIconMode } from '../../../common/config/editorOptions.js';\nimport { computeIndentLevel } from '../../../common/model/utils.js';\nimport { autoFixCommandId, quickFixCommandId } from './codeAction.js';\nimport * as nls from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nvar LightBulbState;\n(function (LightBulbState) {\n    LightBulbState.Hidden = { type: 0 /* Type.Hidden */ };\n    class Showing {\n        constructor(actions, trigger, editorPosition, widgetPosition) {\n            this.actions = actions;\n            this.trigger = trigger;\n            this.editorPosition = editorPosition;\n            this.widgetPosition = widgetPosition;\n            this.type = 1 /* Type.Showing */;\n        }\n    }\n    LightBulbState.Showing = Showing;\n})(LightBulbState || (LightBulbState = {}));\nlet LightBulbWidget = LightBulbWidget_1 = class LightBulbWidget extends Disposable {\n    constructor(_editor, _keybindingService, commandService) {\n        super();\n        this._editor = _editor;\n        this._keybindingService = _keybindingService;\n        this._onClick = this._register(new Emitter());\n        this.onClick = this._onClick.event;\n        this._state = LightBulbState.Hidden;\n        this._iconClasses = [];\n        this._domNode = dom.$('div.lightBulbWidget');\n        this._register(Gesture.ignoreTarget(this._domNode));\n        this._editor.addContentWidget(this);\n        this._register(this._editor.onDidChangeModelContent(_ => {\n            // cancel when the line in question has been removed\n            const editorModel = this._editor.getModel();\n            if (this.state.type !== 1 /* LightBulbState.Type.Showing */ || !editorModel || this.state.editorPosition.lineNumber >= editorModel.getLineCount()) {\n                this.hide();\n            }\n        }));\n        this._register(dom.addStandardDisposableGenericMouseDownListener(this._domNode, e => {\n            var _a;\n            if (this.state.type !== 1 /* LightBulbState.Type.Showing */) {\n                return;\n            }\n            const option = this._editor.getOption(64 /* EditorOption.lightbulb */).experimental.showAiIcon;\n            if ((option === ShowAiIconMode.On || option === ShowAiIconMode.OnCode)\n                && this.state.actions.allAIFixes\n                && this.state.actions.validActions.length === 1) {\n                const action = this.state.actions.validActions[0].action;\n                if ((_a = action.command) === null || _a === void 0 ? void 0 : _a.id) {\n                    commandService.executeCommand(action.command.id, ...(action.command.arguments || []));\n                    e.preventDefault();\n                    return;\n                }\n            }\n            // Make sure that focus / cursor location is not lost when clicking widget icon\n            this._editor.focus();\n            e.preventDefault();\n            // a bit of extra work to make sure the menu\n            // doesn't cover the line-text\n            const { top, height } = dom.getDomNodePagePosition(this._domNode);\n            const lineHeight = this._editor.getOption(66 /* EditorOption.lineHeight */);\n            let pad = Math.floor(lineHeight / 3);\n            if (this.state.widgetPosition.position !== null && this.state.widgetPosition.position.lineNumber < this.state.editorPosition.lineNumber) {\n                pad += lineHeight;\n            }\n            this._onClick.fire({\n                x: e.posx,\n                y: top + height + pad,\n                actions: this.state.actions,\n                trigger: this.state.trigger,\n            });\n        }));\n        this._register(dom.addDisposableListener(this._domNode, 'mouseenter', (e) => {\n            if ((e.buttons & 1) !== 1) {\n                return;\n            }\n            // mouse enters lightbulb while the primary/left button\n            // is being pressed -> hide the lightbulb\n            this.hide();\n        }));\n        this._register(this._editor.onDidChangeConfiguration(e => {\n            // hide when told to do so\n            if (e.hasChanged(64 /* EditorOption.lightbulb */)) {\n                if (!this._editor.getOption(64 /* EditorOption.lightbulb */).enabled) {\n                    this.hide();\n                }\n                this._updateLightBulbTitleAndIcon();\n            }\n        }));\n        this._register(Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings, () => {\n            var _a, _b, _c, _d;\n            this._preferredKbLabel = (_b = (_a = this._keybindingService.lookupKeybinding(autoFixCommandId)) === null || _a === void 0 ? void 0 : _a.getLabel()) !== null && _b !== void 0 ? _b : undefined;\n            this._quickFixKbLabel = (_d = (_c = this._keybindingService.lookupKeybinding(quickFixCommandId)) === null || _c === void 0 ? void 0 : _c.getLabel()) !== null && _d !== void 0 ? _d : undefined;\n            this._updateLightBulbTitleAndIcon();\n        }));\n    }\n    dispose() {\n        super.dispose();\n        this._editor.removeContentWidget(this);\n    }\n    getId() {\n        return 'LightBulbWidget';\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return this._state.type === 1 /* LightBulbState.Type.Showing */ ? this._state.widgetPosition : null;\n    }\n    update(actions, trigger, atPosition) {\n        if (actions.validActions.length <= 0) {\n            return this.hide();\n        }\n        const options = this._editor.getOptions();\n        if (!options.get(64 /* EditorOption.lightbulb */).enabled) {\n            return this.hide();\n        }\n        const model = this._editor.getModel();\n        if (!model) {\n            return this.hide();\n        }\n        const { lineNumber, column } = model.validatePosition(atPosition);\n        const tabSize = model.getOptions().tabSize;\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        const lineContent = model.getLineContent(lineNumber);\n        const indent = computeIndentLevel(lineContent, tabSize);\n        const lineHasSpace = fontInfo.spaceWidth * indent > 22;\n        const isFolded = (lineNumber) => {\n            return lineNumber > 2 && this._editor.getTopForLineNumber(lineNumber) === this._editor.getTopForLineNumber(lineNumber - 1);\n        };\n        let effectiveLineNumber = lineNumber;\n        if (!lineHasSpace) {\n            if (lineNumber > 1 && !isFolded(lineNumber - 1)) {\n                effectiveLineNumber -= 1;\n            }\n            else if (!isFolded(lineNumber + 1)) {\n                effectiveLineNumber += 1;\n            }\n            else if (column * fontInfo.spaceWidth < 22) {\n                // cannot show lightbulb above/below and showing\n                // it inline would overlay the cursor...\n                return this.hide();\n            }\n        }\n        this.state = new LightBulbState.Showing(actions, trigger, atPosition, {\n            position: { lineNumber: effectiveLineNumber, column: !!model.getLineContent(effectiveLineNumber).match(/^\\S\\s*$/) ? 2 : 1 },\n            preference: LightBulbWidget_1._posPref\n        });\n        this._editor.layoutContentWidget(this);\n    }\n    hide() {\n        if (this.state === LightBulbState.Hidden) {\n            return;\n        }\n        this.state = LightBulbState.Hidden;\n        this._editor.layoutContentWidget(this);\n    }\n    get state() { return this._state; }\n    set state(value) {\n        this._state = value;\n        this._updateLightBulbTitleAndIcon();\n    }\n    _updateLightBulbTitleAndIcon() {\n        var _a, _b, _c;\n        this._domNode.classList.remove(...this._iconClasses);\n        this._iconClasses = [];\n        if (this.state.type !== 1 /* LightBulbState.Type.Showing */) {\n            return;\n        }\n        const updateAutoFixLightbulbTitle = () => {\n            if (this._preferredKbLabel) {\n                this.title = nls.localize('preferredcodeActionWithKb', \"Show Code Actions. Preferred Quick Fix Available ({0})\", this._preferredKbLabel);\n            }\n        };\n        const updateLightbulbTitle = () => {\n            if (this._quickFixKbLabel) {\n                this.title = nls.localize('codeActionWithKb', \"Show Code Actions ({0})\", this._quickFixKbLabel);\n            }\n            else {\n                this.title = nls.localize('codeAction', \"Show Code Actions\");\n            }\n        };\n        let icon;\n        const option = this._editor.getOption(64 /* EditorOption.lightbulb */).experimental.showAiIcon;\n        if (option === ShowAiIconMode.On || option === ShowAiIconMode.OnCode) {\n            if (option === ShowAiIconMode.On && this.state.actions.allAIFixes) {\n                icon = Codicon.sparkleFilled;\n                if (this.state.actions.allAIFixes && this.state.actions.validActions.length === 1) {\n                    if (((_a = this.state.actions.validActions[0].action.command) === null || _a === void 0 ? void 0 : _a.id) === `inlineChat.start`) {\n                        const keybinding = (_c = (_b = this._keybindingService.lookupKeybinding('inlineChat.start')) === null || _b === void 0 ? void 0 : _b.getLabel()) !== null && _c !== void 0 ? _c : undefined;\n                        this.title = keybinding ? nls.localize('codeActionStartInlineChatWithKb', 'Start Inline Chat ({0})', keybinding) : nls.localize('codeActionStartInlineChat', 'Start Inline Chat');\n                    }\n                    else {\n                        this.title = nls.localize('codeActionTriggerAiAction', \"Trigger AI Action\");\n                    }\n                }\n                else {\n                    updateLightbulbTitle();\n                }\n            }\n            else if (this.state.actions.hasAutoFix) {\n                if (this.state.actions.hasAIFix) {\n                    icon = Codicon.lightbulbSparkleAutofix;\n                }\n                else {\n                    icon = Codicon.lightbulbAutofix;\n                }\n                updateAutoFixLightbulbTitle();\n            }\n            else if (this.state.actions.hasAIFix) {\n                icon = Codicon.lightbulbSparkle;\n                updateLightbulbTitle();\n            }\n            else {\n                icon = Codicon.lightBulb;\n                updateLightbulbTitle();\n            }\n        }\n        else {\n            if (this.state.actions.hasAutoFix) {\n                icon = Codicon.lightbulbAutofix;\n                updateAutoFixLightbulbTitle();\n            }\n            else {\n                icon = Codicon.lightBulb;\n                updateLightbulbTitle();\n            }\n        }\n        this._iconClasses = ThemeIcon.asClassNameArray(icon);\n        this._domNode.classList.add(...this._iconClasses);\n    }\n    set title(value) {\n        this._domNode.title = value;\n    }\n};\nLightBulbWidget.ID = 'editor.contrib.lightbulbWidget';\nLightBulbWidget._posPref = [0 /* ContentWidgetPositionPreference.EXACT */];\nLightBulbWidget = LightBulbWidget_1 = __decorate([\n    __param(1, IKeybindingService),\n    __param(2, ICommandService)\n], LightBulbWidget);\nexport { LightBulbWidget };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}