{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport './dnd.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\nfunction hasTriggerModifier(e) {\n  if (isMacintosh) {\n    return e.altKey;\n  } else {\n    return e.ctrlKey;\n  }\n}\nexport class DragAndDropController extends Disposable {\n  constructor(editor) {\n    super();\n    this._editor = editor;\n    this._dndDecorationIds = this._editor.createDecorationsCollection();\n    this._register(this._editor.onMouseDown(e => this._onEditorMouseDown(e)));\n    this._register(this._editor.onMouseUp(e => this._onEditorMouseUp(e)));\n    this._register(this._editor.onMouseDrag(e => this._onEditorMouseDrag(e)));\n    this._register(this._editor.onMouseDrop(e => this._onEditorMouseDrop(e)));\n    this._register(this._editor.onMouseDropCanceled(() => this._onEditorMouseDropCanceled()));\n    this._register(this._editor.onKeyDown(e => this.onEditorKeyDown(e)));\n    this._register(this._editor.onKeyUp(e => this.onEditorKeyUp(e)));\n    this._register(this._editor.onDidBlurEditorWidget(() => this.onEditorBlur()));\n    this._register(this._editor.onDidBlurEditorText(() => this.onEditorBlur()));\n    this._mouseDown = false;\n    this._modifierPressed = false;\n    this._dragSelection = null;\n  }\n  onEditorBlur() {\n    this._removeDecoration();\n    this._dragSelection = null;\n    this._mouseDown = false;\n    this._modifierPressed = false;\n  }\n  onEditorKeyDown(e) {\n    if (!this._editor.getOption(35 /* EditorOption.dragAndDrop */) || this._editor.getOption(22 /* EditorOption.columnSelection */)) {\n      return;\n    }\n    if (hasTriggerModifier(e)) {\n      this._modifierPressed = true;\n    }\n    if (this._mouseDown && hasTriggerModifier(e)) {\n      this._editor.updateOptions({\n        mouseStyle: 'copy'\n      });\n    }\n  }\n  onEditorKeyUp(e) {\n    if (!this._editor.getOption(35 /* EditorOption.dragAndDrop */) || this._editor.getOption(22 /* EditorOption.columnSelection */)) {\n      return;\n    }\n    if (hasTriggerModifier(e)) {\n      this._modifierPressed = false;\n    }\n    if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\n      this._editor.updateOptions({\n        mouseStyle: 'default'\n      });\n    }\n  }\n  _onEditorMouseDown(mouseEvent) {\n    this._mouseDown = true;\n  }\n  _onEditorMouseUp(mouseEvent) {\n    this._mouseDown = false;\n    // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\n    this._editor.updateOptions({\n      mouseStyle: 'text'\n    });\n  }\n  _onEditorMouseDrag(mouseEvent) {\n    const target = mouseEvent.target;\n    if (this._dragSelection === null) {\n      const selections = this._editor.getSelections() || [];\n      const possibleSelections = selections.filter(selection => target.position && selection.containsPosition(target.position));\n      if (possibleSelections.length === 1) {\n        this._dragSelection = possibleSelections[0];\n      } else {\n        return;\n      }\n    }\n    if (hasTriggerModifier(mouseEvent.event)) {\n      this._editor.updateOptions({\n        mouseStyle: 'copy'\n      });\n    } else {\n      this._editor.updateOptions({\n        mouseStyle: 'default'\n      });\n    }\n    if (target.position) {\n      if (this._dragSelection.containsPosition(target.position)) {\n        this._removeDecoration();\n      } else {\n        this.showAt(target.position);\n      }\n    }\n  }\n  _onEditorMouseDropCanceled() {\n    this._editor.updateOptions({\n      mouseStyle: 'text'\n    });\n    this._removeDecoration();\n    this._dragSelection = null;\n    this._mouseDown = false;\n  }\n  _onEditorMouseDrop(mouseEvent) {\n    if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\n      const newCursorPosition = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\n      if (this._dragSelection === null) {\n        let newSelections = null;\n        if (mouseEvent.event.shiftKey) {\n          const primarySelection = this._editor.getSelection();\n          if (primarySelection) {\n            const {\n              selectionStartLineNumber,\n              selectionStartColumn\n            } = primarySelection;\n            newSelections = [new Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition.lineNumber, newCursorPosition.column)];\n          }\n        } else {\n          newSelections = (this._editor.getSelections() || []).map(selection => {\n            if (selection.containsPosition(newCursorPosition)) {\n              return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n            } else {\n              return selection;\n            }\n          });\n        }\n        // Use `mouse` as the source instead of `api` and setting the reason to explicit (to behave like any other mouse operation).\n        this._editor.setSelections(newSelections || [], 'mouse', 3 /* CursorChangeReason.Explicit */);\n      } else if (!this._dragSelection.containsPosition(newCursorPosition) || (hasTriggerModifier(mouseEvent.event) || this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition) || this._dragSelection.getStartPosition().equals(newCursorPosition)) // we allow users to paste content beside the selection\n      ) {\n        this._editor.pushUndoStop();\n        this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition, hasTriggerModifier(mouseEvent.event) || this._modifierPressed));\n        this._editor.pushUndoStop();\n      }\n    }\n    this._editor.updateOptions({\n      mouseStyle: 'text'\n    });\n    this._removeDecoration();\n    this._dragSelection = null;\n    this._mouseDown = false;\n  }\n  showAt(position) {\n    this._dndDecorationIds.set([{\n      range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n      options: DragAndDropController._DECORATION_OPTIONS\n    }]);\n    this._editor.revealPosition(position, 1 /* ScrollType.Immediate */);\n  }\n  _removeDecoration() {\n    this._dndDecorationIds.clear();\n  }\n  _hitContent(target) {\n    return target.type === 6 /* MouseTargetType.CONTENT_TEXT */ || target.type === 7 /* MouseTargetType.CONTENT_EMPTY */;\n  }\n  _hitMargin(target) {\n    return target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ || target.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ || target.type === 4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */;\n  }\n  dispose() {\n    this._removeDecoration();\n    this._dragSelection = null;\n    this._mouseDown = false;\n    this._modifierPressed = false;\n    super.dispose();\n  }\n}\nDragAndDropController.ID = 'editor.contrib.dragAndDrop';\nDragAndDropController.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* KeyCode.Alt */ : 5 /* KeyCode.Ctrl */;\nDragAndDropController._DECORATION_OPTIONS = ModelDecorationOptions.register({\n  description: 'dnd-target',\n  className: 'dnd-target'\n});\nregisterEditorContribution(DragAndDropController.ID, DragAndDropController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);","map":{"version":3,"names":["Disposable","isMacintosh","registerEditorContribution","Position","Range","Selection","ModelDecorationOptions","DragAndDropCommand","hasTriggerModifier","e","altKey","ctrlKey","DragAndDropController","constructor","editor","_editor","_dndDecorationIds","createDecorationsCollection","_register","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onMouseDrag","_onEditorMouseDrag","onMouseDrop","_onEditorMouseDrop","onMouseDropCanceled","_onEditorMouseDropCanceled","onKeyDown","onEditorKeyDown","onKeyUp","onEditorKeyUp","onDidBlurEditorWidget","onEditorBlur","onDidBlurEditorText","_mouseDown","_modifierPressed","_dragSelection","_removeDecoration","getOption","updateOptions","mouseStyle","keyCode","TRIGGER_KEY_VALUE","mouseEvent","target","selections","getSelections","possibleSelections","filter","selection","position","containsPosition","length","event","showAt","_hitContent","_hitMargin","newCursorPosition","lineNumber","column","newSelections","shiftKey","primarySelection","getSelection","selectionStartLineNumber","selectionStartColumn","map","setSelections","getEndPosition","equals","getStartPosition","pushUndoStop","executeCommand","ID","set","range","options","_DECORATION_OPTIONS","revealPosition","clear","type","dispose","register","description","className"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dnd.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport './dnd.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\nfunction hasTriggerModifier(e) {\n    if (isMacintosh) {\n        return e.altKey;\n    }\n    else {\n        return e.ctrlKey;\n    }\n}\nexport class DragAndDropController extends Disposable {\n    constructor(editor) {\n        super();\n        this._editor = editor;\n        this._dndDecorationIds = this._editor.createDecorationsCollection();\n        this._register(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n        this._register(this._editor.onMouseUp((e) => this._onEditorMouseUp(e)));\n        this._register(this._editor.onMouseDrag((e) => this._onEditorMouseDrag(e)));\n        this._register(this._editor.onMouseDrop((e) => this._onEditorMouseDrop(e)));\n        this._register(this._editor.onMouseDropCanceled(() => this._onEditorMouseDropCanceled()));\n        this._register(this._editor.onKeyDown((e) => this.onEditorKeyDown(e)));\n        this._register(this._editor.onKeyUp((e) => this.onEditorKeyUp(e)));\n        this._register(this._editor.onDidBlurEditorWidget(() => this.onEditorBlur()));\n        this._register(this._editor.onDidBlurEditorText(() => this.onEditorBlur()));\n        this._mouseDown = false;\n        this._modifierPressed = false;\n        this._dragSelection = null;\n    }\n    onEditorBlur() {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modifierPressed = false;\n    }\n    onEditorKeyDown(e) {\n        if (!this._editor.getOption(35 /* EditorOption.dragAndDrop */) || this._editor.getOption(22 /* EditorOption.columnSelection */)) {\n            return;\n        }\n        if (hasTriggerModifier(e)) {\n            this._modifierPressed = true;\n        }\n        if (this._mouseDown && hasTriggerModifier(e)) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n    }\n    onEditorKeyUp(e) {\n        if (!this._editor.getOption(35 /* EditorOption.dragAndDrop */) || this._editor.getOption(22 /* EditorOption.columnSelection */)) {\n            return;\n        }\n        if (hasTriggerModifier(e)) {\n            this._modifierPressed = false;\n        }\n        if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        this._mouseDown = true;\n    }\n    _onEditorMouseUp(mouseEvent) {\n        this._mouseDown = false;\n        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n    }\n    _onEditorMouseDrag(mouseEvent) {\n        const target = mouseEvent.target;\n        if (this._dragSelection === null) {\n            const selections = this._editor.getSelections() || [];\n            const possibleSelections = selections.filter(selection => target.position && selection.containsPosition(target.position));\n            if (possibleSelections.length === 1) {\n                this._dragSelection = possibleSelections[0];\n            }\n            else {\n                return;\n            }\n        }\n        if (hasTriggerModifier(mouseEvent.event)) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n        else {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n        if (target.position) {\n            if (this._dragSelection.containsPosition(target.position)) {\n                this._removeDecoration();\n            }\n            else {\n                this.showAt(target.position);\n            }\n        }\n    }\n    _onEditorMouseDropCanceled() {\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    }\n    _onEditorMouseDrop(mouseEvent) {\n        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\n            const newCursorPosition = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\n            if (this._dragSelection === null) {\n                let newSelections = null;\n                if (mouseEvent.event.shiftKey) {\n                    const primarySelection = this._editor.getSelection();\n                    if (primarySelection) {\n                        const { selectionStartLineNumber, selectionStartColumn } = primarySelection;\n                        newSelections = [new Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition.lineNumber, newCursorPosition.column)];\n                    }\n                }\n                else {\n                    newSelections = (this._editor.getSelections() || []).map(selection => {\n                        if (selection.containsPosition(newCursorPosition)) {\n                            return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n                        }\n                        else {\n                            return selection;\n                        }\n                    });\n                }\n                // Use `mouse` as the source instead of `api` and setting the reason to explicit (to behave like any other mouse operation).\n                this._editor.setSelections(newSelections || [], 'mouse', 3 /* CursorChangeReason.Explicit */);\n            }\n            else if (!this._dragSelection.containsPosition(newCursorPosition) ||\n                ((hasTriggerModifier(mouseEvent.event) ||\n                    this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition) || this._dragSelection.getStartPosition().equals(newCursorPosition)) // we allow users to paste content beside the selection\n                )) {\n                this._editor.pushUndoStop();\n                this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition, hasTriggerModifier(mouseEvent.event) || this._modifierPressed));\n                this._editor.pushUndoStop();\n            }\n        }\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    }\n    showAt(position) {\n        this._dndDecorationIds.set([{\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                options: DragAndDropController._DECORATION_OPTIONS\n            }]);\n        this._editor.revealPosition(position, 1 /* ScrollType.Immediate */);\n    }\n    _removeDecoration() {\n        this._dndDecorationIds.clear();\n    }\n    _hitContent(target) {\n        return target.type === 6 /* MouseTargetType.CONTENT_TEXT */ ||\n            target.type === 7 /* MouseTargetType.CONTENT_EMPTY */;\n    }\n    _hitMargin(target) {\n        return target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ ||\n            target.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ ||\n            target.type === 4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */;\n    }\n    dispose() {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modifierPressed = false;\n        super.dispose();\n    }\n}\nDragAndDropController.ID = 'editor.contrib.dragAndDrop';\nDragAndDropController.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* KeyCode.Alt */ : 5 /* KeyCode.Ctrl */;\nDragAndDropController._DECORATION_OPTIONS = ModelDecorationOptions.register({\n    description: 'dnd-target',\n    className: 'dnd-target'\n});\nregisterEditorContribution(DragAndDropController.ID, DragAndDropController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}