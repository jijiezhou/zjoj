{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './margin.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ViewPart } from '../../view/viewPart.js';\nexport class Margin extends ViewPart {\n  constructor(context) {\n    super(context);\n    const options = this._context.configuration.options;\n    const layoutInfo = options.get(143 /* EditorOption.layoutInfo */);\n    this._canUseLayerHinting = !options.get(32 /* EditorOption.disableLayerHinting */);\n    this._contentLeft = layoutInfo.contentLeft;\n    this._glyphMarginLeft = layoutInfo.glyphMarginLeft;\n    this._glyphMarginWidth = layoutInfo.glyphMarginWidth;\n    this._domNode = createFastDomNode(document.createElement('div'));\n    this._domNode.setClassName(Margin.OUTER_CLASS_NAME);\n    this._domNode.setPosition('absolute');\n    this._domNode.setAttribute('role', 'presentation');\n    this._domNode.setAttribute('aria-hidden', 'true');\n    this._glyphMarginBackgroundDomNode = createFastDomNode(document.createElement('div'));\n    this._glyphMarginBackgroundDomNode.setClassName(Margin.CLASS_NAME);\n    this._domNode.appendChild(this._glyphMarginBackgroundDomNode);\n  }\n  dispose() {\n    super.dispose();\n  }\n  getDomNode() {\n    return this._domNode;\n  }\n  // --- begin event handlers\n  onConfigurationChanged(e) {\n    const options = this._context.configuration.options;\n    const layoutInfo = options.get(143 /* EditorOption.layoutInfo */);\n    this._canUseLayerHinting = !options.get(32 /* EditorOption.disableLayerHinting */);\n    this._contentLeft = layoutInfo.contentLeft;\n    this._glyphMarginLeft = layoutInfo.glyphMarginLeft;\n    this._glyphMarginWidth = layoutInfo.glyphMarginWidth;\n    return true;\n  }\n  onScrollChanged(e) {\n    return super.onScrollChanged(e) || e.scrollTopChanged;\n  }\n  // --- end event handlers\n  prepareRender(ctx) {\n    // Nothing to read\n  }\n  render(ctx) {\n    this._domNode.setLayerHinting(this._canUseLayerHinting);\n    this._domNode.setContain('strict');\n    const adjustedScrollTop = ctx.scrollTop - ctx.bigNumbersDelta;\n    this._domNode.setTop(-adjustedScrollTop);\n    const height = Math.min(ctx.scrollHeight, 1000000);\n    this._domNode.setHeight(height);\n    this._domNode.setWidth(this._contentLeft);\n    this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft);\n    this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth);\n    this._glyphMarginBackgroundDomNode.setHeight(height);\n  }\n}\nMargin.CLASS_NAME = 'glyph-margin';\nMargin.OUTER_CLASS_NAME = 'margin';","map":{"version":3,"names":["createFastDomNode","ViewPart","Margin","constructor","context","options","_context","configuration","layoutInfo","get","_canUseLayerHinting","_contentLeft","contentLeft","_glyphMarginLeft","glyphMarginLeft","_glyphMarginWidth","glyphMarginWidth","_domNode","document","createElement","setClassName","OUTER_CLASS_NAME","setPosition","setAttribute","_glyphMarginBackgroundDomNode","CLASS_NAME","appendChild","dispose","getDomNode","onConfigurationChanged","e","onScrollChanged","scrollTopChanged","prepareRender","ctx","render","setLayerHinting","setContain","adjustedScrollTop","scrollTop","bigNumbersDelta","setTop","height","Math","min","scrollHeight","setHeight","setWidth","setLeft"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/margin/margin.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './margin.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ViewPart } from '../../view/viewPart.js';\nexport class Margin extends ViewPart {\n    constructor(context) {\n        super(context);\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(143 /* EditorOption.layoutInfo */);\n        this._canUseLayerHinting = !options.get(32 /* EditorOption.disableLayerHinting */);\n        this._contentLeft = layoutInfo.contentLeft;\n        this._glyphMarginLeft = layoutInfo.glyphMarginLeft;\n        this._glyphMarginWidth = layoutInfo.glyphMarginWidth;\n        this._domNode = createFastDomNode(document.createElement('div'));\n        this._domNode.setClassName(Margin.OUTER_CLASS_NAME);\n        this._domNode.setPosition('absolute');\n        this._domNode.setAttribute('role', 'presentation');\n        this._domNode.setAttribute('aria-hidden', 'true');\n        this._glyphMarginBackgroundDomNode = createFastDomNode(document.createElement('div'));\n        this._glyphMarginBackgroundDomNode.setClassName(Margin.CLASS_NAME);\n        this._domNode.appendChild(this._glyphMarginBackgroundDomNode);\n    }\n    dispose() {\n        super.dispose();\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        const layoutInfo = options.get(143 /* EditorOption.layoutInfo */);\n        this._canUseLayerHinting = !options.get(32 /* EditorOption.disableLayerHinting */);\n        this._contentLeft = layoutInfo.contentLeft;\n        this._glyphMarginLeft = layoutInfo.glyphMarginLeft;\n        this._glyphMarginWidth = layoutInfo.glyphMarginWidth;\n        return true;\n    }\n    onScrollChanged(e) {\n        return super.onScrollChanged(e) || e.scrollTopChanged;\n    }\n    // --- end event handlers\n    prepareRender(ctx) {\n        // Nothing to read\n    }\n    render(ctx) {\n        this._domNode.setLayerHinting(this._canUseLayerHinting);\n        this._domNode.setContain('strict');\n        const adjustedScrollTop = ctx.scrollTop - ctx.bigNumbersDelta;\n        this._domNode.setTop(-adjustedScrollTop);\n        const height = Math.min(ctx.scrollHeight, 1000000);\n        this._domNode.setHeight(height);\n        this._domNode.setWidth(this._contentLeft);\n        this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft);\n        this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth);\n        this._glyphMarginBackgroundDomNode.setHeight(height);\n    }\n}\nMargin.CLASS_NAME = 'glyph-margin';\nMargin.OUTER_CLASS_NAME = 'margin';\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}