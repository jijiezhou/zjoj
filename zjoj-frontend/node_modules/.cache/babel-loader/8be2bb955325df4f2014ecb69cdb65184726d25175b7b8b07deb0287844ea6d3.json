{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nlet AbstractCodeEditorService = class AbstractCodeEditorService extends Disposable {\n  constructor(_themeService) {\n    super();\n    this._themeService = _themeService;\n    this._onWillCreateCodeEditor = this._register(new Emitter());\n    this._onCodeEditorAdd = this._register(new Emitter());\n    this.onCodeEditorAdd = this._onCodeEditorAdd.event;\n    this._onCodeEditorRemove = this._register(new Emitter());\n    this.onCodeEditorRemove = this._onCodeEditorRemove.event;\n    this._onWillCreateDiffEditor = this._register(new Emitter());\n    this._onDiffEditorAdd = this._register(new Emitter());\n    this.onDiffEditorAdd = this._onDiffEditorAdd.event;\n    this._onDiffEditorRemove = this._register(new Emitter());\n    this.onDiffEditorRemove = this._onDiffEditorRemove.event;\n    this._decorationOptionProviders = new Map();\n    this._codeEditorOpenHandlers = new LinkedList();\n    this._modelProperties = new Map();\n    this._codeEditors = Object.create(null);\n    this._diffEditors = Object.create(null);\n    this._globalStyleSheet = null;\n  }\n  willCreateCodeEditor() {\n    this._onWillCreateCodeEditor.fire();\n  }\n  addCodeEditor(editor) {\n    this._codeEditors[editor.getId()] = editor;\n    this._onCodeEditorAdd.fire(editor);\n  }\n  removeCodeEditor(editor) {\n    if (delete this._codeEditors[editor.getId()]) {\n      this._onCodeEditorRemove.fire(editor);\n    }\n  }\n  listCodeEditors() {\n    return Object.keys(this._codeEditors).map(id => this._codeEditors[id]);\n  }\n  willCreateDiffEditor() {\n    this._onWillCreateDiffEditor.fire();\n  }\n  addDiffEditor(editor) {\n    this._diffEditors[editor.getId()] = editor;\n    this._onDiffEditorAdd.fire(editor);\n  }\n  listDiffEditors() {\n    return Object.keys(this._diffEditors).map(id => this._diffEditors[id]);\n  }\n  getFocusedCodeEditor() {\n    let editorWithWidgetFocus = null;\n    const editors = this.listCodeEditors();\n    for (const editor of editors) {\n      if (editor.hasTextFocus()) {\n        // bingo!\n        return editor;\n      }\n      if (editor.hasWidgetFocus()) {\n        editorWithWidgetFocus = editor;\n      }\n    }\n    return editorWithWidgetFocus;\n  }\n  removeDecorationType(key) {\n    const provider = this._decorationOptionProviders.get(key);\n    if (provider) {\n      provider.refCount--;\n      if (provider.refCount <= 0) {\n        this._decorationOptionProviders.delete(key);\n        provider.dispose();\n        this.listCodeEditors().forEach(ed => ed.removeDecorationsByType(key));\n      }\n    }\n  }\n  setModelProperty(resource, key, value) {\n    const key1 = resource.toString();\n    let dest;\n    if (this._modelProperties.has(key1)) {\n      dest = this._modelProperties.get(key1);\n    } else {\n      dest = new Map();\n      this._modelProperties.set(key1, dest);\n    }\n    dest.set(key, value);\n  }\n  getModelProperty(resource, key) {\n    const key1 = resource.toString();\n    if (this._modelProperties.has(key1)) {\n      const innerMap = this._modelProperties.get(key1);\n      return innerMap.get(key);\n    }\n    return undefined;\n  }\n  async openCodeEditor(input, source, sideBySide) {\n    for (const handler of this._codeEditorOpenHandlers) {\n      const candidate = await handler(input, source, sideBySide);\n      if (candidate !== null) {\n        return candidate;\n      }\n    }\n    return null;\n  }\n  registerCodeEditorOpenHandler(handler) {\n    const rm = this._codeEditorOpenHandlers.unshift(handler);\n    return toDisposable(rm);\n  }\n};\nAbstractCodeEditorService = __decorate([__param(0, IThemeService)], AbstractCodeEditorService);\nexport { AbstractCodeEditorService };\nexport class GlobalStyleSheet {\n  constructor(styleSheet) {\n    this._styleSheet = styleSheet;\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","Emitter","Disposable","toDisposable","LinkedList","IThemeService","AbstractCodeEditorService","constructor","_themeService","_onWillCreateCodeEditor","_register","_onCodeEditorAdd","onCodeEditorAdd","event","_onCodeEditorRemove","onCodeEditorRemove","_onWillCreateDiffEditor","_onDiffEditorAdd","onDiffEditorAdd","_onDiffEditorRemove","onDiffEditorRemove","_decorationOptionProviders","Map","_codeEditorOpenHandlers","_modelProperties","_codeEditors","create","_diffEditors","_globalStyleSheet","willCreateCodeEditor","fire","addCodeEditor","editor","getId","removeCodeEditor","listCodeEditors","keys","map","id","willCreateDiffEditor","addDiffEditor","listDiffEditors","getFocusedCodeEditor","editorWithWidgetFocus","editors","hasTextFocus","hasWidgetFocus","removeDecorationType","provider","get","refCount","delete","dispose","forEach","ed","removeDecorationsByType","setModelProperty","resource","value","key1","toString","dest","has","set","getModelProperty","innerMap","undefined","openCodeEditor","input","source","sideBySide","handler","candidate","registerCodeEditorOpenHandler","rm","unshift","GlobalStyleSheet","styleSheet","_styleSheet"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/browser/services/abstractCodeEditorService.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nlet AbstractCodeEditorService = class AbstractCodeEditorService extends Disposable {\n    constructor(_themeService) {\n        super();\n        this._themeService = _themeService;\n        this._onWillCreateCodeEditor = this._register(new Emitter());\n        this._onCodeEditorAdd = this._register(new Emitter());\n        this.onCodeEditorAdd = this._onCodeEditorAdd.event;\n        this._onCodeEditorRemove = this._register(new Emitter());\n        this.onCodeEditorRemove = this._onCodeEditorRemove.event;\n        this._onWillCreateDiffEditor = this._register(new Emitter());\n        this._onDiffEditorAdd = this._register(new Emitter());\n        this.onDiffEditorAdd = this._onDiffEditorAdd.event;\n        this._onDiffEditorRemove = this._register(new Emitter());\n        this.onDiffEditorRemove = this._onDiffEditorRemove.event;\n        this._decorationOptionProviders = new Map();\n        this._codeEditorOpenHandlers = new LinkedList();\n        this._modelProperties = new Map();\n        this._codeEditors = Object.create(null);\n        this._diffEditors = Object.create(null);\n        this._globalStyleSheet = null;\n    }\n    willCreateCodeEditor() {\n        this._onWillCreateCodeEditor.fire();\n    }\n    addCodeEditor(editor) {\n        this._codeEditors[editor.getId()] = editor;\n        this._onCodeEditorAdd.fire(editor);\n    }\n    removeCodeEditor(editor) {\n        if (delete this._codeEditors[editor.getId()]) {\n            this._onCodeEditorRemove.fire(editor);\n        }\n    }\n    listCodeEditors() {\n        return Object.keys(this._codeEditors).map(id => this._codeEditors[id]);\n    }\n    willCreateDiffEditor() {\n        this._onWillCreateDiffEditor.fire();\n    }\n    addDiffEditor(editor) {\n        this._diffEditors[editor.getId()] = editor;\n        this._onDiffEditorAdd.fire(editor);\n    }\n    listDiffEditors() {\n        return Object.keys(this._diffEditors).map(id => this._diffEditors[id]);\n    }\n    getFocusedCodeEditor() {\n        let editorWithWidgetFocus = null;\n        const editors = this.listCodeEditors();\n        for (const editor of editors) {\n            if (editor.hasTextFocus()) {\n                // bingo!\n                return editor;\n            }\n            if (editor.hasWidgetFocus()) {\n                editorWithWidgetFocus = editor;\n            }\n        }\n        return editorWithWidgetFocus;\n    }\n    removeDecorationType(key) {\n        const provider = this._decorationOptionProviders.get(key);\n        if (provider) {\n            provider.refCount--;\n            if (provider.refCount <= 0) {\n                this._decorationOptionProviders.delete(key);\n                provider.dispose();\n                this.listCodeEditors().forEach((ed) => ed.removeDecorationsByType(key));\n            }\n        }\n    }\n    setModelProperty(resource, key, value) {\n        const key1 = resource.toString();\n        let dest;\n        if (this._modelProperties.has(key1)) {\n            dest = this._modelProperties.get(key1);\n        }\n        else {\n            dest = new Map();\n            this._modelProperties.set(key1, dest);\n        }\n        dest.set(key, value);\n    }\n    getModelProperty(resource, key) {\n        const key1 = resource.toString();\n        if (this._modelProperties.has(key1)) {\n            const innerMap = this._modelProperties.get(key1);\n            return innerMap.get(key);\n        }\n        return undefined;\n    }\n    async openCodeEditor(input, source, sideBySide) {\n        for (const handler of this._codeEditorOpenHandlers) {\n            const candidate = await handler(input, source, sideBySide);\n            if (candidate !== null) {\n                return candidate;\n            }\n        }\n        return null;\n    }\n    registerCodeEditorOpenHandler(handler) {\n        const rm = this._codeEditorOpenHandlers.unshift(handler);\n        return toDisposable(rm);\n    }\n};\nAbstractCodeEditorService = __decorate([\n    __param(0, IThemeService)\n], AbstractCodeEditorService);\nexport { AbstractCodeEditorService };\nexport class GlobalStyleSheet {\n    constructor(styleSheet) {\n        this._styleSheet = styleSheet;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}