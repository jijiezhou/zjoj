{"ast":null,"code":"const getTextBeforeSelection = element => {\n  const {\n    value,\n    selectionStart\n  } = element;\n  return value.slice(0, selectionStart);\n};\nconst getLastMeasureIndex = (text, prefix) => {\n  const _prefix = [].concat(prefix);\n  return _prefix.reduce((pre, value) => {\n    const lastIndex = text.lastIndexOf(value);\n    if (lastIndex > pre.location) {\n      return {\n        location: lastIndex,\n        prefix: value\n      };\n    }\n    return pre;\n  }, {\n    location: -1,\n    prefix: \"\"\n  });\n};\nconst isValidSearch = (text, split) => {\n  return !split || !text.includes(split);\n};\nexport { getLastMeasureIndex, getTextBeforeSelection, isValidSearch };","map":{"version":3,"names":["getTextBeforeSelection","element","value","selectionStart","slice","getLastMeasureIndex","text","prefix","_prefix","concat","reduce","pre","lastIndex","lastIndexOf","location","isValidSearch","split","includes"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/mention/utils.js"],"sourcesContent":["const getTextBeforeSelection = (element) => {\n  const { value, selectionStart } = element;\n  return value.slice(0, selectionStart);\n};\nconst getLastMeasureIndex = (text, prefix) => {\n  const _prefix = [].concat(prefix);\n  return _prefix.reduce((pre, value) => {\n    const lastIndex = text.lastIndexOf(value);\n    if (lastIndex > pre.location) {\n      return {\n        location: lastIndex,\n        prefix: value\n      };\n    }\n    return pre;\n  }, {\n    location: -1,\n    prefix: \"\"\n  });\n};\nconst isValidSearch = (text, split) => {\n  return !split || !text.includes(split);\n};\nexport { getLastMeasureIndex, getTextBeforeSelection, isValidSearch };\n"],"mappings":"AAAA,MAAMA,sBAAsB,GAAIC,OAAO,IAAK;EAC1C,MAAM;IAAEC,KAAK;IAAEC;EAAe,CAAC,GAAGF,OAAO;EACzC,OAAOC,KAAK,CAACE,KAAK,CAAC,CAAC,EAAED,cAAc,CAAC;AACvC,CAAC;AACD,MAAME,mBAAmB,GAAGA,CAACC,IAAI,EAAEC,MAAM,KAAK;EAC5C,MAAMC,OAAO,GAAG,EAAE,CAACC,MAAM,CAACF,MAAM,CAAC;EACjC,OAAOC,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,EAAET,KAAK,KAAK;IACpC,MAAMU,SAAS,GAAGN,IAAI,CAACO,WAAW,CAACX,KAAK,CAAC;IACzC,IAAIU,SAAS,GAAGD,GAAG,CAACG,QAAQ,EAAE;MAC5B,OAAO;QACLA,QAAQ,EAAEF,SAAS;QACnBL,MAAM,EAAEL;MACV,CAAC;IACH;IACA,OAAOS,GAAG;EACZ,CAAC,EAAE;IACDG,QAAQ,EAAE,CAAC,CAAC;IACZP,MAAM,EAAE;EACV,CAAC,CAAC;AACJ,CAAC;AACD,MAAMQ,aAAa,GAAGA,CAACT,IAAI,EAAEU,KAAK,KAAK;EACrC,OAAO,CAACA,KAAK,IAAI,CAACV,IAAI,CAACW,QAAQ,CAACD,KAAK,CAAC;AACxC,CAAC;AACD,SAASX,mBAAmB,EAAEL,sBAAsB,EAAEe,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}