{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './indentGuides.css';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketPairGuideActiveBackground1, editorBracketPairGuideActiveBackground2, editorBracketPairGuideActiveBackground3, editorBracketPairGuideActiveBackground4, editorBracketPairGuideActiveBackground5, editorBracketPairGuideActiveBackground6, editorBracketPairGuideBackground1, editorBracketPairGuideBackground2, editorBracketPairGuideBackground3, editorBracketPairGuideBackground4, editorBracketPairGuideBackground5, editorBracketPairGuideBackground6, editorIndentGuide1, editorIndentGuide2, editorIndentGuide3, editorIndentGuide4, editorIndentGuide5, editorIndentGuide6, editorActiveIndentGuide1, editorActiveIndentGuide2, editorActiveIndentGuide3, editorActiveIndentGuide4, editorActiveIndentGuide5, editorActiveIndentGuide6 } from '../../../common/core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ArrayQueue } from '../../../../base/common/arrays.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { BracketPairGuidesClassNames } from '../../../common/model/guidesTextModelPart.js';\nimport { IndentGuide, HorizontalGuidesState } from '../../../common/textModelGuides.js';\nexport class IndentGuidesOverlay extends DynamicViewOverlay {\n  constructor(context) {\n    super();\n    this._context = context;\n    this._primaryPosition = null;\n    const options = this._context.configuration.options;\n    const wrappingInfo = options.get(144 /* EditorOption.wrappingInfo */);\n    const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n    this._lineHeight = options.get(66 /* EditorOption.lineHeight */);\n    this._spaceWidth = fontInfo.spaceWidth;\n    this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth;\n    this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n    this._renderResult = null;\n    this._context.addEventHandler(this);\n  }\n  dispose() {\n    this._context.removeEventHandler(this);\n    this._renderResult = null;\n    super.dispose();\n  }\n  // --- begin event handlers\n  onConfigurationChanged(e) {\n    const options = this._context.configuration.options;\n    const wrappingInfo = options.get(144 /* EditorOption.wrappingInfo */);\n    const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n    this._lineHeight = options.get(66 /* EditorOption.lineHeight */);\n    this._spaceWidth = fontInfo.spaceWidth;\n    this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth;\n    this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n    return true;\n  }\n  onCursorStateChanged(e) {\n    var _a;\n    const selection = e.selections[0];\n    const newPosition = selection.getPosition();\n    if (!((_a = this._primaryPosition) === null || _a === void 0 ? void 0 : _a.equals(newPosition))) {\n      this._primaryPosition = newPosition;\n      return true;\n    }\n    return false;\n  }\n  onDecorationsChanged(e) {\n    // true for inline decorations\n    return true;\n  }\n  onFlushed(e) {\n    return true;\n  }\n  onLinesChanged(e) {\n    return true;\n  }\n  onLinesDeleted(e) {\n    return true;\n  }\n  onLinesInserted(e) {\n    return true;\n  }\n  onScrollChanged(e) {\n    return e.scrollTopChanged; // || e.scrollWidthChanged;\n  }\n  onZonesChanged(e) {\n    return true;\n  }\n  onLanguageConfigurationChanged(e) {\n    return true;\n  }\n  // --- end event handlers\n  prepareRender(ctx) {\n    var _a, _b, _c, _d;\n    if (!this._bracketPairGuideOptions.indentation && this._bracketPairGuideOptions.bracketPairs === false) {\n      this._renderResult = null;\n      return;\n    }\n    const visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n    const visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n    const scrollWidth = ctx.scrollWidth;\n    const lineHeight = this._lineHeight;\n    const activeCursorPosition = this._primaryPosition;\n    const indents = this.getGuidesByLine(visibleStartLineNumber, Math.min(visibleEndLineNumber + 1, this._context.viewModel.getLineCount()), activeCursorPosition);\n    const output = [];\n    for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n      const lineIndex = lineNumber - visibleStartLineNumber;\n      const indent = indents[lineIndex];\n      let result = '';\n      const leftOffset = (_b = (_a = ctx.visibleRangeForPosition(new Position(lineNumber, 1))) === null || _a === void 0 ? void 0 : _a.left) !== null && _b !== void 0 ? _b : 0;\n      for (const guide of indent) {\n        const left = guide.column === -1 ? leftOffset + (guide.visibleColumn - 1) * this._spaceWidth : ctx.visibleRangeForPosition(new Position(lineNumber, guide.column)).left;\n        if (left > scrollWidth || this._maxIndentLeft > 0 && left > this._maxIndentLeft) {\n          break;\n        }\n        const className = guide.horizontalLine ? guide.horizontalLine.top ? 'horizontal-top' : 'horizontal-bottom' : 'vertical';\n        const width = guide.horizontalLine ? ((_d = (_c = ctx.visibleRangeForPosition(new Position(lineNumber, guide.horizontalLine.endColumn))) === null || _c === void 0 ? void 0 : _c.left) !== null && _d !== void 0 ? _d : left + this._spaceWidth) - left : this._spaceWidth;\n        result += `<div class=\"core-guide ${guide.className} ${className}\" style=\"left:${left}px;height:${lineHeight}px;width:${width}px\"></div>`;\n      }\n      output[lineIndex] = result;\n    }\n    this._renderResult = output;\n  }\n  getGuidesByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition) {\n    const bracketGuides = this._bracketPairGuideOptions.bracketPairs !== false ? this._context.viewModel.getBracketGuidesInRangeByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition, {\n      highlightActive: this._bracketPairGuideOptions.highlightActiveBracketPair,\n      horizontalGuides: this._bracketPairGuideOptions.bracketPairsHorizontal === true ? HorizontalGuidesState.Enabled : this._bracketPairGuideOptions.bracketPairsHorizontal === 'active' ? HorizontalGuidesState.EnabledForActive : HorizontalGuidesState.Disabled,\n      includeInactive: this._bracketPairGuideOptions.bracketPairs === true\n    }) : null;\n    const indentGuides = this._bracketPairGuideOptions.indentation ? this._context.viewModel.getLinesIndentGuides(visibleStartLineNumber, visibleEndLineNumber) : null;\n    let activeIndentStartLineNumber = 0;\n    let activeIndentEndLineNumber = 0;\n    let activeIndentLevel = 0;\n    if (this._bracketPairGuideOptions.highlightActiveIndentation !== false && activeCursorPosition) {\n      const activeIndentInfo = this._context.viewModel.getActiveIndentGuide(activeCursorPosition.lineNumber, visibleStartLineNumber, visibleEndLineNumber);\n      activeIndentStartLineNumber = activeIndentInfo.startLineNumber;\n      activeIndentEndLineNumber = activeIndentInfo.endLineNumber;\n      activeIndentLevel = activeIndentInfo.indent;\n    }\n    const {\n      indentSize\n    } = this._context.viewModel.model.getOptions();\n    const result = [];\n    for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n      const lineGuides = new Array();\n      result.push(lineGuides);\n      const bracketGuidesInLine = bracketGuides ? bracketGuides[lineNumber - visibleStartLineNumber] : [];\n      const bracketGuidesInLineQueue = new ArrayQueue(bracketGuidesInLine);\n      const indentGuidesInLine = indentGuides ? indentGuides[lineNumber - visibleStartLineNumber] : 0;\n      for (let indentLvl = 1; indentLvl <= indentGuidesInLine; indentLvl++) {\n        const indentGuide = (indentLvl - 1) * indentSize + 1;\n        const isActive =\n        // Disable active indent guide if there are bracket guides.\n        (this._bracketPairGuideOptions.highlightActiveIndentation === 'always' || bracketGuidesInLine.length === 0) && activeIndentStartLineNumber <= lineNumber && lineNumber <= activeIndentEndLineNumber && indentLvl === activeIndentLevel;\n        lineGuides.push(...(bracketGuidesInLineQueue.takeWhile(g => g.visibleColumn < indentGuide) || []));\n        const peeked = bracketGuidesInLineQueue.peek();\n        if (!peeked || peeked.visibleColumn !== indentGuide || peeked.horizontalLine) {\n          lineGuides.push(new IndentGuide(indentGuide, -1, `core-guide-indent lvl-${(indentLvl - 1) % 30}` + (isActive ? ' indent-active' : ''), null, -1, -1));\n        }\n      }\n      lineGuides.push(...(bracketGuidesInLineQueue.takeWhile(g => true) || []));\n    }\n    return result;\n  }\n  render(startLineNumber, lineNumber) {\n    if (!this._renderResult) {\n      return '';\n    }\n    const lineIndex = lineNumber - startLineNumber;\n    if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n      return '';\n    }\n    return this._renderResult[lineIndex];\n  }\n}\nfunction transparentToUndefined(color) {\n  if (color && color.isTransparent()) {\n    return undefined;\n  }\n  return color;\n}\nregisterThemingParticipant((theme, collector) => {\n  const colors = [{\n    bracketColor: editorBracketHighlightingForeground1,\n    guideColor: editorBracketPairGuideBackground1,\n    guideColorActive: editorBracketPairGuideActiveBackground1\n  }, {\n    bracketColor: editorBracketHighlightingForeground2,\n    guideColor: editorBracketPairGuideBackground2,\n    guideColorActive: editorBracketPairGuideActiveBackground2\n  }, {\n    bracketColor: editorBracketHighlightingForeground3,\n    guideColor: editorBracketPairGuideBackground3,\n    guideColorActive: editorBracketPairGuideActiveBackground3\n  }, {\n    bracketColor: editorBracketHighlightingForeground4,\n    guideColor: editorBracketPairGuideBackground4,\n    guideColorActive: editorBracketPairGuideActiveBackground4\n  }, {\n    bracketColor: editorBracketHighlightingForeground5,\n    guideColor: editorBracketPairGuideBackground5,\n    guideColorActive: editorBracketPairGuideActiveBackground5\n  }, {\n    bracketColor: editorBracketHighlightingForeground6,\n    guideColor: editorBracketPairGuideBackground6,\n    guideColorActive: editorBracketPairGuideActiveBackground6\n  }];\n  const colorProvider = new BracketPairGuidesClassNames();\n  const indentColors = [{\n    indentColor: editorIndentGuide1,\n    indentColorActive: editorActiveIndentGuide1\n  }, {\n    indentColor: editorIndentGuide2,\n    indentColorActive: editorActiveIndentGuide2\n  }, {\n    indentColor: editorIndentGuide3,\n    indentColorActive: editorActiveIndentGuide3\n  }, {\n    indentColor: editorIndentGuide4,\n    indentColorActive: editorActiveIndentGuide4\n  }, {\n    indentColor: editorIndentGuide5,\n    indentColorActive: editorActiveIndentGuide5\n  }, {\n    indentColor: editorIndentGuide6,\n    indentColorActive: editorActiveIndentGuide6\n  }];\n  const colorValues = colors.map(c => {\n    var _a, _b;\n    const bracketColor = theme.getColor(c.bracketColor);\n    const guideColor = theme.getColor(c.guideColor);\n    const guideColorActive = theme.getColor(c.guideColorActive);\n    const effectiveGuideColor = transparentToUndefined((_a = transparentToUndefined(guideColor)) !== null && _a !== void 0 ? _a : bracketColor === null || bracketColor === void 0 ? void 0 : bracketColor.transparent(0.3));\n    const effectiveGuideColorActive = transparentToUndefined((_b = transparentToUndefined(guideColorActive)) !== null && _b !== void 0 ? _b : bracketColor);\n    if (!effectiveGuideColor || !effectiveGuideColorActive) {\n      return undefined;\n    }\n    return {\n      guideColor: effectiveGuideColor,\n      guideColorActive: effectiveGuideColorActive\n    };\n  }).filter(isDefined);\n  const indentColorValues = indentColors.map(c => {\n    const indentColor = theme.getColor(c.indentColor);\n    const indentColorActive = theme.getColor(c.indentColorActive);\n    const effectiveIndentColor = transparentToUndefined(indentColor);\n    const effectiveIndentColorActive = transparentToUndefined(indentColorActive);\n    if (!effectiveIndentColor || !effectiveIndentColorActive) {\n      return undefined;\n    }\n    return {\n      indentColor: effectiveIndentColor,\n      indentColorActive: effectiveIndentColorActive\n    };\n  }).filter(isDefined);\n  if (colorValues.length > 0) {\n    for (let level = 0; level < 30; level++) {\n      const colors = colorValues[level % colorValues.length];\n      collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level).replace(/ /g, '.')} { --guide-color: ${colors.guideColor}; --guide-color-active: ${colors.guideColorActive}; }`);\n    }\n    collector.addRule(`.monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }`);\n    collector.addRule(`.monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }`);\n    collector.addRule(`.monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }`);\n    collector.addRule(`.monaco-editor .vertical.${colorProvider.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`);\n    collector.addRule(`.monaco-editor .horizontal-top.${colorProvider.activeClassName} { border-top: 1px solid var(--guide-color-active); }`);\n    collector.addRule(`.monaco-editor .horizontal-bottom.${colorProvider.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`);\n  }\n  if (indentColorValues.length > 0) {\n    for (let level = 0; level < 30; level++) {\n      const colors = indentColorValues[level % indentColorValues.length];\n      collector.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${level} { --indent-color: ${colors.indentColor}; --indent-color-active: ${colors.indentColorActive}; }`);\n    }\n    collector.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }`);\n    collector.addRule(`.monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }`);\n  }\n});","map":{"version":3,"names":["DynamicViewOverlay","editorBracketHighlightingForeground1","editorBracketHighlightingForeground2","editorBracketHighlightingForeground3","editorBracketHighlightingForeground4","editorBracketHighlightingForeground5","editorBracketHighlightingForeground6","editorBracketPairGuideActiveBackground1","editorBracketPairGuideActiveBackground2","editorBracketPairGuideActiveBackground3","editorBracketPairGuideActiveBackground4","editorBracketPairGuideActiveBackground5","editorBracketPairGuideActiveBackground6","editorBracketPairGuideBackground1","editorBracketPairGuideBackground2","editorBracketPairGuideBackground3","editorBracketPairGuideBackground4","editorBracketPairGuideBackground5","editorBracketPairGuideBackground6","editorIndentGuide1","editorIndentGuide2","editorIndentGuide3","editorIndentGuide4","editorIndentGuide5","editorIndentGuide6","editorActiveIndentGuide1","editorActiveIndentGuide2","editorActiveIndentGuide3","editorActiveIndentGuide4","editorActiveIndentGuide5","editorActiveIndentGuide6","registerThemingParticipant","Position","ArrayQueue","isDefined","BracketPairGuidesClassNames","IndentGuide","HorizontalGuidesState","IndentGuidesOverlay","constructor","context","_context","_primaryPosition","options","configuration","wrappingInfo","get","fontInfo","_lineHeight","_spaceWidth","spaceWidth","_maxIndentLeft","wrappingColumn","typicalHalfwidthCharacterWidth","_bracketPairGuideOptions","_renderResult","addEventHandler","dispose","removeEventHandler","onConfigurationChanged","e","onCursorStateChanged","_a","selection","selections","newPosition","getPosition","equals","onDecorationsChanged","onFlushed","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","scrollTopChanged","onZonesChanged","onLanguageConfigurationChanged","prepareRender","ctx","_b","_c","_d","indentation","bracketPairs","visibleStartLineNumber","visibleRange","startLineNumber","visibleEndLineNumber","endLineNumber","scrollWidth","lineHeight","activeCursorPosition","indents","getGuidesByLine","Math","min","viewModel","getLineCount","output","lineNumber","lineIndex","indent","result","leftOffset","visibleRangeForPosition","left","guide","column","visibleColumn","className","horizontalLine","top","width","endColumn","bracketGuides","getBracketGuidesInRangeByLine","highlightActive","highlightActiveBracketPair","horizontalGuides","bracketPairsHorizontal","Enabled","EnabledForActive","Disabled","includeInactive","indentGuides","getLinesIndentGuides","activeIndentStartLineNumber","activeIndentEndLineNumber","activeIndentLevel","highlightActiveIndentation","activeIndentInfo","getActiveIndentGuide","indentSize","model","getOptions","lineGuides","Array","push","bracketGuidesInLine","bracketGuidesInLineQueue","indentGuidesInLine","indentLvl","indentGuide","isActive","length","takeWhile","g","peeked","peek","render","transparentToUndefined","color","isTransparent","undefined","theme","collector","colors","bracketColor","guideColor","guideColorActive","colorProvider","indentColors","indentColor","indentColorActive","colorValues","map","c","getColor","effectiveGuideColor","transparent","effectiveGuideColorActive","filter","indentColorValues","effectiveIndentColor","effectiveIndentColorActive","level","addRule","getInlineClassNameOfLevel","replace","activeClassName"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/indentGuides/indentGuides.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './indentGuides.css';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketPairGuideActiveBackground1, editorBracketPairGuideActiveBackground2, editorBracketPairGuideActiveBackground3, editorBracketPairGuideActiveBackground4, editorBracketPairGuideActiveBackground5, editorBracketPairGuideActiveBackground6, editorBracketPairGuideBackground1, editorBracketPairGuideBackground2, editorBracketPairGuideBackground3, editorBracketPairGuideBackground4, editorBracketPairGuideBackground5, editorBracketPairGuideBackground6, editorIndentGuide1, editorIndentGuide2, editorIndentGuide3, editorIndentGuide4, editorIndentGuide5, editorIndentGuide6, editorActiveIndentGuide1, editorActiveIndentGuide2, editorActiveIndentGuide3, editorActiveIndentGuide4, editorActiveIndentGuide5, editorActiveIndentGuide6 } from '../../../common/core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ArrayQueue } from '../../../../base/common/arrays.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { BracketPairGuidesClassNames } from '../../../common/model/guidesTextModelPart.js';\nimport { IndentGuide, HorizontalGuidesState } from '../../../common/textModelGuides.js';\nexport class IndentGuidesOverlay extends DynamicViewOverlay {\n    constructor(context) {\n        super();\n        this._context = context;\n        this._primaryPosition = null;\n        const options = this._context.configuration.options;\n        const wrappingInfo = options.get(144 /* EditorOption.wrappingInfo */);\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        this._lineHeight = options.get(66 /* EditorOption.lineHeight */);\n        this._spaceWidth = fontInfo.spaceWidth;\n        this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : (wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth);\n        this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n        this._renderResult = null;\n        this._context.addEventHandler(this);\n    }\n    dispose() {\n        this._context.removeEventHandler(this);\n        this._renderResult = null;\n        super.dispose();\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        const wrappingInfo = options.get(144 /* EditorOption.wrappingInfo */);\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        this._lineHeight = options.get(66 /* EditorOption.lineHeight */);\n        this._spaceWidth = fontInfo.spaceWidth;\n        this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : (wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth);\n        this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n        return true;\n    }\n    onCursorStateChanged(e) {\n        var _a;\n        const selection = e.selections[0];\n        const newPosition = selection.getPosition();\n        if (!((_a = this._primaryPosition) === null || _a === void 0 ? void 0 : _a.equals(newPosition))) {\n            this._primaryPosition = newPosition;\n            return true;\n        }\n        return false;\n    }\n    onDecorationsChanged(e) {\n        // true for inline decorations\n        return true;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLinesChanged(e) {\n        return true;\n    }\n    onLinesDeleted(e) {\n        return true;\n    }\n    onLinesInserted(e) {\n        return true;\n    }\n    onScrollChanged(e) {\n        return e.scrollTopChanged; // || e.scrollWidthChanged;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    onLanguageConfigurationChanged(e) {\n        return true;\n    }\n    // --- end event handlers\n    prepareRender(ctx) {\n        var _a, _b, _c, _d;\n        if (!this._bracketPairGuideOptions.indentation && this._bracketPairGuideOptions.bracketPairs === false) {\n            this._renderResult = null;\n            return;\n        }\n        const visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n        const visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n        const scrollWidth = ctx.scrollWidth;\n        const lineHeight = this._lineHeight;\n        const activeCursorPosition = this._primaryPosition;\n        const indents = this.getGuidesByLine(visibleStartLineNumber, Math.min(visibleEndLineNumber + 1, this._context.viewModel.getLineCount()), activeCursorPosition);\n        const output = [];\n        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n            const lineIndex = lineNumber - visibleStartLineNumber;\n            const indent = indents[lineIndex];\n            let result = '';\n            const leftOffset = (_b = (_a = ctx.visibleRangeForPosition(new Position(lineNumber, 1))) === null || _a === void 0 ? void 0 : _a.left) !== null && _b !== void 0 ? _b : 0;\n            for (const guide of indent) {\n                const left = guide.column === -1\n                    ? leftOffset + (guide.visibleColumn - 1) * this._spaceWidth\n                    : ctx.visibleRangeForPosition(new Position(lineNumber, guide.column)).left;\n                if (left > scrollWidth || (this._maxIndentLeft > 0 && left > this._maxIndentLeft)) {\n                    break;\n                }\n                const className = guide.horizontalLine ? (guide.horizontalLine.top ? 'horizontal-top' : 'horizontal-bottom') : 'vertical';\n                const width = guide.horizontalLine\n                    ? ((_d = (_c = ctx.visibleRangeForPosition(new Position(lineNumber, guide.horizontalLine.endColumn))) === null || _c === void 0 ? void 0 : _c.left) !== null && _d !== void 0 ? _d : (left + this._spaceWidth)) - left\n                    : this._spaceWidth;\n                result += `<div class=\"core-guide ${guide.className} ${className}\" style=\"left:${left}px;height:${lineHeight}px;width:${width}px\"></div>`;\n            }\n            output[lineIndex] = result;\n        }\n        this._renderResult = output;\n    }\n    getGuidesByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition) {\n        const bracketGuides = this._bracketPairGuideOptions.bracketPairs !== false\n            ? this._context.viewModel.getBracketGuidesInRangeByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition, {\n                highlightActive: this._bracketPairGuideOptions.highlightActiveBracketPair,\n                horizontalGuides: this._bracketPairGuideOptions.bracketPairsHorizontal === true\n                    ? HorizontalGuidesState.Enabled\n                    : this._bracketPairGuideOptions.bracketPairsHorizontal === 'active'\n                        ? HorizontalGuidesState.EnabledForActive\n                        : HorizontalGuidesState.Disabled,\n                includeInactive: this._bracketPairGuideOptions.bracketPairs === true,\n            })\n            : null;\n        const indentGuides = this._bracketPairGuideOptions.indentation\n            ? this._context.viewModel.getLinesIndentGuides(visibleStartLineNumber, visibleEndLineNumber)\n            : null;\n        let activeIndentStartLineNumber = 0;\n        let activeIndentEndLineNumber = 0;\n        let activeIndentLevel = 0;\n        if (this._bracketPairGuideOptions.highlightActiveIndentation !== false && activeCursorPosition) {\n            const activeIndentInfo = this._context.viewModel.getActiveIndentGuide(activeCursorPosition.lineNumber, visibleStartLineNumber, visibleEndLineNumber);\n            activeIndentStartLineNumber = activeIndentInfo.startLineNumber;\n            activeIndentEndLineNumber = activeIndentInfo.endLineNumber;\n            activeIndentLevel = activeIndentInfo.indent;\n        }\n        const { indentSize } = this._context.viewModel.model.getOptions();\n        const result = [];\n        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n            const lineGuides = new Array();\n            result.push(lineGuides);\n            const bracketGuidesInLine = bracketGuides ? bracketGuides[lineNumber - visibleStartLineNumber] : [];\n            const bracketGuidesInLineQueue = new ArrayQueue(bracketGuidesInLine);\n            const indentGuidesInLine = indentGuides ? indentGuides[lineNumber - visibleStartLineNumber] : 0;\n            for (let indentLvl = 1; indentLvl <= indentGuidesInLine; indentLvl++) {\n                const indentGuide = (indentLvl - 1) * indentSize + 1;\n                const isActive = \n                // Disable active indent guide if there are bracket guides.\n                (this._bracketPairGuideOptions.highlightActiveIndentation === 'always' || bracketGuidesInLine.length === 0) &&\n                    activeIndentStartLineNumber <= lineNumber &&\n                    lineNumber <= activeIndentEndLineNumber &&\n                    indentLvl === activeIndentLevel;\n                lineGuides.push(...bracketGuidesInLineQueue.takeWhile(g => g.visibleColumn < indentGuide) || []);\n                const peeked = bracketGuidesInLineQueue.peek();\n                if (!peeked || peeked.visibleColumn !== indentGuide || peeked.horizontalLine) {\n                    lineGuides.push(new IndentGuide(indentGuide, -1, `core-guide-indent lvl-${(indentLvl - 1) % 30}` + (isActive ? ' indent-active' : ''), null, -1, -1));\n                }\n            }\n            lineGuides.push(...bracketGuidesInLineQueue.takeWhile(g => true) || []);\n        }\n        return result;\n    }\n    render(startLineNumber, lineNumber) {\n        if (!this._renderResult) {\n            return '';\n        }\n        const lineIndex = lineNumber - startLineNumber;\n        if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n            return '';\n        }\n        return this._renderResult[lineIndex];\n    }\n}\nfunction transparentToUndefined(color) {\n    if (color && color.isTransparent()) {\n        return undefined;\n    }\n    return color;\n}\nregisterThemingParticipant((theme, collector) => {\n    const colors = [\n        { bracketColor: editorBracketHighlightingForeground1, guideColor: editorBracketPairGuideBackground1, guideColorActive: editorBracketPairGuideActiveBackground1 },\n        { bracketColor: editorBracketHighlightingForeground2, guideColor: editorBracketPairGuideBackground2, guideColorActive: editorBracketPairGuideActiveBackground2 },\n        { bracketColor: editorBracketHighlightingForeground3, guideColor: editorBracketPairGuideBackground3, guideColorActive: editorBracketPairGuideActiveBackground3 },\n        { bracketColor: editorBracketHighlightingForeground4, guideColor: editorBracketPairGuideBackground4, guideColorActive: editorBracketPairGuideActiveBackground4 },\n        { bracketColor: editorBracketHighlightingForeground5, guideColor: editorBracketPairGuideBackground5, guideColorActive: editorBracketPairGuideActiveBackground5 },\n        { bracketColor: editorBracketHighlightingForeground6, guideColor: editorBracketPairGuideBackground6, guideColorActive: editorBracketPairGuideActiveBackground6 }\n    ];\n    const colorProvider = new BracketPairGuidesClassNames();\n    const indentColors = [\n        { indentColor: editorIndentGuide1, indentColorActive: editorActiveIndentGuide1 },\n        { indentColor: editorIndentGuide2, indentColorActive: editorActiveIndentGuide2 },\n        { indentColor: editorIndentGuide3, indentColorActive: editorActiveIndentGuide3 },\n        { indentColor: editorIndentGuide4, indentColorActive: editorActiveIndentGuide4 },\n        { indentColor: editorIndentGuide5, indentColorActive: editorActiveIndentGuide5 },\n        { indentColor: editorIndentGuide6, indentColorActive: editorActiveIndentGuide6 },\n    ];\n    const colorValues = colors\n        .map(c => {\n        var _a, _b;\n        const bracketColor = theme.getColor(c.bracketColor);\n        const guideColor = theme.getColor(c.guideColor);\n        const guideColorActive = theme.getColor(c.guideColorActive);\n        const effectiveGuideColor = transparentToUndefined((_a = transparentToUndefined(guideColor)) !== null && _a !== void 0 ? _a : bracketColor === null || bracketColor === void 0 ? void 0 : bracketColor.transparent(0.3));\n        const effectiveGuideColorActive = transparentToUndefined((_b = transparentToUndefined(guideColorActive)) !== null && _b !== void 0 ? _b : bracketColor);\n        if (!effectiveGuideColor || !effectiveGuideColorActive) {\n            return undefined;\n        }\n        return {\n            guideColor: effectiveGuideColor,\n            guideColorActive: effectiveGuideColorActive,\n        };\n    })\n        .filter(isDefined);\n    const indentColorValues = indentColors\n        .map(c => {\n        const indentColor = theme.getColor(c.indentColor);\n        const indentColorActive = theme.getColor(c.indentColorActive);\n        const effectiveIndentColor = transparentToUndefined(indentColor);\n        const effectiveIndentColorActive = transparentToUndefined(indentColorActive);\n        if (!effectiveIndentColor || !effectiveIndentColorActive) {\n            return undefined;\n        }\n        return {\n            indentColor: effectiveIndentColor,\n            indentColorActive: effectiveIndentColorActive,\n        };\n    })\n        .filter(isDefined);\n    if (colorValues.length > 0) {\n        for (let level = 0; level < 30; level++) {\n            const colors = colorValues[level % colorValues.length];\n            collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level).replace(/ /g, '.')} { --guide-color: ${colors.guideColor}; --guide-color-active: ${colors.guideColorActive}; }`);\n        }\n        collector.addRule(`.monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }`);\n        collector.addRule(`.monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }`);\n        collector.addRule(`.monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }`);\n        collector.addRule(`.monaco-editor .vertical.${colorProvider.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`);\n        collector.addRule(`.monaco-editor .horizontal-top.${colorProvider.activeClassName} { border-top: 1px solid var(--guide-color-active); }`);\n        collector.addRule(`.monaco-editor .horizontal-bottom.${colorProvider.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`);\n    }\n    if (indentColorValues.length > 0) {\n        for (let level = 0; level < 30; level++) {\n            const colors = indentColorValues[level % indentColorValues.length];\n            collector.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${level} { --indent-color: ${colors.indentColor}; --indent-color-active: ${colors.indentColorActive}; }`);\n        }\n        collector.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }`);\n        collector.addRule(`.monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }`);\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}