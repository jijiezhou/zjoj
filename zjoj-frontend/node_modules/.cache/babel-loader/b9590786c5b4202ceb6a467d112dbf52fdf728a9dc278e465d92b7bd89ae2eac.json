{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar ModesHoverController_1;\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { GotoDefinitionAtPositionEditorContribution } from '../../gotoSymbol/browser/link/goToDefinitionAtPosition.js';\nimport { ContentHoverWidget, ContentHoverController } from './contentHover.js';\nimport { MarginHoverWidget } from './marginHover.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { editorHoverBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { HoverParticipantRegistry } from './hoverTypes.js';\nimport { MarkdownHoverParticipant } from './markdownHoverParticipant.js';\nimport { MarkerHoverParticipant } from './markerHoverParticipant.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport * as nls from '../../../../nls.js';\nimport './hover.css';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet ModesHoverController = ModesHoverController_1 = class ModesHoverController extends Disposable {\n  static get(editor) {\n    return editor.getContribution(ModesHoverController_1.ID);\n  }\n  constructor(_editor, _instantiationService, _openerService, _languageService, _keybindingService) {\n    super();\n    this._editor = _editor;\n    this._instantiationService = _instantiationService;\n    this._openerService = _openerService;\n    this._languageService = _languageService;\n    this._keybindingService = _keybindingService;\n    this._toUnhook = new DisposableStore();\n    this._hoverActivatedByColorDecoratorClick = false;\n    this._isMouseDown = false;\n    this._hoverClicked = false;\n    this._contentWidget = null;\n    this._glyphWidget = null;\n    this._reactToEditorMouseMoveRunner = this._register(new RunOnceScheduler(() => this._reactToEditorMouseMove(this._mouseMoveEvent), 0));\n    this._hookEvents();\n    this._register(this._editor.onDidChangeConfiguration(e => {\n      if (e.hasChanged(60 /* EditorOption.hover */)) {\n        this._unhookEvents();\n        this._hookEvents();\n      }\n    }));\n  }\n  _hookEvents() {\n    const hoverOpts = this._editor.getOption(60 /* EditorOption.hover */);\n    this._isHoverEnabled = hoverOpts.enabled;\n    this._isHoverSticky = hoverOpts.sticky;\n    this._hidingDelay = hoverOpts.hidingDelay;\n    if (this._isHoverEnabled) {\n      this._toUnhook.add(this._editor.onMouseDown(e => this._onEditorMouseDown(e)));\n      this._toUnhook.add(this._editor.onMouseUp(e => this._onEditorMouseUp(e)));\n      this._toUnhook.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._toUnhook.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    } else {\n      this._toUnhook.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._toUnhook.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    }\n    this._toUnhook.add(this._editor.onMouseLeave(e => this._onEditorMouseLeave(e)));\n    this._toUnhook.add(this._editor.onDidChangeModel(() => {\n      this._cancelScheduler();\n      this._hideWidgets();\n    }));\n    this._toUnhook.add(this._editor.onDidChangeModelContent(() => this._cancelScheduler()));\n    this._toUnhook.add(this._editor.onDidScrollChange(e => this._onEditorScrollChanged(e)));\n  }\n  _cancelScheduler() {\n    this._mouseMoveEvent = undefined;\n    this._reactToEditorMouseMoveRunner.cancel();\n  }\n  _unhookEvents() {\n    this._toUnhook.clear();\n  }\n  _onEditorScrollChanged(e) {\n    if (e.scrollTopChanged || e.scrollLeftChanged) {\n      this._hideWidgets();\n    }\n  }\n  _onEditorMouseDown(mouseEvent) {\n    var _a;\n    this._isMouseDown = true;\n    const target = mouseEvent.target;\n    if (target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n      this._hoverClicked = true;\n      // mouse down on top of content hover widget\n      return;\n    }\n    if (target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n      // mouse down on top of overlay hover widget\n      return;\n    }\n    if (target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n      this._hoverClicked = false;\n    }\n    if (!((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing)) {\n      this._hideWidgets();\n    }\n  }\n  _onEditorMouseUp(mouseEvent) {\n    this._isMouseDown = false;\n  }\n  _onEditorMouseLeave(mouseEvent) {\n    var _a, _b;\n    this._cancelScheduler();\n    const targetEm = mouseEvent.event.browserEvent.relatedTarget;\n    if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.containsNode(targetEm))) {\n      // When the content widget is resizing\n      // when the mouse is inside hover widget\n      return;\n    }\n    if (!_sticky) {\n      this._hideWidgets();\n    }\n  }\n  _isMouseOverWidget(mouseEvent) {\n    var _a, _b, _c, _d, _e;\n    const target = mouseEvent.target;\n    if (this._isHoverSticky && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n      // mouse moved on top of content hover widget\n      return true;\n    }\n    if (this._isHoverSticky && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.containsNode((_b = mouseEvent.event.browserEvent.view) === null || _b === void 0 ? void 0 : _b.document.activeElement)) && !((_d = (_c = mouseEvent.event.browserEvent.view) === null || _c === void 0 ? void 0 : _c.getSelection()) === null || _d === void 0 ? void 0 : _d.isCollapsed)) {\n      // selected text within content hover widget\n      return true;\n    }\n    if (!this._isHoverSticky && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID && ((_e = this._contentWidget) === null || _e === void 0 ? void 0 : _e.isColorPickerVisible)) {\n      // though the hover is not sticky, the color picker needs to.\n      return true;\n    }\n    if (this._isHoverSticky && target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n      // mouse moved on top of overlay hover widget\n      return true;\n    }\n    return false;\n  }\n  _onEditorMouseMove(mouseEvent) {\n    var _a, _b, _c, _d;\n    this._mouseMoveEvent = mouseEvent;\n    if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n      return;\n    }\n    if (this._isMouseDown && this._hoverClicked) {\n      return;\n    }\n    if (this._isHoverSticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isVisibleFromKeyboard)) {\n      // Sticky mode is on and the hover has been shown via keyboard\n      // so moving the mouse has no effect\n      return;\n    }\n    const mouseIsOverWidget = this._isMouseOverWidget(mouseEvent);\n    // If the mouse is over the widget and the hiding timeout is defined, then cancel it\n    if (mouseIsOverWidget) {\n      this._reactToEditorMouseMoveRunner.cancel();\n      return;\n    }\n    // If the mouse is not over the widget, and if sticky is on,\n    // then give it a grace period before reacting to the mouse event\n    if (((_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.isVisible) && this._isHoverSticky && this._hidingDelay > 0) {\n      if (!this._reactToEditorMouseMoveRunner.isScheduled()) {\n        this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);\n      }\n      return;\n    }\n    this._reactToEditorMouseMove(mouseEvent);\n  }\n  _reactToEditorMouseMove(mouseEvent) {\n    var _a, _b, _c;\n    if (!mouseEvent) {\n      return;\n    }\n    const target = mouseEvent.target;\n    const mouseOnDecorator = (_a = target.element) === null || _a === void 0 ? void 0 : _a.classList.contains('colorpicker-color-decoration');\n    const decoratorActivatedOn = this._editor.getOption(146 /* EditorOption.colorDecoratorsActivatedOn */);\n    if (mouseOnDecorator && (decoratorActivatedOn === 'click' && !this._hoverActivatedByColorDecoratorClick || decoratorActivatedOn === 'hover' && !this._isHoverEnabled && !_sticky || decoratorActivatedOn === 'clickAndHover' && !this._isHoverEnabled && !this._hoverActivatedByColorDecoratorClick) || !mouseOnDecorator && !this._isHoverEnabled && !this._hoverActivatedByColorDecoratorClick) {\n      this._hideWidgets();\n      return;\n    }\n    const contentWidget = this._getOrCreateContentWidget();\n    if (contentWidget.maybeShowAt(mouseEvent)) {\n      (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n      return;\n    }\n    if (target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ && target.position) {\n      (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n      if (!this._glyphWidget) {\n        this._glyphWidget = new MarginHoverWidget(this._editor, this._languageService, this._openerService);\n      }\n      this._glyphWidget.startShowingAt(target.position.lineNumber);\n      return;\n    }\n    if (_sticky) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _onKeyDown(e) {\n    var _a;\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n    // If the beginning of a multi-chord keybinding is pressed, or the command aims to focus the hover, set the variable to true, otherwise false\n    const mightTriggerFocus = resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ || resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */ && resolvedKeyboardEvent.commandId === 'editor.action.showHover' && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible);\n    if (e.keyCode !== 5 /* KeyCode.Ctrl */ && e.keyCode !== 6 /* KeyCode.Alt */ && e.keyCode !== 57 /* KeyCode.Meta */ && e.keyCode !== 4 /* KeyCode.Shift */ && !mightTriggerFocus) {\n      // Do not hide hover when a modifier key is pressed\n      this._hideWidgets();\n    }\n  }\n  _hideWidgets() {\n    var _a, _b, _c;\n    if (_sticky) {\n      return;\n    }\n    if (this._isMouseDown && this._hoverClicked && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible) || InlineSuggestionHintsContentWidget.dropDownVisible) {\n      return;\n    }\n    this._hoverActivatedByColorDecoratorClick = false;\n    this._hoverClicked = false;\n    (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n    (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n  }\n  _getOrCreateContentWidget() {\n    if (!this._contentWidget) {\n      this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n    }\n    return this._contentWidget;\n  }\n  showContentHover(range, mode, source, focus, activatedByColorDecoratorClick = false) {\n    this._hoverActivatedByColorDecoratorClick = activatedByColorDecoratorClick;\n    this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n  }\n  focus() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n  }\n  scrollUp() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n  }\n  scrollDown() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n  }\n  scrollLeft() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n  }\n  scrollRight() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n  }\n  pageUp() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n  }\n  pageDown() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n  }\n  goToTop() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n  }\n  goToBottom() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n  }\n  get isColorPickerVisible() {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n  }\n  get isHoverVisible() {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n  }\n  dispose() {\n    var _a, _b;\n    super.dispose();\n    this._unhookEvents();\n    this._toUnhook.dispose();\n    (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n    (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n  }\n};\nModesHoverController.ID = 'editor.contrib.hover';\nModesHoverController = ModesHoverController_1 = __decorate([__param(1, IInstantiationService), __param(2, IOpenerService), __param(3, ILanguageService), __param(4, IKeybindingService)], ModesHoverController);\nexport { ModesHoverController };\nvar HoverFocusBehavior;\n(function (HoverFocusBehavior) {\n  HoverFocusBehavior[\"NoAutoFocus\"] = \"noAutoFocus\";\n  HoverFocusBehavior[\"FocusIfVisible\"] = \"focusIfVisible\";\n  HoverFocusBehavior[\"AutoFocusImmediately\"] = \"autoFocusImmediately\";\n})(HoverFocusBehavior || (HoverFocusBehavior = {}));\nclass ShowOrFocusHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showHover',\n      label: nls.localize({\n        key: 'showOrFocusHover',\n        comment: ['Label for action that will trigger the showing/focusing of a hover in the editor.', 'If the hover is not visible, it will show the hover.', 'This allows for users to show the hover without using the mouse.']\n      }, \"Show or Focus Hover\"),\n      metadata: {\n        description: `Show or Focus Hover`,\n        args: [{\n          name: 'args',\n          schema: {\n            type: 'object',\n            properties: {\n              'focus': {\n                description: 'Controls if and when the hover should take focus upon being triggered by this action.',\n                enum: [HoverFocusBehavior.NoAutoFocus, HoverFocusBehavior.FocusIfVisible, HoverFocusBehavior.AutoFocusImmediately],\n                enumDescriptions: [nls.localize('showOrFocusHover.focus.noAutoFocus', 'The hover will not automatically take focus.'), nls.localize('showOrFocusHover.focus.focusIfVisible', 'The hover will take focus only if it is already visible.'), nls.localize('showOrFocusHover.focus.autoFocusImmediately', 'The hover will automatically take focus when it appears.')],\n                default: HoverFocusBehavior.FocusIfVisible\n              }\n            }\n          }\n        }]\n      },\n      alias: 'Show or Focus Hover',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 39 /* KeyCode.KeyI */),\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor, args) {\n    if (!editor.hasModel()) {\n      return;\n    }\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    const focusArgument = args === null || args === void 0 ? void 0 : args.focus;\n    let focusOption = HoverFocusBehavior.FocusIfVisible;\n    if (focusArgument in HoverFocusBehavior) {\n      focusOption = focusArgument;\n    } else if (typeof focusArgument === 'boolean' && focusArgument) {\n      focusOption = HoverFocusBehavior.AutoFocusImmediately;\n    }\n    const showContentHover = focus => {\n      const position = editor.getPosition();\n      const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n      controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, focus);\n    };\n    const accessibilitySupportEnabled = editor.getOption(2 /* EditorOption.accessibilitySupport */) === 2 /* AccessibilitySupport.Enabled */;\n    if (controller.isHoverVisible) {\n      if (focusOption !== HoverFocusBehavior.NoAutoFocus) {\n        controller.focus();\n      } else {\n        showContentHover(accessibilitySupportEnabled);\n      }\n    } else {\n      showContentHover(accessibilitySupportEnabled || focusOption === HoverFocusBehavior.AutoFocusImmediately);\n    }\n  }\n}\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showDefinitionPreviewHover',\n      label: nls.localize({\n        key: 'showDefinitionPreviewHover',\n        comment: ['Label for action that will trigger the showing of definition preview hover in the editor.', 'This allows for users to show the definition preview hover without using the mouse.']\n      }, \"Show Definition Preview Hover\"),\n      alias: 'Show Definition Preview Hover',\n      precondition: undefined\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    const position = editor.getPosition();\n    if (!position) {\n      return;\n    }\n    const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n    const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\n    if (!goto) {\n      return;\n    }\n    const promise = goto.startFindDefinitionFromCursor(position);\n    promise.then(() => {\n      controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, true);\n    });\n  }\n}\nclass ScrollUpHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollUpHover',\n      label: nls.localize({\n        key: 'scrollUpHover',\n        comment: ['Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused.']\n      }, \"Scroll Up Hover\"),\n      alias: 'Scroll Up Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 16 /* KeyCode.UpArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollUp();\n  }\n}\nclass ScrollDownHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollDownHover',\n      label: nls.localize({\n        key: 'scrollDownHover',\n        comment: ['Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused.']\n      }, \"Scroll Down Hover\"),\n      alias: 'Scroll Down Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 18 /* KeyCode.DownArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollDown();\n  }\n}\nclass ScrollLeftHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollLeftHover',\n      label: nls.localize({\n        key: 'scrollLeftHover',\n        comment: ['Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused.']\n      }, \"Scroll Left Hover\"),\n      alias: 'Scroll Left Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 15 /* KeyCode.LeftArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollLeft();\n  }\n}\nclass ScrollRightHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollRightHover',\n      label: nls.localize({\n        key: 'scrollRightHover',\n        comment: ['Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused.']\n      }, \"Scroll Right Hover\"),\n      alias: 'Scroll Right Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 17 /* KeyCode.RightArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollRight();\n  }\n}\nclass PageUpHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.pageUpHover',\n      label: nls.localize({\n        key: 'pageUpHover',\n        comment: ['Action that allows to page up in the hover widget with the page up command when the hover widget is focused.']\n      }, \"Page Up Hover\"),\n      alias: 'Page Up Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 11 /* KeyCode.PageUp */,\n        secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.pageUp();\n  }\n}\nclass PageDownHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.pageDownHover',\n      label: nls.localize({\n        key: 'pageDownHover',\n        comment: ['Action that allows to page down in the hover widget with the page down command when the hover widget is focused.']\n      }, \"Page Down Hover\"),\n      alias: 'Page Down Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 12 /* KeyCode.PageDown */,\n        secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.pageDown();\n  }\n}\nclass GoToTopHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.goToTopHover',\n      label: nls.localize({\n        key: 'goToTopHover',\n        comment: ['Action that allows to go to the top of the hover widget with the home command when the hover widget is focused.']\n      }, \"Go To Top Hover\"),\n      alias: 'Go To Bottom Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 14 /* KeyCode.Home */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.goToTop();\n  }\n}\nclass GoToBottomHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.goToBottomHover',\n      label: nls.localize({\n        key: 'goToBottomHover',\n        comment: ['Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused.']\n      }, \"Go To Bottom Hover\"),\n      alias: 'Go To Bottom Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 13 /* KeyCode.End */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = ModesHoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.goToBottom();\n  }\n}\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowOrFocusHoverAction);\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\nregisterEditorAction(ScrollUpHoverAction);\nregisterEditorAction(ScrollDownHoverAction);\nregisterEditorAction(ScrollLeftHoverAction);\nregisterEditorAction(ScrollRightHoverAction);\nregisterEditorAction(PageUpHoverAction);\nregisterEditorAction(PageDownHoverAction);\nregisterEditorAction(GoToTopHoverAction);\nregisterEditorAction(GoToBottomHoverAction);\nHoverParticipantRegistry.register(MarkdownHoverParticipant);\nHoverParticipantRegistry.register(MarkerHoverParticipant);\n// theming\nregisterThemingParticipant((theme, collector) => {\n  const hoverBorder = theme.getColor(editorHoverBorder);\n  if (hoverBorder) {\n    collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n    collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n    collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);\n  }\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ModesHoverController_1","KeyChord","Disposable","DisposableStore","EditorAction","registerEditorAction","registerEditorContribution","Range","EditorContextKeys","ILanguageService","GotoDefinitionAtPositionEditorContribution","ContentHoverWidget","ContentHoverController","MarginHoverWidget","IInstantiationService","IOpenerService","editorHoverBorder","registerThemingParticipant","HoverParticipantRegistry","MarkdownHoverParticipant","MarkerHoverParticipant","InlineSuggestionHintsContentWidget","IKeybindingService","nls","RunOnceScheduler","_sticky","ModesHoverController","get","editor","getContribution","ID","constructor","_editor","_instantiationService","_openerService","_languageService","_keybindingService","_toUnhook","_hoverActivatedByColorDecoratorClick","_isMouseDown","_hoverClicked","_contentWidget","_glyphWidget","_reactToEditorMouseMoveRunner","_register","_reactToEditorMouseMove","_mouseMoveEvent","_hookEvents","onDidChangeConfiguration","e","hasChanged","_unhookEvents","hoverOpts","getOption","_isHoverEnabled","enabled","_isHoverSticky","sticky","_hidingDelay","hidingDelay","add","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onMouseMove","_onEditorMouseMove","onKeyDown","_onKeyDown","onMouseLeave","_onEditorMouseLeave","onDidChangeModel","_cancelScheduler","_hideWidgets","onDidChangeModelContent","onDidScrollChange","_onEditorScrollChanged","undefined","cancel","clear","scrollTopChanged","scrollLeftChanged","mouseEvent","_a","type","detail","widget","isResizing","_b","targetEm","event","browserEvent","relatedTarget","containsNode","_isMouseOverWidget","_c","_d","_e","view","document","activeElement","getSelection","isCollapsed","isColorPickerVisible","isFocused","isVisibleFromKeyboard","mouseIsOverWidget","isVisible","isScheduled","schedule","mouseOnDecorator","element","classList","contains","decoratorActivatedOn","contentWidget","_getOrCreateContentWidget","maybeShowAt","hide","position","startShowingAt","lineNumber","hasModel","resolvedKeyboardEvent","softDispatch","getDomNode","mightTriggerFocus","kind","commandId","keyCode","dropDownVisible","createInstance","showContentHover","range","mode","source","focus","activatedByColorDecoratorClick","startShowingAtRange","scrollUp","scrollDown","scrollLeft","scrollRight","pageUp","pageDown","goToTop","goToBottom","isHoverVisible","dispose","HoverFocusBehavior","ShowOrFocusHoverAction","id","label","localize","comment","metadata","description","args","name","schema","properties","enum","NoAutoFocus","FocusIfVisible","AutoFocusImmediately","enumDescriptions","default","alias","precondition","kbOpts","kbExpr","editorTextFocus","primary","weight","run","accessor","controller","focusArgument","focusOption","getPosition","column","accessibilitySupportEnabled","ShowDefinitionPreviewHoverAction","goto","promise","startFindDefinitionFromCursor","then","ScrollUpHoverAction","hoverFocused","ScrollDownHoverAction","ScrollLeftHoverAction","ScrollRightHoverAction","PageUpHoverAction","secondary","PageDownHoverAction","GoToTopHoverAction","GoToBottomHoverAction","register","theme","collector","hoverBorder","getColor","addRule","transparent"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ModesHoverController_1;\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { GotoDefinitionAtPositionEditorContribution } from '../../gotoSymbol/browser/link/goToDefinitionAtPosition.js';\nimport { ContentHoverWidget, ContentHoverController } from './contentHover.js';\nimport { MarginHoverWidget } from './marginHover.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { editorHoverBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { HoverParticipantRegistry } from './hoverTypes.js';\nimport { MarkdownHoverParticipant } from './markdownHoverParticipant.js';\nimport { MarkerHoverParticipant } from './markerHoverParticipant.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport * as nls from '../../../../nls.js';\nimport './hover.css';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet ModesHoverController = ModesHoverController_1 = class ModesHoverController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(ModesHoverController_1.ID);\n    }\n    constructor(_editor, _instantiationService, _openerService, _languageService, _keybindingService) {\n        super();\n        this._editor = _editor;\n        this._instantiationService = _instantiationService;\n        this._openerService = _openerService;\n        this._languageService = _languageService;\n        this._keybindingService = _keybindingService;\n        this._toUnhook = new DisposableStore();\n        this._hoverActivatedByColorDecoratorClick = false;\n        this._isMouseDown = false;\n        this._hoverClicked = false;\n        this._contentWidget = null;\n        this._glyphWidget = null;\n        this._reactToEditorMouseMoveRunner = this._register(new RunOnceScheduler(() => this._reactToEditorMouseMove(this._mouseMoveEvent), 0));\n        this._hookEvents();\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(60 /* EditorOption.hover */)) {\n                this._unhookEvents();\n                this._hookEvents();\n            }\n        }));\n    }\n    _hookEvents() {\n        const hoverOpts = this._editor.getOption(60 /* EditorOption.hover */);\n        this._isHoverEnabled = hoverOpts.enabled;\n        this._isHoverSticky = hoverOpts.sticky;\n        this._hidingDelay = hoverOpts.hidingDelay;\n        if (this._isHoverEnabled) {\n            this._toUnhook.add(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n            this._toUnhook.add(this._editor.onMouseUp((e) => this._onEditorMouseUp(e)));\n            this._toUnhook.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._toUnhook.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        else {\n            this._toUnhook.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._toUnhook.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        this._toUnhook.add(this._editor.onMouseLeave((e) => this._onEditorMouseLeave(e)));\n        this._toUnhook.add(this._editor.onDidChangeModel(() => {\n            this._cancelScheduler();\n            this._hideWidgets();\n        }));\n        this._toUnhook.add(this._editor.onDidChangeModelContent(() => this._cancelScheduler()));\n        this._toUnhook.add(this._editor.onDidScrollChange((e) => this._onEditorScrollChanged(e)));\n    }\n    _cancelScheduler() {\n        this._mouseMoveEvent = undefined;\n        this._reactToEditorMouseMoveRunner.cancel();\n    }\n    _unhookEvents() {\n        this._toUnhook.clear();\n    }\n    _onEditorScrollChanged(e) {\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        var _a;\n        this._isMouseDown = true;\n        const target = mouseEvent.target;\n        if (target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n            this._hoverClicked = true;\n            // mouse down on top of content hover widget\n            return;\n        }\n        if (target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n            // mouse down on top of overlay hover widget\n            return;\n        }\n        if (target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n            this._hoverClicked = false;\n        }\n        if (!((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing)) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseUp(mouseEvent) {\n        this._isMouseDown = false;\n    }\n    _onEditorMouseLeave(mouseEvent) {\n        var _a, _b;\n        this._cancelScheduler();\n        const targetEm = (mouseEvent.event.browserEvent.relatedTarget);\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.containsNode(targetEm))) {\n            // When the content widget is resizing\n            // when the mouse is inside hover widget\n            return;\n        }\n        if (!_sticky) {\n            this._hideWidgets();\n        }\n    }\n    _isMouseOverWidget(mouseEvent) {\n        var _a, _b, _c, _d, _e;\n        const target = mouseEvent.target;\n        if (this._isHoverSticky\n            && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */\n            && target.detail === ContentHoverWidget.ID) {\n            // mouse moved on top of content hover widget\n            return true;\n        }\n        if (this._isHoverSticky\n            && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.containsNode((_b = mouseEvent.event.browserEvent.view) === null || _b === void 0 ? void 0 : _b.document.activeElement))\n            && !((_d = (_c = mouseEvent.event.browserEvent.view) === null || _c === void 0 ? void 0 : _c.getSelection()) === null || _d === void 0 ? void 0 : _d.isCollapsed)) {\n            // selected text within content hover widget\n            return true;\n        }\n        if (!this._isHoverSticky\n            && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */\n            && target.detail === ContentHoverWidget.ID\n            && ((_e = this._contentWidget) === null || _e === void 0 ? void 0 : _e.isColorPickerVisible)) {\n            // though the hover is not sticky, the color picker needs to.\n            return true;\n        }\n        if (this._isHoverSticky\n            && target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */\n            && target.detail === MarginHoverWidget.ID) {\n            // mouse moved on top of overlay hover widget\n            return true;\n        }\n        return false;\n    }\n    _onEditorMouseMove(mouseEvent) {\n        var _a, _b, _c, _d;\n        this._mouseMoveEvent = mouseEvent;\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n            return;\n        }\n        if (this._isMouseDown && this._hoverClicked) {\n            return;\n        }\n        if (this._isHoverSticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isVisibleFromKeyboard)) {\n            // Sticky mode is on and the hover has been shown via keyboard\n            // so moving the mouse has no effect\n            return;\n        }\n        const mouseIsOverWidget = this._isMouseOverWidget(mouseEvent);\n        // If the mouse is over the widget and the hiding timeout is defined, then cancel it\n        if (mouseIsOverWidget) {\n            this._reactToEditorMouseMoveRunner.cancel();\n            return;\n        }\n        // If the mouse is not over the widget, and if sticky is on,\n        // then give it a grace period before reacting to the mouse event\n        if (((_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.isVisible) && this._isHoverSticky && this._hidingDelay > 0) {\n            if (!this._reactToEditorMouseMoveRunner.isScheduled()) {\n                this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);\n            }\n            return;\n        }\n        this._reactToEditorMouseMove(mouseEvent);\n    }\n    _reactToEditorMouseMove(mouseEvent) {\n        var _a, _b, _c;\n        if (!mouseEvent) {\n            return;\n        }\n        const target = mouseEvent.target;\n        const mouseOnDecorator = (_a = target.element) === null || _a === void 0 ? void 0 : _a.classList.contains('colorpicker-color-decoration');\n        const decoratorActivatedOn = this._editor.getOption(146 /* EditorOption.colorDecoratorsActivatedOn */);\n        if ((mouseOnDecorator && ((decoratorActivatedOn === 'click' && !this._hoverActivatedByColorDecoratorClick) ||\n            (decoratorActivatedOn === 'hover' && !this._isHoverEnabled && !_sticky) ||\n            (decoratorActivatedOn === 'clickAndHover' && !this._isHoverEnabled && !this._hoverActivatedByColorDecoratorClick)))\n            || !mouseOnDecorator && !this._isHoverEnabled && !this._hoverActivatedByColorDecoratorClick) {\n            this._hideWidgets();\n            return;\n        }\n        const contentWidget = this._getOrCreateContentWidget();\n        if (contentWidget.maybeShowAt(mouseEvent)) {\n            (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n            return;\n        }\n        if (target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ && target.position) {\n            (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n            if (!this._glyphWidget) {\n                this._glyphWidget = new MarginHoverWidget(this._editor, this._languageService, this._openerService);\n            }\n            this._glyphWidget.startShowingAt(target.position.lineNumber);\n            return;\n        }\n        if (_sticky) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _onKeyDown(e) {\n        var _a;\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n        // If the beginning of a multi-chord keybinding is pressed, or the command aims to focus the hover, set the variable to true, otherwise false\n        const mightTriggerFocus = (resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ || (resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */ && resolvedKeyboardEvent.commandId === 'editor.action.showHover' && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible)));\n        if (e.keyCode !== 5 /* KeyCode.Ctrl */ && e.keyCode !== 6 /* KeyCode.Alt */ && e.keyCode !== 57 /* KeyCode.Meta */ && e.keyCode !== 4 /* KeyCode.Shift */\n            && !mightTriggerFocus) {\n            // Do not hide hover when a modifier key is pressed\n            this._hideWidgets();\n        }\n    }\n    _hideWidgets() {\n        var _a, _b, _c;\n        if (_sticky) {\n            return;\n        }\n        if ((this._isMouseDown && this._hoverClicked && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible)) || InlineSuggestionHintsContentWidget.dropDownVisible) {\n            return;\n        }\n        this._hoverActivatedByColorDecoratorClick = false;\n        this._hoverClicked = false;\n        (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n        (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n    }\n    _getOrCreateContentWidget() {\n        if (!this._contentWidget) {\n            this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n        }\n        return this._contentWidget;\n    }\n    showContentHover(range, mode, source, focus, activatedByColorDecoratorClick = false) {\n        this._hoverActivatedByColorDecoratorClick = activatedByColorDecoratorClick;\n        this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n    }\n    focus() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    scrollUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n    }\n    scrollDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n    }\n    scrollLeft() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n    }\n    scrollRight() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n    }\n    pageUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n    }\n    pageDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n    }\n    goToTop() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n    }\n    goToBottom() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n    }\n    get isColorPickerVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n    }\n    get isHoverVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n    }\n    dispose() {\n        var _a, _b;\n        super.dispose();\n        this._unhookEvents();\n        this._toUnhook.dispose();\n        (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n    }\n};\nModesHoverController.ID = 'editor.contrib.hover';\nModesHoverController = ModesHoverController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IOpenerService),\n    __param(3, ILanguageService),\n    __param(4, IKeybindingService)\n], ModesHoverController);\nexport { ModesHoverController };\nvar HoverFocusBehavior;\n(function (HoverFocusBehavior) {\n    HoverFocusBehavior[\"NoAutoFocus\"] = \"noAutoFocus\";\n    HoverFocusBehavior[\"FocusIfVisible\"] = \"focusIfVisible\";\n    HoverFocusBehavior[\"AutoFocusImmediately\"] = \"autoFocusImmediately\";\n})(HoverFocusBehavior || (HoverFocusBehavior = {}));\nclass ShowOrFocusHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showHover',\n            label: nls.localize({\n                key: 'showOrFocusHover',\n                comment: [\n                    'Label for action that will trigger the showing/focusing of a hover in the editor.',\n                    'If the hover is not visible, it will show the hover.',\n                    'This allows for users to show the hover without using the mouse.'\n                ]\n            }, \"Show or Focus Hover\"),\n            metadata: {\n                description: `Show or Focus Hover`,\n                args: [{\n                        name: 'args',\n                        schema: {\n                            type: 'object',\n                            properties: {\n                                'focus': {\n                                    description: 'Controls if and when the hover should take focus upon being triggered by this action.',\n                                    enum: [HoverFocusBehavior.NoAutoFocus, HoverFocusBehavior.FocusIfVisible, HoverFocusBehavior.AutoFocusImmediately],\n                                    enumDescriptions: [\n                                        nls.localize('showOrFocusHover.focus.noAutoFocus', 'The hover will not automatically take focus.'),\n                                        nls.localize('showOrFocusHover.focus.focusIfVisible', 'The hover will take focus only if it is already visible.'),\n                                        nls.localize('showOrFocusHover.focus.autoFocusImmediately', 'The hover will automatically take focus when it appears.'),\n                                    ],\n                                    default: HoverFocusBehavior.FocusIfVisible,\n                                }\n                            },\n                        }\n                    }]\n            },\n            alias: 'Show or Focus Hover',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 39 /* KeyCode.KeyI */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const focusArgument = args === null || args === void 0 ? void 0 : args.focus;\n        let focusOption = HoverFocusBehavior.FocusIfVisible;\n        if (focusArgument in HoverFocusBehavior) {\n            focusOption = focusArgument;\n        }\n        else if (typeof focusArgument === 'boolean' && focusArgument) {\n            focusOption = HoverFocusBehavior.AutoFocusImmediately;\n        }\n        const showContentHover = (focus) => {\n            const position = editor.getPosition();\n            const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n            controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, focus);\n        };\n        const accessibilitySupportEnabled = editor.getOption(2 /* EditorOption.accessibilitySupport */) === 2 /* AccessibilitySupport.Enabled */;\n        if (controller.isHoverVisible) {\n            if (focusOption !== HoverFocusBehavior.NoAutoFocus) {\n                controller.focus();\n            }\n            else {\n                showContentHover(accessibilitySupportEnabled);\n            }\n        }\n        else {\n            showContentHover(accessibilitySupportEnabled || focusOption === HoverFocusBehavior.AutoFocusImmediately);\n        }\n    }\n}\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showDefinitionPreviewHover',\n            label: nls.localize({\n                key: 'showDefinitionPreviewHover',\n                comment: [\n                    'Label for action that will trigger the showing of definition preview hover in the editor.',\n                    'This allows for users to show the definition preview hover without using the mouse.'\n                ]\n            }, \"Show Definition Preview Hover\"),\n            alias: 'Show Definition Preview Hover',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const position = editor.getPosition();\n        if (!position) {\n            return;\n        }\n        const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\n        if (!goto) {\n            return;\n        }\n        const promise = goto.startFindDefinitionFromCursor(position);\n        promise.then(() => {\n            controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, true);\n        });\n    }\n}\nclass ScrollUpHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollUpHover',\n            label: nls.localize({\n                key: 'scrollUpHover',\n                comment: [\n                    'Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Up Hover\"),\n            alias: 'Scroll Up Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 16 /* KeyCode.UpArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollUp();\n    }\n}\nclass ScrollDownHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollDownHover',\n            label: nls.localize({\n                key: 'scrollDownHover',\n                comment: [\n                    'Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Down Hover\"),\n            alias: 'Scroll Down Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 18 /* KeyCode.DownArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollDown();\n    }\n}\nclass ScrollLeftHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollLeftHover',\n            label: nls.localize({\n                key: 'scrollLeftHover',\n                comment: [\n                    'Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Left Hover\"),\n            alias: 'Scroll Left Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 15 /* KeyCode.LeftArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollLeft();\n    }\n}\nclass ScrollRightHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollRightHover',\n            label: nls.localize({\n                key: 'scrollRightHover',\n                comment: [\n                    'Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Right Hover\"),\n            alias: 'Scroll Right Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 17 /* KeyCode.RightArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollRight();\n    }\n}\nclass PageUpHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pageUpHover',\n            label: nls.localize({\n                key: 'pageUpHover',\n                comment: [\n                    'Action that allows to page up in the hover widget with the page up command when the hover widget is focused.'\n                ]\n            }, \"Page Up Hover\"),\n            alias: 'Page Up Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 11 /* KeyCode.PageUp */,\n                secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.pageUp();\n    }\n}\nclass PageDownHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pageDownHover',\n            label: nls.localize({\n                key: 'pageDownHover',\n                comment: [\n                    'Action that allows to page down in the hover widget with the page down command when the hover widget is focused.'\n                ]\n            }, \"Page Down Hover\"),\n            alias: 'Page Down Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 12 /* KeyCode.PageDown */,\n                secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.pageDown();\n    }\n}\nclass GoToTopHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToTopHover',\n            label: nls.localize({\n                key: 'goToTopHover',\n                comment: [\n                    'Action that allows to go to the top of the hover widget with the home command when the hover widget is focused.'\n                ]\n            }, \"Go To Top Hover\"),\n            alias: 'Go To Bottom Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 14 /* KeyCode.Home */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.goToTop();\n    }\n}\nclass GoToBottomHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToBottomHover',\n            label: nls.localize({\n                key: 'goToBottomHover',\n                comment: [\n                    'Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused.'\n                ]\n            }, \"Go To Bottom Hover\"),\n            alias: 'Go To Bottom Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 13 /* KeyCode.End */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ModesHoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.goToBottom();\n    }\n}\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowOrFocusHoverAction);\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\nregisterEditorAction(ScrollUpHoverAction);\nregisterEditorAction(ScrollDownHoverAction);\nregisterEditorAction(ScrollLeftHoverAction);\nregisterEditorAction(ScrollRightHoverAction);\nregisterEditorAction(PageUpHoverAction);\nregisterEditorAction(PageDownHoverAction);\nregisterEditorAction(GoToTopHoverAction);\nregisterEditorAction(GoToBottomHoverAction);\nHoverParticipantRegistry.register(MarkdownHoverParticipant);\nHoverParticipantRegistry.register(MarkerHoverParticipant);\n// theming\nregisterThemingParticipant((theme, collector) => {\n    const hoverBorder = theme.getColor(editorHoverBorder);\n    if (hoverBorder) {\n        collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}