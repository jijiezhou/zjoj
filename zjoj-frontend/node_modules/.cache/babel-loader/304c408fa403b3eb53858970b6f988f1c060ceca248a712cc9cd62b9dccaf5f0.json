{"ast":null,"code":"import { ref, reactive } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nconst useColumnResize = (thRefs, emit) => {\n  const resizingColumn = ref(\"\");\n  const columnWidth = reactive({});\n  const handleThMouseDown = (dataIndex, ev) => {\n    ev.preventDefault();\n    resizingColumn.value = dataIndex;\n    on(window, \"mousemove\", handleThMouseMoving);\n    on(window, \"mouseup\", handleThMouseUp);\n    on(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseUp = () => {\n    resizingColumn.value = \"\";\n    off(window, \"mousemove\", handleThMouseMoving);\n    off(window, \"mouseup\", handleThMouseUp);\n    off(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseMoving = ev => {\n    const element = thRefs.value[resizingColumn.value];\n    if (element) {\n      const {\n        clientX\n      } = ev;\n      const {\n        x\n      } = element.getBoundingClientRect();\n      let width = Math.ceil(clientX - x);\n      if (width < 40) {\n        width = 40;\n      }\n      columnWidth[resizingColumn.value] = width;\n      emit(\"columnResize\", resizingColumn.value, width);\n    }\n  };\n  return {\n    resizingColumn,\n    columnWidth,\n    handleThMouseDown,\n    handleThMouseUp\n  };\n};\nexport { useColumnResize };","map":{"version":3,"names":["ref","reactive","on","off","useColumnResize","thRefs","emit","resizingColumn","columnWidth","handleThMouseDown","dataIndex","ev","preventDefault","value","window","handleThMouseMoving","handleThMouseUp","element","clientX","x","getBoundingClientRect","width","Math","ceil"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/table/hooks/use-column-resize.js"],"sourcesContent":["import { ref, reactive } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nconst useColumnResize = (thRefs, emit) => {\n  const resizingColumn = ref(\"\");\n  const columnWidth = reactive({});\n  const handleThMouseDown = (dataIndex, ev) => {\n    ev.preventDefault();\n    resizingColumn.value = dataIndex;\n    on(window, \"mousemove\", handleThMouseMoving);\n    on(window, \"mouseup\", handleThMouseUp);\n    on(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseUp = () => {\n    resizingColumn.value = \"\";\n    off(window, \"mousemove\", handleThMouseMoving);\n    off(window, \"mouseup\", handleThMouseUp);\n    off(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseMoving = (ev) => {\n    const element = thRefs.value[resizingColumn.value];\n    if (element) {\n      const { clientX } = ev;\n      const { x } = element.getBoundingClientRect();\n      let width = Math.ceil(clientX - x);\n      if (width < 40) {\n        width = 40;\n      }\n      columnWidth[resizingColumn.value] = width;\n      emit(\"columnResize\", resizingColumn.value, width);\n    }\n  };\n  return {\n    resizingColumn,\n    columnWidth,\n    handleThMouseDown,\n    handleThMouseUp\n  };\n};\nexport { useColumnResize };\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,SAASC,EAAE,EAAEC,GAAG,QAAQ,qBAAqB;AAC7C,MAAMC,eAAe,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EACxC,MAAMC,cAAc,GAAGP,GAAG,CAAC,EAAE,CAAC;EAC9B,MAAMQ,WAAW,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChC,MAAMQ,iBAAiB,GAAGA,CAACC,SAAS,EAAEC,EAAE,KAAK;IAC3CA,EAAE,CAACC,cAAc,CAAC,CAAC;IACnBL,cAAc,CAACM,KAAK,GAAGH,SAAS;IAChCR,EAAE,CAACY,MAAM,EAAE,WAAW,EAAEC,mBAAmB,CAAC;IAC5Cb,EAAE,CAACY,MAAM,EAAE,SAAS,EAAEE,eAAe,CAAC;IACtCd,EAAE,CAACY,MAAM,EAAE,aAAa,EAAEE,eAAe,CAAC;EAC5C,CAAC;EACD,MAAMA,eAAe,GAAGA,CAAA,KAAM;IAC5BT,cAAc,CAACM,KAAK,GAAG,EAAE;IACzBV,GAAG,CAACW,MAAM,EAAE,WAAW,EAAEC,mBAAmB,CAAC;IAC7CZ,GAAG,CAACW,MAAM,EAAE,SAAS,EAAEE,eAAe,CAAC;IACvCb,GAAG,CAACW,MAAM,EAAE,aAAa,EAAEE,eAAe,CAAC;EAC7C,CAAC;EACD,MAAMD,mBAAmB,GAAIJ,EAAE,IAAK;IAClC,MAAMM,OAAO,GAAGZ,MAAM,CAACQ,KAAK,CAACN,cAAc,CAACM,KAAK,CAAC;IAClD,IAAII,OAAO,EAAE;MACX,MAAM;QAAEC;MAAQ,CAAC,GAAGP,EAAE;MACtB,MAAM;QAAEQ;MAAE,CAAC,GAAGF,OAAO,CAACG,qBAAqB,CAAC,CAAC;MAC7C,IAAIC,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACL,OAAO,GAAGC,CAAC,CAAC;MAClC,IAAIE,KAAK,GAAG,EAAE,EAAE;QACdA,KAAK,GAAG,EAAE;MACZ;MACAb,WAAW,CAACD,cAAc,CAACM,KAAK,CAAC,GAAGQ,KAAK;MACzCf,IAAI,CAAC,cAAc,EAAEC,cAAc,CAACM,KAAK,EAAEQ,KAAK,CAAC;IACnD;EACF,CAAC;EACD,OAAO;IACLd,cAAc;IACdC,WAAW;IACXC,iBAAiB;IACjBO;EACF,CAAC;AACH,CAAC;AACD,SAASZ,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}