{"ast":null,"code":"import { defineComponent, toRefs, h } from \"vue\";\nimport RenderFunction from \"../_components/render-function.js\";\nimport IconLoading from \"../icon/icon-loading/index.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconCaretDown from \"../icon/icon-caret-down/index.js\";\nimport IconFile from \"../icon/icon-file/index.js\";\nimport useTreeContext from \"./hooks/use-tree-context.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nvar _sfc_main = defineComponent({\n  name: \"TreeNodeSwitcher\",\n  components: {\n    IconLoading,\n    RenderFunction\n  },\n  props: {\n    prefixCls: String,\n    loading: Boolean,\n    showLine: Boolean,\n    treeNodeData: {\n      type: Object\n    },\n    icons: {\n      type: Object\n    },\n    nodeStatus: {\n      type: Object\n    }\n  },\n  emits: [\"click\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      icons,\n      nodeStatus,\n      treeNodeData\n    } = toRefs(props);\n    const treeContext = useTreeContext();\n    const nodeSwitcherIcon = usePickSlots(slots, \"switcher-icon\");\n    const nodeLoadingIcon = usePickSlots(slots, \"loading-icon\");\n    return {\n      getSwitcherIcon: () => {\n        var _a, _b, _c;\n        const icon = (_b = (_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.switcherIcon) != null ? _b : nodeSwitcherIcon.value;\n        return icon ? icon(nodeStatus.value) : (_c = treeContext.switcherIcon) == null ? void 0 : _c.call(treeContext, treeNodeData.value, nodeStatus.value);\n      },\n      getLoadingIcon: () => {\n        var _a, _b, _c;\n        const icon = (_b = (_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.loadingIcon) != null ? _b : nodeLoadingIcon.value;\n        return icon ? icon(nodeStatus.value) : (_c = treeContext.loadingIcon) == null ? void 0 : _c.call(treeContext, treeNodeData.value, nodeStatus.value);\n      },\n      onClick(e) {\n        emit(\"click\", e);\n      }\n    };\n  },\n  render() {\n    var _a, _b, _c;\n    const {\n      prefixCls,\n      getSwitcherIcon,\n      getLoadingIcon,\n      onClick,\n      nodeStatus = {},\n      loading,\n      showLine\n    } = this;\n    const {\n      expanded,\n      isLeaf\n    } = nodeStatus;\n    if (loading) {\n      return (_a = getLoadingIcon()) != null ? _a : h(IconLoading);\n    }\n    let icon = null;\n    let needIconHover = false;\n    if (!isLeaf) {\n      const defaultIcon = showLine ? h(\"span\", {\n        class: `${prefixCls}-${expanded ? \"minus\" : \"plus\"}-icon`\n      }) : h(IconCaretDown);\n      icon = (_b = getSwitcherIcon()) != null ? _b : defaultIcon;\n      needIconHover = !showLine;\n    } else if (showLine) {\n      icon = (_c = getSwitcherIcon()) != null ? _c : h(IconFile);\n    }\n    if (!icon) return null;\n    const content = h(\"span\", {\n      class: `${prefixCls}-switcher-icon`,\n      onClick\n    }, icon);\n    return needIconHover ? h(IconHover, {\n      class: `${prefixCls}-icon-hover`\n    }, () => content) : content;\n  }\n});\nexport { _sfc_main as default };","map":{"version":3,"names":["defineComponent","toRefs","h","RenderFunction","IconLoading","IconHover","IconCaretDown","IconFile","useTreeContext","usePickSlots","_sfc_main","name","components","props","prefixCls","String","loading","Boolean","showLine","treeNodeData","type","Object","icons","nodeStatus","emits","setup","slots","emit","treeContext","nodeSwitcherIcon","nodeLoadingIcon","getSwitcherIcon","_a","_b","_c","icon","value","switcherIcon","call","getLoadingIcon","loadingIcon","onClick","e","render","expanded","isLeaf","needIconHover","defaultIcon","class","content","default"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/tree/node-switcher.vue_vue&type=script&lang.js"],"sourcesContent":["import { defineComponent, toRefs, h } from \"vue\";\nimport RenderFunction from \"../_components/render-function.js\";\nimport IconLoading from \"../icon/icon-loading/index.js\";\nimport IconHover from \"../_components/icon-hover.js\";\nimport IconCaretDown from \"../icon/icon-caret-down/index.js\";\nimport IconFile from \"../icon/icon-file/index.js\";\nimport useTreeContext from \"./hooks/use-tree-context.js\";\nimport usePickSlots from \"../_hooks/use-pick-slots.js\";\nvar _sfc_main = defineComponent({\n  name: \"TreeNodeSwitcher\",\n  components: {\n    IconLoading,\n    RenderFunction\n  },\n  props: {\n    prefixCls: String,\n    loading: Boolean,\n    showLine: Boolean,\n    treeNodeData: {\n      type: Object\n    },\n    icons: {\n      type: Object\n    },\n    nodeStatus: {\n      type: Object\n    }\n  },\n  emits: [\"click\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      icons,\n      nodeStatus,\n      treeNodeData\n    } = toRefs(props);\n    const treeContext = useTreeContext();\n    const nodeSwitcherIcon = usePickSlots(slots, \"switcher-icon\");\n    const nodeLoadingIcon = usePickSlots(slots, \"loading-icon\");\n    return {\n      getSwitcherIcon: () => {\n        var _a, _b, _c;\n        const icon = (_b = (_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.switcherIcon) != null ? _b : nodeSwitcherIcon.value;\n        return icon ? icon(nodeStatus.value) : (_c = treeContext.switcherIcon) == null ? void 0 : _c.call(treeContext, treeNodeData.value, nodeStatus.value);\n      },\n      getLoadingIcon: () => {\n        var _a, _b, _c;\n        const icon = (_b = (_a = icons == null ? void 0 : icons.value) == null ? void 0 : _a.loadingIcon) != null ? _b : nodeLoadingIcon.value;\n        return icon ? icon(nodeStatus.value) : (_c = treeContext.loadingIcon) == null ? void 0 : _c.call(treeContext, treeNodeData.value, nodeStatus.value);\n      },\n      onClick(e) {\n        emit(\"click\", e);\n      }\n    };\n  },\n  render() {\n    var _a, _b, _c;\n    const {\n      prefixCls,\n      getSwitcherIcon,\n      getLoadingIcon,\n      onClick,\n      nodeStatus = {},\n      loading,\n      showLine\n    } = this;\n    const {\n      expanded,\n      isLeaf\n    } = nodeStatus;\n    if (loading) {\n      return (_a = getLoadingIcon()) != null ? _a : h(IconLoading);\n    }\n    let icon = null;\n    let needIconHover = false;\n    if (!isLeaf) {\n      const defaultIcon = showLine ? h(\"span\", {\n        class: `${prefixCls}-${expanded ? \"minus\" : \"plus\"}-icon`\n      }) : h(IconCaretDown);\n      icon = (_b = getSwitcherIcon()) != null ? _b : defaultIcon;\n      needIconHover = !showLine;\n    } else if (showLine) {\n      icon = (_c = getSwitcherIcon()) != null ? _c : h(IconFile);\n    }\n    if (!icon)\n      return null;\n    const content = h(\"span\", {\n      class: `${prefixCls}-switcher-icon`,\n      onClick\n    }, icon);\n    return needIconHover ? h(IconHover, {\n      class: `${prefixCls}-icon-hover`\n    }, () => content) : content;\n  }\n});\nexport { _sfc_main as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}