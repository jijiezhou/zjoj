{"ast":null,"code":"import { computed, ref, watch } from \"vue\";\nimport { isArray } from \"../../_utils/is.js\";\nconst useColumnFilter = ({\n  column,\n  tableCtx\n}) => {\n  const filterValue = computed(() => {\n    var _a;\n    if (column.value.dataIndex && ((_a = tableCtx.filters) == null ? void 0 : _a[column.value.dataIndex])) {\n      return tableCtx.filters[column.value.dataIndex];\n    }\n    return [];\n  });\n  const filterPopupVisible = ref(false);\n  const isFilterActive = computed(() => filterValue.value.length > 0);\n  const isMultipleFilter = computed(() => {\n    var _a;\n    return Boolean((_a = column.value.filterable) == null ? void 0 : _a.multiple);\n  });\n  const columnFilterValue = ref(filterValue.value);\n  watch(filterValue, value => {\n    if (isArray(value) && String(value) !== String(columnFilterValue.value)) {\n      columnFilterValue.value = value;\n    }\n  });\n  const handleFilterPopupVisibleChange = value => {\n    filterPopupVisible.value = value;\n  };\n  const setFilterValue = filterValue2 => {\n    columnFilterValue.value = filterValue2;\n  };\n  const handleCheckboxFilterChange = values => {\n    setFilterValue(values);\n  };\n  const handleRadioFilterChange = value => {\n    setFilterValue([value]);\n  };\n  const handleFilterConfirm = ev => {\n    var _a;\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  const handleFilterReset = ev => {\n    var _a;\n    setFilterValue([]);\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  return {\n    filterPopupVisible,\n    isFilterActive,\n    isMultipleFilter,\n    columnFilterValue,\n    handleFilterPopupVisibleChange,\n    setFilterValue,\n    handleCheckboxFilterChange,\n    handleRadioFilterChange,\n    handleFilterConfirm,\n    handleFilterReset\n  };\n};\nexport { useColumnFilter };","map":{"version":3,"names":["computed","ref","watch","isArray","useColumnFilter","column","tableCtx","filterValue","_a","value","dataIndex","filters","filterPopupVisible","isFilterActive","length","isMultipleFilter","Boolean","filterable","multiple","columnFilterValue","String","handleFilterPopupVisibleChange","setFilterValue","filterValue2","handleCheckboxFilterChange","values","handleRadioFilterChange","handleFilterConfirm","ev","onFilterChange","call","handleFilterReset"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/table/hooks/use-column-filter.js"],"sourcesContent":["import { computed, ref, watch } from \"vue\";\nimport { isArray } from \"../../_utils/is.js\";\nconst useColumnFilter = ({\n  column,\n  tableCtx\n}) => {\n  const filterValue = computed(() => {\n    var _a;\n    if (column.value.dataIndex && ((_a = tableCtx.filters) == null ? void 0 : _a[column.value.dataIndex])) {\n      return tableCtx.filters[column.value.dataIndex];\n    }\n    return [];\n  });\n  const filterPopupVisible = ref(false);\n  const isFilterActive = computed(() => filterValue.value.length > 0);\n  const isMultipleFilter = computed(() => {\n    var _a;\n    return Boolean((_a = column.value.filterable) == null ? void 0 : _a.multiple);\n  });\n  const columnFilterValue = ref(filterValue.value);\n  watch(filterValue, (value) => {\n    if (isArray(value) && String(value) !== String(columnFilterValue.value)) {\n      columnFilterValue.value = value;\n    }\n  });\n  const handleFilterPopupVisibleChange = (value) => {\n    filterPopupVisible.value = value;\n  };\n  const setFilterValue = (filterValue2) => {\n    columnFilterValue.value = filterValue2;\n  };\n  const handleCheckboxFilterChange = (values) => {\n    setFilterValue(values);\n  };\n  const handleRadioFilterChange = (value) => {\n    setFilterValue([value]);\n  };\n  const handleFilterConfirm = (ev) => {\n    var _a;\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  const handleFilterReset = (ev) => {\n    var _a;\n    setFilterValue([]);\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  return {\n    filterPopupVisible,\n    isFilterActive,\n    isMultipleFilter,\n    columnFilterValue,\n    handleFilterPopupVisibleChange,\n    setFilterValue,\n    handleCheckboxFilterChange,\n    handleRadioFilterChange,\n    handleFilterConfirm,\n    handleFilterReset\n  };\n};\nexport { useColumnFilter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}