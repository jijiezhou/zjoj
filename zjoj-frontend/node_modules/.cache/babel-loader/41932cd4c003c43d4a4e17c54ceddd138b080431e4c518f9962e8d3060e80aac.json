{"ast":null,"code":"var __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\nimport { watch, unref, getCurrentScope, onScopeDispose } from \"vue\";\nconst defaultWindow = typeof window !== \"undefined\" ? window : void 0;\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = unref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction useMutationObserver(target, callback, options = {}) {\n  const _a = options,\n    {\n      window: window2 = defaultWindow\n    } = _a,\n    mutationOptions = __objRest(_a, [\"window\"]);\n  const isSupported = window2 && \"MutationObserver\" in window2;\n  let observer;\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(() => unrefElement(target), el => {\n    cleanup();\n    if (isSupported && window2 && el) {\n      observer = new MutationObserver(callback);\n      observer.observe(el, mutationOptions);\n    }\n  }, {\n    immediate: true\n  });\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\nexport { defaultWindow, tryOnScopeDispose, unrefElement, useMutationObserver };","map":{"version":3,"names":["__getOwnPropSymbols","Object","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__objRest","source","exclude","target","prop","call","indexOf","watch","unref","getCurrentScope","onScopeDispose","defaultWindow","window","unrefElement","elRef","_a","plain","$el","tryOnScopeDispose","fn","useMutationObserver","callback","options","window2","mutationOptions","isSupported","observer","cleanup","disconnect","stopWatch","el","MutationObserver","observe","immediate","stop"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/watermark/hooks/use-mutation-observer.js"],"sourcesContent":["var __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nimport { watch, unref, getCurrentScope, onScopeDispose } from \"vue\";\nconst defaultWindow = typeof window !== \"undefined\" ? window : void 0;\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = unref(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction useMutationObserver(target, callback, options = {}) {\n  const _a = options, { window: window2 = defaultWindow } = _a, mutationOptions = __objRest(_a, [\"window\"]);\n  const isSupported = window2 && \"MutationObserver\" in window2;\n  let observer;\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(() => unrefElement(target), (el) => {\n    cleanup();\n    if (isSupported && window2 && el) {\n      observer = new MutationObserver(callback);\n      observer.observe(el, mutationOptions);\n    }\n  }, { immediate: true });\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\nexport { defaultWindow, tryOnScopeDispose, unrefElement, useMutationObserver };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}