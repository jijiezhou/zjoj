{"ast":null,"code":"import Base from './base.js';\nvar CustomValidator = /*@__PURE__*/function (Base) {\n  function CustomValidator(obj, options) {\n    Base.call(this, obj, Object.assign(Object.assign({}, options), {\n      type: 'custom'\n    }));\n  }\n  if (Base) CustomValidator.__proto__ = Base;\n  CustomValidator.prototype = Object.create(Base && Base.prototype);\n  CustomValidator.prototype.constructor = CustomValidator;\n  var prototypeAccessors = {\n    validate: {\n      configurable: true\n    }\n  };\n  // @ts-ignore\n  prototypeAccessors.validate.get = function () {\n    var _this = this;\n    return function (validator, callback) {\n      var ret;\n      if (validator) {\n        ret = validator(_this.obj, _this.addError.bind(_this));\n        if (ret && ret.then) {\n          if (callback) {\n            ret.then(function () {\n              callback && callback(_this.error);\n            }, function (e) {\n              console.error(e);\n            });\n          }\n          return [ret, _this];\n        } else {\n          callback && callback(_this.error);\n          return _this.error;\n        }\n      }\n    };\n  };\n  Object.defineProperties(CustomValidator.prototype, prototypeAccessors);\n  return CustomValidator;\n}(Base);\nexport { CustomValidator as default };","map":{"version":3,"names":["Base","CustomValidator","obj","options","call","Object","assign","type","__proto__","prototype","create","constructor","prototypeAccessors","validate","configurable","get","_this","validator","callback","ret","addError","bind","then","error","e","console","defineProperties","default"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/b-validate/es/rules/custom.js"],"sourcesContent":["import Base from './base.js';\n\nvar CustomValidator = /*@__PURE__*/(function (Base) {\n    function CustomValidator(obj, options) {\n        Base.call(this, obj, Object.assign(Object.assign({}, options), { type: 'custom' }));\n    }\n\n    if ( Base ) CustomValidator.__proto__ = Base;\n    CustomValidator.prototype = Object.create( Base && Base.prototype );\n    CustomValidator.prototype.constructor = CustomValidator;\n\n    var prototypeAccessors = { validate: { configurable: true } };\n    // @ts-ignore\n    prototypeAccessors.validate.get = function () {\n        var _this = this;\n        return function (validator, callback) {\n            var ret;\n            if (validator) {\n                ret = validator(_this.obj, _this.addError.bind(_this));\n                if (ret && ret.then) {\n                    if (callback) {\n                        ret.then(function () {\n                            callback && callback(_this.error);\n                        }, function (e) {\n                            console.error(e);\n                        });\n                    }\n                    return [ret, _this];\n                }\n                else {\n                    callback && callback(_this.error);\n                    return _this.error;\n                }\n            }\n        };\n    };\n\n    Object.defineProperties( CustomValidator.prototype, prototypeAccessors );\n\n    return CustomValidator;\n}(Base));\n\nexport { CustomValidator as default };\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,WAAW;AAE5B,IAAIC,eAAe,GAAG,aAAc,UAAUD,IAAI,EAAE;EAChD,SAASC,eAAeA,CAACC,GAAG,EAAEC,OAAO,EAAE;IACnCH,IAAI,CAACI,IAAI,CAAC,IAAI,EAAEF,GAAG,EAAEG,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,OAAO,CAAC,EAAE;MAAEI,IAAI,EAAE;IAAS,CAAC,CAAC,CAAC;EACvF;EAEA,IAAKP,IAAI,EAAGC,eAAe,CAACO,SAAS,GAAGR,IAAI;EAC5CC,eAAe,CAACQ,SAAS,GAAGJ,MAAM,CAACK,MAAM,CAAEV,IAAI,IAAIA,IAAI,CAACS,SAAU,CAAC;EACnER,eAAe,CAACQ,SAAS,CAACE,WAAW,GAAGV,eAAe;EAEvD,IAAIW,kBAAkB,GAAG;IAAEC,QAAQ,EAAE;MAAEC,YAAY,EAAE;IAAK;EAAE,CAAC;EAC7D;EACAF,kBAAkB,CAACC,QAAQ,CAACE,GAAG,GAAG,YAAY;IAC1C,IAAIC,KAAK,GAAG,IAAI;IAChB,OAAO,UAAUC,SAAS,EAAEC,QAAQ,EAAE;MAClC,IAAIC,GAAG;MACP,IAAIF,SAAS,EAAE;QACXE,GAAG,GAAGF,SAAS,CAACD,KAAK,CAACd,GAAG,EAAEc,KAAK,CAACI,QAAQ,CAACC,IAAI,CAACL,KAAK,CAAC,CAAC;QACtD,IAAIG,GAAG,IAAIA,GAAG,CAACG,IAAI,EAAE;UACjB,IAAIJ,QAAQ,EAAE;YACVC,GAAG,CAACG,IAAI,CAAC,YAAY;cACjBJ,QAAQ,IAAIA,QAAQ,CAACF,KAAK,CAACO,KAAK,CAAC;YACrC,CAAC,EAAE,UAAUC,CAAC,EAAE;cACZC,OAAO,CAACF,KAAK,CAACC,CAAC,CAAC;YACpB,CAAC,CAAC;UACN;UACA,OAAO,CAACL,GAAG,EAAEH,KAAK,CAAC;QACvB,CAAC,MACI;UACDE,QAAQ,IAAIA,QAAQ,CAACF,KAAK,CAACO,KAAK,CAAC;UACjC,OAAOP,KAAK,CAACO,KAAK;QACtB;MACJ;IACJ,CAAC;EACL,CAAC;EAEDlB,MAAM,CAACqB,gBAAgB,CAAEzB,eAAe,CAACQ,SAAS,EAAEG,kBAAmB,CAAC;EAExE,OAAOX,eAAe;AAC1B,CAAC,CAACD,IAAI,CAAE;AAER,SAASC,eAAe,IAAI0B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}