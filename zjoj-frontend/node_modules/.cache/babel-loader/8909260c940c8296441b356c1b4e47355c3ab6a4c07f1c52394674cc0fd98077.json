{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedKeybindingLabelOptions = {\n  keybindingLabelBackground: undefined,\n  keybindingLabelForeground: undefined,\n  keybindingLabelBorder: undefined,\n  keybindingLabelBottomBorder: undefined,\n  keybindingLabelShadow: undefined\n};\nexport class KeybindingLabel {\n  constructor(container, os, options) {\n    this.os = os;\n    this.keyElements = new Set();\n    this.options = options || Object.create(null);\n    const labelForeground = this.options.keybindingLabelForeground;\n    this.domNode = dom.append(container, $('.monaco-keybinding'));\n    if (labelForeground) {\n      this.domNode.style.color = labelForeground;\n    }\n    this.didEverRender = false;\n    container.appendChild(this.domNode);\n  }\n  get element() {\n    return this.domNode;\n  }\n  set(keybinding, matches) {\n    if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n      return;\n    }\n    this.keybinding = keybinding;\n    this.matches = matches;\n    this.render();\n  }\n  render() {\n    var _a;\n    this.clear();\n    if (this.keybinding) {\n      const chords = this.keybinding.getChords();\n      if (chords[0]) {\n        this.renderChord(this.domNode, chords[0], this.matches ? this.matches.firstPart : null);\n      }\n      for (let i = 1; i < chords.length; i++) {\n        dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n        this.renderChord(this.domNode, chords[i], this.matches ? this.matches.chordPart : null);\n      }\n      const title = ((_a = this.options.disableTitle) !== null && _a !== void 0 ? _a : false) ? undefined : this.keybinding.getAriaLabel() || undefined;\n      if (title !== undefined) {\n        this.domNode.title = title;\n      } else {\n        this.domNode.removeAttribute('title');\n      }\n    } else if (this.options && this.options.renderUnboundKeybindings) {\n      this.renderUnbound(this.domNode);\n    }\n    this.didEverRender = true;\n  }\n  clear() {\n    dom.clearNode(this.domNode);\n    this.keyElements.clear();\n  }\n  renderChord(parent, chord, match) {\n    const modifierLabels = UILabelProvider.modifierLabels[this.os];\n    if (chord.ctrlKey) {\n      this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n    }\n    if (chord.shiftKey) {\n      this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n    }\n    if (chord.altKey) {\n      this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n    }\n    if (chord.metaKey) {\n      this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n    }\n    const keyLabel = chord.keyLabel;\n    if (keyLabel) {\n      this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n    }\n  }\n  renderKey(parent, label, highlight, separator) {\n    dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n    if (separator) {\n      dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n    }\n  }\n  renderUnbound(parent) {\n    dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n  }\n  createKeyElement(label, extraClass = '') {\n    const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n    this.keyElements.add(keyElement);\n    if (this.options.keybindingLabelBackground) {\n      keyElement.style.backgroundColor = this.options.keybindingLabelBackground;\n    }\n    if (this.options.keybindingLabelBorder) {\n      keyElement.style.borderColor = this.options.keybindingLabelBorder;\n    }\n    if (this.options.keybindingLabelBottomBorder) {\n      keyElement.style.borderBottomColor = this.options.keybindingLabelBottomBorder;\n    }\n    if (this.options.keybindingLabelShadow) {\n      keyElement.style.boxShadow = `inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;\n    }\n    return keyElement;\n  }\n  static areSame(a, b) {\n    if (a === b || !a && !b) {\n      return true;\n    }\n    return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n  }\n}","map":{"version":3,"names":["dom","UILabelProvider","equals","localize","$","unthemedKeybindingLabelOptions","keybindingLabelBackground","undefined","keybindingLabelForeground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","KeybindingLabel","constructor","container","os","options","keyElements","Set","Object","create","labelForeground","domNode","append","style","color","didEverRender","appendChild","element","set","keybinding","matches","areSame","render","_a","clear","chords","getChords","renderChord","firstPart","i","length","chordPart","title","disableTitle","getAriaLabel","removeAttribute","renderUnboundKeybindings","renderUnbound","clearNode","parent","chord","match","modifierLabels","ctrlKey","renderKey","Boolean","separator","shiftKey","altKey","metaKey","keyLabel","keyCode","label","highlight","createKeyElement","extraClass","keyElement","add","backgroundColor","borderColor","borderBottomColor","boxShadow","a","b"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedKeybindingLabelOptions = {\n    keybindingLabelBackground: undefined,\n    keybindingLabelForeground: undefined,\n    keybindingLabelBorder: undefined,\n    keybindingLabelBottomBorder: undefined,\n    keybindingLabelShadow: undefined\n};\nexport class KeybindingLabel {\n    constructor(container, os, options) {\n        this.os = os;\n        this.keyElements = new Set();\n        this.options = options || Object.create(null);\n        const labelForeground = this.options.keybindingLabelForeground;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        if (labelForeground) {\n            this.domNode.style.color = labelForeground;\n        }\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    get element() {\n        return this.domNode;\n    }\n    set(keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    }\n    render() {\n        var _a;\n        this.clear();\n        if (this.keybinding) {\n            const chords = this.keybinding.getChords();\n            if (chords[0]) {\n                this.renderChord(this.domNode, chords[0], this.matches ? this.matches.firstPart : null);\n            }\n            for (let i = 1; i < chords.length; i++) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n                this.renderChord(this.domNode, chords[i], this.matches ? this.matches.chordPart : null);\n            }\n            const title = ((_a = this.options.disableTitle) !== null && _a !== void 0 ? _a : false) ? undefined : this.keybinding.getAriaLabel() || undefined;\n            if (title !== undefined) {\n                this.domNode.title = title;\n            }\n            else {\n                this.domNode.removeAttribute('title');\n            }\n        }\n        else if (this.options && this.options.renderUnboundKeybindings) {\n            this.renderUnbound(this.domNode);\n        }\n        this.didEverRender = true;\n    }\n    clear() {\n        dom.clearNode(this.domNode);\n        this.keyElements.clear();\n    }\n    renderChord(parent, chord, match) {\n        const modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (chord.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n        }\n        if (chord.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n        }\n        if (chord.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n        }\n        if (chord.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n        }\n        const keyLabel = chord.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n        }\n    }\n    renderKey(parent, label, highlight, separator) {\n        dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n        }\n    }\n    renderUnbound(parent) {\n        dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n    }\n    createKeyElement(label, extraClass = '') {\n        const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n        this.keyElements.add(keyElement);\n        if (this.options.keybindingLabelBackground) {\n            keyElement.style.backgroundColor = this.options.keybindingLabelBackground;\n        }\n        if (this.options.keybindingLabelBorder) {\n            keyElement.style.borderColor = this.options.keybindingLabelBorder;\n        }\n        if (this.options.keybindingLabelBottomBorder) {\n            keyElement.style.borderBottomColor = this.options.keybindingLabelBottomBorder;\n        }\n        if (this.options.keybindingLabelShadow) {\n            keyElement.style.boxShadow = `inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;\n        }\n        return keyElement;\n    }\n    static areSame(a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}