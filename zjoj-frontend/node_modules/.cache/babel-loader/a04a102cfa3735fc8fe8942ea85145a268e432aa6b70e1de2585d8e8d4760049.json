{"ast":null,"code":"import { ref, computed } from \"vue\";\nconst useExpand = ({\n  expandedKeys,\n  defaultExpandedKeys,\n  defaultExpandAllRows,\n  expandable,\n  allRowKeys,\n  emit\n}) => {\n  const getDefaultExpandedRowKeys = () => {\n    var _a, _b;\n    if (defaultExpandedKeys.value) {\n      return defaultExpandedKeys.value;\n    }\n    if ((_a = expandable.value) == null ? void 0 : _a.defaultExpandedRowKeys) {\n      return expandable.value.defaultExpandedRowKeys;\n    }\n    if (defaultExpandAllRows.value || ((_b = expandable.value) == null ? void 0 : _b.defaultExpandAllRows)) {\n      return [...allRowKeys.value];\n    }\n    return [];\n  };\n  const _expandedRowKeys = ref(getDefaultExpandedRowKeys());\n  const expandedRowKeys = computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = expandedKeys.value) != null ? _b : (_a = expandable.value) == null ? void 0 : _a.expandedRowKeys) != null ? _c : _expandedRowKeys.value;\n  });\n  const handleExpand = (rowKey, record) => {\n    const isExpanded = expandedRowKeys.value.includes(rowKey);\n    const newExpandedRowKeys = isExpanded ? expandedRowKeys.value.filter(key => rowKey !== key) : expandedRowKeys.value.concat(rowKey);\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expand\", rowKey, record);\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expand = (rowKey, expanded = true) => {\n    const _rowKeys = [].concat(rowKey);\n    const newExpandedRowKeys = expanded ? expandedRowKeys.value.concat(_rowKeys) : expandedRowKeys.value.filter(key => !_rowKeys.includes(key));\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expandAll = (expanded = true) => {\n    const newExpandedRowKeys = expanded ? [...allRowKeys.value] : [];\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  return {\n    expandedRowKeys,\n    handleExpand,\n    expand,\n    expandAll\n  };\n};\nexport { useExpand };","map":{"version":3,"names":["ref","computed","useExpand","expandedKeys","defaultExpandedKeys","defaultExpandAllRows","expandable","allRowKeys","emit","getDefaultExpandedRowKeys","_a","_b","value","defaultExpandedRowKeys","_expandedRowKeys","expandedRowKeys","_c","handleExpand","rowKey","record","isExpanded","includes","newExpandedRowKeys","filter","key","concat","expand","expanded","_rowKeys","expandAll"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/table/hooks/use-expand.js"],"sourcesContent":["import { ref, computed } from \"vue\";\nconst useExpand = ({\n  expandedKeys,\n  defaultExpandedKeys,\n  defaultExpandAllRows,\n  expandable,\n  allRowKeys,\n  emit\n}) => {\n  const getDefaultExpandedRowKeys = () => {\n    var _a, _b;\n    if (defaultExpandedKeys.value) {\n      return defaultExpandedKeys.value;\n    }\n    if ((_a = expandable.value) == null ? void 0 : _a.defaultExpandedRowKeys) {\n      return expandable.value.defaultExpandedRowKeys;\n    }\n    if (defaultExpandAllRows.value || ((_b = expandable.value) == null ? void 0 : _b.defaultExpandAllRows)) {\n      return [...allRowKeys.value];\n    }\n    return [];\n  };\n  const _expandedRowKeys = ref(getDefaultExpandedRowKeys());\n  const expandedRowKeys = computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = expandedKeys.value) != null ? _b : (_a = expandable.value) == null ? void 0 : _a.expandedRowKeys) != null ? _c : _expandedRowKeys.value;\n  });\n  const handleExpand = (rowKey, record) => {\n    const isExpanded = expandedRowKeys.value.includes(rowKey);\n    const newExpandedRowKeys = isExpanded ? expandedRowKeys.value.filter((key) => rowKey !== key) : expandedRowKeys.value.concat(rowKey);\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expand\", rowKey, record);\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expand = (rowKey, expanded = true) => {\n    const _rowKeys = [].concat(rowKey);\n    const newExpandedRowKeys = expanded ? expandedRowKeys.value.concat(_rowKeys) : expandedRowKeys.value.filter((key) => !_rowKeys.includes(key));\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expandAll = (expanded = true) => {\n    const newExpandedRowKeys = expanded ? [...allRowKeys.value] : [];\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  return {\n    expandedRowKeys,\n    handleExpand,\n    expand,\n    expandAll\n  };\n};\nexport { useExpand };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}