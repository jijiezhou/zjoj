{"ast":null,"code":"const scaleAttr = [25, 33, 50, 67, 75, 80, 90, 100, 110, 125, 150, 175, 200, 250, 300, 400, 500].map(item => +(item / 100).toFixed(2));\nconst minScale = scaleAttr[0];\nconst maxScale = scaleAttr[scaleAttr.length - 1];\nfunction getScale(cur = 1, type = \"zoomIn\") {\n  let index = scaleAttr.indexOf(cur);\n  if (index === -1) {\n    index = findClosestIndex(cur);\n  }\n  if (type === \"zoomIn\") {\n    return index === scaleAttr.length - 1 ? cur : scaleAttr[index + 1];\n  }\n  return index === 0 ? cur : scaleAttr[index - 1];\n}\nfunction getScaleByRate(scale, rate = 1.1, type = \"zoomIn\") {\n  const scaleFactor = type === \"zoomIn\" ? rate : 1 / rate;\n  const newScale = Number.parseFloat((scale * scaleFactor).toFixed(3));\n  return Math.min(maxScale, Math.max(minScale, newScale));\n}\nfunction findClosestIndex(scale) {\n  let closestIndex = scaleAttr.length - 1;\n  for (let i = 0; i < scaleAttr.length; i++) {\n    const current = scaleAttr[i];\n    if (scale === current) {\n      closestIndex = i;\n      break;\n    }\n    if (scale < current) {\n      const pre = scaleAttr[i - 1];\n      closestIndex = pre === void 0 || Math.abs(pre - scale) <= Math.abs(current - scale) ? i - 1 : i;\n      break;\n    }\n  }\n  return closestIndex;\n}\nexport { getScale as default, getScaleByRate, maxScale, minScale };","map":{"version":3,"names":["scaleAttr","map","item","toFixed","minScale","maxScale","length","getScale","cur","type","index","indexOf","findClosestIndex","getScaleByRate","scale","rate","scaleFactor","newScale","Number","parseFloat","Math","min","max","closestIndex","i","current","pre","abs","default"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/image/utils/get-scale.js"],"sourcesContent":["const scaleAttr = [\n  25,\n  33,\n  50,\n  67,\n  75,\n  80,\n  90,\n  100,\n  110,\n  125,\n  150,\n  175,\n  200,\n  250,\n  300,\n  400,\n  500\n].map((item) => +(item / 100).toFixed(2));\nconst minScale = scaleAttr[0];\nconst maxScale = scaleAttr[scaleAttr.length - 1];\nfunction getScale(cur = 1, type = \"zoomIn\") {\n  let index = scaleAttr.indexOf(cur);\n  if (index === -1) {\n    index = findClosestIndex(cur);\n  }\n  if (type === \"zoomIn\") {\n    return index === scaleAttr.length - 1 ? cur : scaleAttr[index + 1];\n  }\n  return index === 0 ? cur : scaleAttr[index - 1];\n}\nfunction getScaleByRate(scale, rate = 1.1, type = \"zoomIn\") {\n  const scaleFactor = type === \"zoomIn\" ? rate : 1 / rate;\n  const newScale = Number.parseFloat((scale * scaleFactor).toFixed(3));\n  return Math.min(maxScale, Math.max(minScale, newScale));\n}\nfunction findClosestIndex(scale) {\n  let closestIndex = scaleAttr.length - 1;\n  for (let i = 0; i < scaleAttr.length; i++) {\n    const current = scaleAttr[i];\n    if (scale === current) {\n      closestIndex = i;\n      break;\n    }\n    if (scale < current) {\n      const pre = scaleAttr[i - 1];\n      closestIndex = pre === void 0 || Math.abs(pre - scale) <= Math.abs(current - scale) ? i - 1 : i;\n      break;\n    }\n  }\n  return closestIndex;\n}\nexport { getScale as default, getScaleByRate, maxScale, minScale };\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG,CAChB,EAAE,EACF,EAAE,EACF,EAAE,EACF,EAAE,EACF,EAAE,EACF,EAAE,EACF,EAAE,EACF,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,EACH,GAAG,CACJ,CAACC,GAAG,CAAEC,IAAI,IAAK,CAAC,CAACA,IAAI,GAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC;AACzC,MAAMC,QAAQ,GAAGJ,SAAS,CAAC,CAAC,CAAC;AAC7B,MAAMK,QAAQ,GAAGL,SAAS,CAACA,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC;AAChD,SAASC,QAAQA,CAACC,GAAG,GAAG,CAAC,EAAEC,IAAI,GAAG,QAAQ,EAAE;EAC1C,IAAIC,KAAK,GAAGV,SAAS,CAACW,OAAO,CAACH,GAAG,CAAC;EAClC,IAAIE,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBA,KAAK,GAAGE,gBAAgB,CAACJ,GAAG,CAAC;EAC/B;EACA,IAAIC,IAAI,KAAK,QAAQ,EAAE;IACrB,OAAOC,KAAK,KAAKV,SAAS,CAACM,MAAM,GAAG,CAAC,GAAGE,GAAG,GAAGR,SAAS,CAACU,KAAK,GAAG,CAAC,CAAC;EACpE;EACA,OAAOA,KAAK,KAAK,CAAC,GAAGF,GAAG,GAAGR,SAAS,CAACU,KAAK,GAAG,CAAC,CAAC;AACjD;AACA,SAASG,cAAcA,CAACC,KAAK,EAAEC,IAAI,GAAG,GAAG,EAAEN,IAAI,GAAG,QAAQ,EAAE;EAC1D,MAAMO,WAAW,GAAGP,IAAI,KAAK,QAAQ,GAAGM,IAAI,GAAG,CAAC,GAAGA,IAAI;EACvD,MAAME,QAAQ,GAAGC,MAAM,CAACC,UAAU,CAAC,CAACL,KAAK,GAAGE,WAAW,EAAEb,OAAO,CAAC,CAAC,CAAC,CAAC;EACpE,OAAOiB,IAAI,CAACC,GAAG,CAAChB,QAAQ,EAAEe,IAAI,CAACE,GAAG,CAAClB,QAAQ,EAAEa,QAAQ,CAAC,CAAC;AACzD;AACA,SAASL,gBAAgBA,CAACE,KAAK,EAAE;EAC/B,IAAIS,YAAY,GAAGvB,SAAS,CAACM,MAAM,GAAG,CAAC;EACvC,KAAK,IAAIkB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,SAAS,CAACM,MAAM,EAAEkB,CAAC,EAAE,EAAE;IACzC,MAAMC,OAAO,GAAGzB,SAAS,CAACwB,CAAC,CAAC;IAC5B,IAAIV,KAAK,KAAKW,OAAO,EAAE;MACrBF,YAAY,GAAGC,CAAC;MAChB;IACF;IACA,IAAIV,KAAK,GAAGW,OAAO,EAAE;MACnB,MAAMC,GAAG,GAAG1B,SAAS,CAACwB,CAAC,GAAG,CAAC,CAAC;MAC5BD,YAAY,GAAGG,GAAG,KAAK,KAAK,CAAC,IAAIN,IAAI,CAACO,GAAG,CAACD,GAAG,GAAGZ,KAAK,CAAC,IAAIM,IAAI,CAACO,GAAG,CAACF,OAAO,GAAGX,KAAK,CAAC,GAAGU,CAAC,GAAG,CAAC,GAAGA,CAAC;MAC/F;IACF;EACF;EACA,OAAOD,YAAY;AACrB;AACA,SAAShB,QAAQ,IAAIqB,OAAO,EAAEf,cAAc,EAAER,QAAQ,EAAED,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}