{"ast":null,"code":"import { toRefs, ref, watchEffect, computed } from \"vue\";\nimport { getCheckedStateByInitKeys } from \"../utils/check-utils.js\";\nfunction useCheckedState(props) {\n  const {\n    defaultCheckedKeys,\n    checkedKeys: propCheckedKeys,\n    key2TreeNode,\n    checkStrictly,\n    halfCheckedKeys,\n    onlyCheckLeaf\n  } = toRefs(props);\n  const isInitialized = ref(false);\n  const localCheckedKeys = ref([]);\n  const localIndeterminateKeys = ref([]);\n  const computedCheckedKeys = ref();\n  const computedIndeterminateKeys = ref();\n  const getStateByKeys = keys => {\n    return getCheckedStateByInitKeys({\n      initCheckedKeys: keys,\n      key2TreeNode: key2TreeNode.value,\n      checkStrictly: checkStrictly.value,\n      onlyCheckLeaf: onlyCheckLeaf.value\n    });\n  };\n  const init = keys => {\n    const initState = getStateByKeys(keys);\n    [localCheckedKeys.value, localIndeterminateKeys.value] = initState;\n  };\n  init(propCheckedKeys.value || (defaultCheckedKeys == null ? void 0 : defaultCheckedKeys.value) || []);\n  watchEffect(() => {\n    if (propCheckedKeys.value) {\n      [computedCheckedKeys.value, computedIndeterminateKeys.value] = getStateByKeys(propCheckedKeys.value);\n    } else if (isInitialized.value) {\n      computedCheckedKeys.value = void 0;\n      computedIndeterminateKeys.value = void 0;\n      localCheckedKeys.value = [];\n      localIndeterminateKeys.value = [];\n    }\n    if (!isInitialized.value) {\n      isInitialized.value = true;\n    }\n  });\n  return {\n    checkedKeys: computed(() => computedCheckedKeys.value || localCheckedKeys.value),\n    indeterminateKeys: computed(() => {\n      if (checkStrictly.value && halfCheckedKeys.value) {\n        return halfCheckedKeys.value;\n      }\n      return computedIndeterminateKeys.value || localIndeterminateKeys.value;\n    }),\n    setCheckedState(newCheckedKeys, newIndeterminateKeys, reinitialize = false) {\n      if (reinitialize) {\n        init(newCheckedKeys);\n      } else {\n        localCheckedKeys.value = newCheckedKeys;\n        localIndeterminateKeys.value = newIndeterminateKeys;\n      }\n      return [localCheckedKeys.value, localIndeterminateKeys.value];\n    }\n  };\n}\nexport { useCheckedState as default };","map":{"version":3,"names":["toRefs","ref","watchEffect","computed","getCheckedStateByInitKeys","useCheckedState","props","defaultCheckedKeys","checkedKeys","propCheckedKeys","key2TreeNode","checkStrictly","halfCheckedKeys","onlyCheckLeaf","isInitialized","localCheckedKeys","localIndeterminateKeys","computedCheckedKeys","computedIndeterminateKeys","getStateByKeys","keys","initCheckedKeys","value","init","initState","indeterminateKeys","setCheckedState","newCheckedKeys","newIndeterminateKeys","reinitialize","default"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/tree/hooks/use-checked-state.js"],"sourcesContent":["import { toRefs, ref, watchEffect, computed } from \"vue\";\nimport { getCheckedStateByInitKeys } from \"../utils/check-utils.js\";\nfunction useCheckedState(props) {\n  const {\n    defaultCheckedKeys,\n    checkedKeys: propCheckedKeys,\n    key2TreeNode,\n    checkStrictly,\n    halfCheckedKeys,\n    onlyCheckLeaf\n  } = toRefs(props);\n  const isInitialized = ref(false);\n  const localCheckedKeys = ref([]);\n  const localIndeterminateKeys = ref([]);\n  const computedCheckedKeys = ref();\n  const computedIndeterminateKeys = ref();\n  const getStateByKeys = (keys) => {\n    return getCheckedStateByInitKeys({\n      initCheckedKeys: keys,\n      key2TreeNode: key2TreeNode.value,\n      checkStrictly: checkStrictly.value,\n      onlyCheckLeaf: onlyCheckLeaf.value\n    });\n  };\n  const init = (keys) => {\n    const initState = getStateByKeys(keys);\n    [localCheckedKeys.value, localIndeterminateKeys.value] = initState;\n  };\n  init(propCheckedKeys.value || (defaultCheckedKeys == null ? void 0 : defaultCheckedKeys.value) || []);\n  watchEffect(() => {\n    if (propCheckedKeys.value) {\n      [computedCheckedKeys.value, computedIndeterminateKeys.value] = getStateByKeys(propCheckedKeys.value);\n    } else if (isInitialized.value) {\n      computedCheckedKeys.value = void 0;\n      computedIndeterminateKeys.value = void 0;\n      localCheckedKeys.value = [];\n      localIndeterminateKeys.value = [];\n    }\n    if (!isInitialized.value) {\n      isInitialized.value = true;\n    }\n  });\n  return {\n    checkedKeys: computed(() => computedCheckedKeys.value || localCheckedKeys.value),\n    indeterminateKeys: computed(() => {\n      if (checkStrictly.value && halfCheckedKeys.value) {\n        return halfCheckedKeys.value;\n      }\n      return computedIndeterminateKeys.value || localIndeterminateKeys.value;\n    }),\n    setCheckedState(newCheckedKeys, newIndeterminateKeys, reinitialize = false) {\n      if (reinitialize) {\n        init(newCheckedKeys);\n      } else {\n        localCheckedKeys.value = newCheckedKeys;\n        localIndeterminateKeys.value = newIndeterminateKeys;\n      }\n      return [localCheckedKeys.value, localIndeterminateKeys.value];\n    }\n  };\n}\nexport { useCheckedState as default };\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,GAAG,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAK;AACxD,SAASC,yBAAyB,QAAQ,yBAAyB;AACnE,SAASC,eAAeA,CAACC,KAAK,EAAE;EAC9B,MAAM;IACJC,kBAAkB;IAClBC,WAAW,EAAEC,eAAe;IAC5BC,YAAY;IACZC,aAAa;IACbC,eAAe;IACfC;EACF,CAAC,GAAGb,MAAM,CAACM,KAAK,CAAC;EACjB,MAAMQ,aAAa,GAAGb,GAAG,CAAC,KAAK,CAAC;EAChC,MAAMc,gBAAgB,GAAGd,GAAG,CAAC,EAAE,CAAC;EAChC,MAAMe,sBAAsB,GAAGf,GAAG,CAAC,EAAE,CAAC;EACtC,MAAMgB,mBAAmB,GAAGhB,GAAG,CAAC,CAAC;EACjC,MAAMiB,yBAAyB,GAAGjB,GAAG,CAAC,CAAC;EACvC,MAAMkB,cAAc,GAAIC,IAAI,IAAK;IAC/B,OAAOhB,yBAAyB,CAAC;MAC/BiB,eAAe,EAAED,IAAI;MACrBV,YAAY,EAAEA,YAAY,CAACY,KAAK;MAChCX,aAAa,EAAEA,aAAa,CAACW,KAAK;MAClCT,aAAa,EAAEA,aAAa,CAACS;IAC/B,CAAC,CAAC;EACJ,CAAC;EACD,MAAMC,IAAI,GAAIH,IAAI,IAAK;IACrB,MAAMI,SAAS,GAAGL,cAAc,CAACC,IAAI,CAAC;IACtC,CAACL,gBAAgB,CAACO,KAAK,EAAEN,sBAAsB,CAACM,KAAK,CAAC,GAAGE,SAAS;EACpE,CAAC;EACDD,IAAI,CAACd,eAAe,CAACa,KAAK,KAAKf,kBAAkB,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACe,KAAK,CAAC,IAAI,EAAE,CAAC;EACrGpB,WAAW,CAAC,MAAM;IAChB,IAAIO,eAAe,CAACa,KAAK,EAAE;MACzB,CAACL,mBAAmB,CAACK,KAAK,EAAEJ,yBAAyB,CAACI,KAAK,CAAC,GAAGH,cAAc,CAACV,eAAe,CAACa,KAAK,CAAC;IACtG,CAAC,MAAM,IAAIR,aAAa,CAACQ,KAAK,EAAE;MAC9BL,mBAAmB,CAACK,KAAK,GAAG,KAAK,CAAC;MAClCJ,yBAAyB,CAACI,KAAK,GAAG,KAAK,CAAC;MACxCP,gBAAgB,CAACO,KAAK,GAAG,EAAE;MAC3BN,sBAAsB,CAACM,KAAK,GAAG,EAAE;IACnC;IACA,IAAI,CAACR,aAAa,CAACQ,KAAK,EAAE;MACxBR,aAAa,CAACQ,KAAK,GAAG,IAAI;IAC5B;EACF,CAAC,CAAC;EACF,OAAO;IACLd,WAAW,EAAEL,QAAQ,CAAC,MAAMc,mBAAmB,CAACK,KAAK,IAAIP,gBAAgB,CAACO,KAAK,CAAC;IAChFG,iBAAiB,EAAEtB,QAAQ,CAAC,MAAM;MAChC,IAAIQ,aAAa,CAACW,KAAK,IAAIV,eAAe,CAACU,KAAK,EAAE;QAChD,OAAOV,eAAe,CAACU,KAAK;MAC9B;MACA,OAAOJ,yBAAyB,CAACI,KAAK,IAAIN,sBAAsB,CAACM,KAAK;IACxE,CAAC,CAAC;IACFI,eAAeA,CAACC,cAAc,EAAEC,oBAAoB,EAAEC,YAAY,GAAG,KAAK,EAAE;MAC1E,IAAIA,YAAY,EAAE;QAChBN,IAAI,CAACI,cAAc,CAAC;MACtB,CAAC,MAAM;QACLZ,gBAAgB,CAACO,KAAK,GAAGK,cAAc;QACvCX,sBAAsB,CAACM,KAAK,GAAGM,oBAAoB;MACrD;MACA,OAAO,CAACb,gBAAgB,CAACO,KAAK,EAAEN,sBAAsB,CAACM,KAAK,CAAC;IAC/D;EACF,CAAC;AACH;AACA,SAASjB,eAAe,IAAIyB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}