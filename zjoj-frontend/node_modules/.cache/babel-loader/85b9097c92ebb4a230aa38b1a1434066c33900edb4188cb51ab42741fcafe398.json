{"ast":null,"code":"import \"core-js/modules/es.array.with.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport * as nls from '../../../../nls.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nexport function canExpandCompletionItem(item) {\n  return !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);\n}\nlet SuggestDetailsWidget = class SuggestDetailsWidget {\n  constructor(_editor, instaService) {\n    this._editor = _editor;\n    this._onDidClose = new Emitter();\n    this.onDidClose = this._onDidClose.event;\n    this._onDidChangeContents = new Emitter();\n    this.onDidChangeContents = this._onDidChangeContents.event;\n    this._disposables = new DisposableStore();\n    this._renderDisposeable = new DisposableStore();\n    this._borderWidth = 1;\n    this._size = new dom.Dimension(330, 0);\n    this.domNode = dom.$('.suggest-details');\n    this.domNode.classList.add('no-docs');\n    this._markdownRenderer = instaService.createInstance(MarkdownRenderer, {\n      editor: _editor\n    });\n    this._body = dom.$('.body');\n    this._scrollbar = new DomScrollableElement(this._body, {\n      alwaysConsumeMouseWheel: true\n    });\n    dom.append(this.domNode, this._scrollbar.getDomNode());\n    this._disposables.add(this._scrollbar);\n    this._header = dom.append(this._body, dom.$('.header'));\n    this._close = dom.append(this._header, dom.$('span' + ThemeIcon.asCSSSelector(Codicon.close)));\n    this._close.title = nls.localize('details.close', \"Close\");\n    this._type = dom.append(this._header, dom.$('p.type'));\n    this._docs = dom.append(this._body, dom.$('p.docs'));\n    this._configureFont();\n    this._disposables.add(this._editor.onDidChangeConfiguration(e => {\n      if (e.hasChanged(50 /* EditorOption.fontInfo */)) {\n        this._configureFont();\n      }\n    }));\n  }\n  dispose() {\n    this._disposables.dispose();\n    this._renderDisposeable.dispose();\n  }\n  _configureFont() {\n    const options = this._editor.getOptions();\n    const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n    const fontFamily = fontInfo.getMassagedFontFamily();\n    const fontSize = options.get(118 /* EditorOption.suggestFontSize */) || fontInfo.fontSize;\n    const lineHeight = options.get(119 /* EditorOption.suggestLineHeight */) || fontInfo.lineHeight;\n    const fontWeight = fontInfo.fontWeight;\n    const fontSizePx = `${fontSize}px`;\n    const lineHeightPx = `${lineHeight}px`;\n    this.domNode.style.fontSize = fontSizePx;\n    this.domNode.style.lineHeight = `${lineHeight / fontSize}`;\n    this.domNode.style.fontWeight = fontWeight;\n    this.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n    this._type.style.fontFamily = fontFamily;\n    this._close.style.height = lineHeightPx;\n    this._close.style.width = lineHeightPx;\n  }\n  getLayoutInfo() {\n    const lineHeight = this._editor.getOption(119 /* EditorOption.suggestLineHeight */) || this._editor.getOption(50 /* EditorOption.fontInfo */).lineHeight;\n    const borderWidth = this._borderWidth;\n    const borderHeight = borderWidth * 2;\n    return {\n      lineHeight,\n      borderWidth,\n      borderHeight,\n      verticalPadding: 22,\n      horizontalPadding: 14\n    };\n  }\n  renderLoading() {\n    this._type.textContent = nls.localize('loading', \"Loading...\");\n    this._docs.textContent = '';\n    this.domNode.classList.remove('no-docs', 'no-type');\n    this.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);\n    this._onDidChangeContents.fire(this);\n  }\n  renderItem(item, explainMode) {\n    var _a, _b;\n    this._renderDisposeable.clear();\n    let {\n      detail,\n      documentation\n    } = item.completion;\n    if (explainMode) {\n      let md = '';\n      md += `score: ${item.score[0]}\\n`;\n      md += `prefix: ${(_a = item.word) !== null && _a !== void 0 ? _a : '(no prefix)'}\\n`;\n      md += `word: ${item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel}\\n`;\n      md += `distance: ${item.distance} (localityBonus-setting)\\n`;\n      md += `index: ${item.idx}, based on ${item.completion.sortText && `sortText: \"${item.completion.sortText}\"` || 'label'}\\n`;\n      md += `commit_chars: ${(_b = item.completion.commitCharacters) === null || _b === void 0 ? void 0 : _b.join('')}\\n`;\n      documentation = new MarkdownString().appendCodeblock('empty', md);\n      detail = `Provider: ${item.provider._debugDisplayName}`;\n    }\n    if (!explainMode && !canExpandCompletionItem(item)) {\n      this.clearContents();\n      return;\n    }\n    this.domNode.classList.remove('no-docs', 'no-type');\n    // --- details\n    if (detail) {\n      const cappedDetail = detail.length > 100000 ? `${detail.substr(0, 100000)}â€¦` : detail;\n      this._type.textContent = cappedDetail;\n      this._type.title = cappedDetail;\n      dom.show(this._type);\n      this._type.classList.toggle('auto-wrap', !/\\r?\\n^\\s+/gmi.test(cappedDetail));\n    } else {\n      dom.clearNode(this._type);\n      this._type.title = '';\n      dom.hide(this._type);\n      this.domNode.classList.add('no-type');\n    }\n    // --- documentation\n    dom.clearNode(this._docs);\n    if (typeof documentation === 'string') {\n      this._docs.classList.remove('markdown-docs');\n      this._docs.textContent = documentation;\n    } else if (documentation) {\n      this._docs.classList.add('markdown-docs');\n      dom.clearNode(this._docs);\n      const renderedContents = this._markdownRenderer.render(documentation);\n      this._docs.appendChild(renderedContents.element);\n      this._renderDisposeable.add(renderedContents);\n      this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(() => {\n        this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n        this._onDidChangeContents.fire(this);\n      }));\n    }\n    this.domNode.style.userSelect = 'text';\n    this.domNode.tabIndex = -1;\n    this._close.onmousedown = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    this._close.onclick = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this._onDidClose.fire();\n    };\n    this._body.scrollTop = 0;\n    this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n    this._onDidChangeContents.fire(this);\n  }\n  clearContents() {\n    this.domNode.classList.add('no-docs');\n    this._type.textContent = '';\n    this._docs.textContent = '';\n  }\n  get size() {\n    return this._size;\n  }\n  layout(width, height) {\n    const newSize = new dom.Dimension(width, height);\n    if (!dom.Dimension.equals(newSize, this._size)) {\n      this._size = newSize;\n      dom.size(this.domNode, width, height);\n    }\n    this._scrollbar.scanDomNode();\n  }\n  scrollDown(much = 8) {\n    this._body.scrollTop += much;\n  }\n  scrollUp(much = 8) {\n    this._body.scrollTop -= much;\n  }\n  scrollTop() {\n    this._body.scrollTop = 0;\n  }\n  scrollBottom() {\n    this._body.scrollTop = this._body.scrollHeight;\n  }\n  pageDown() {\n    this.scrollDown(80);\n  }\n  pageUp() {\n    this.scrollUp(80);\n  }\n  set borderWidth(width) {\n    this._borderWidth = width;\n  }\n  get borderWidth() {\n    return this._borderWidth;\n  }\n};\nSuggestDetailsWidget = __decorate([__param(1, IInstantiationService)], SuggestDetailsWidget);\nexport { SuggestDetailsWidget };\nexport class SuggestDetailsOverlay {\n  constructor(widget, _editor) {\n    this.widget = widget;\n    this._editor = _editor;\n    this._disposables = new DisposableStore();\n    this._added = false;\n    this._preferAlignAtTop = true;\n    this._resizable = new ResizableHTMLElement();\n    this._resizable.domNode.classList.add('suggest-details-container');\n    this._resizable.domNode.appendChild(widget.domNode);\n    this._resizable.enableSashes(false, true, true, false);\n    let topLeftNow;\n    let sizeNow;\n    let deltaTop = 0;\n    let deltaLeft = 0;\n    this._disposables.add(this._resizable.onDidWillResize(() => {\n      topLeftNow = this._topLeft;\n      sizeNow = this._resizable.size;\n    }));\n    this._disposables.add(this._resizable.onDidResize(e => {\n      if (topLeftNow && sizeNow) {\n        this.widget.layout(e.dimension.width, e.dimension.height);\n        let updateTopLeft = false;\n        if (e.west) {\n          deltaLeft = sizeNow.width - e.dimension.width;\n          updateTopLeft = true;\n        }\n        if (e.north) {\n          deltaTop = sizeNow.height - e.dimension.height;\n          updateTopLeft = true;\n        }\n        if (updateTopLeft) {\n          this._applyTopLeft({\n            top: topLeftNow.top + deltaTop,\n            left: topLeftNow.left + deltaLeft\n          });\n        }\n      }\n      if (e.done) {\n        topLeftNow = undefined;\n        sizeNow = undefined;\n        deltaTop = 0;\n        deltaLeft = 0;\n        this._userSize = e.dimension;\n      }\n    }));\n    this._disposables.add(this.widget.onDidChangeContents(() => {\n      var _a;\n      if (this._anchorBox) {\n        this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, this._preferAlignAtTop);\n      }\n    }));\n  }\n  dispose() {\n    this._resizable.dispose();\n    this._disposables.dispose();\n    this.hide();\n  }\n  getId() {\n    return 'suggest.details';\n  }\n  getDomNode() {\n    return this._resizable.domNode;\n  }\n  getPosition() {\n    return null;\n  }\n  show() {\n    if (!this._added) {\n      this._editor.addOverlayWidget(this);\n      this.getDomNode().style.position = 'fixed';\n      this._added = true;\n    }\n  }\n  hide(sessionEnded = false) {\n    this._resizable.clearSashHoverState();\n    if (this._added) {\n      this._editor.removeOverlayWidget(this);\n      this._added = false;\n      this._anchorBox = undefined;\n      this._topLeft = undefined;\n    }\n    if (sessionEnded) {\n      this._userSize = undefined;\n      this.widget.clearContents();\n    }\n  }\n  placeAtAnchor(anchor, preferAlignAtTop) {\n    var _a;\n    const anchorBox = anchor.getBoundingClientRect();\n    this._anchorBox = anchorBox;\n    this._preferAlignAtTop = preferAlignAtTop;\n    this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, preferAlignAtTop);\n  }\n  _placeAtAnchor(anchorBox, size, preferAlignAtTop) {\n    var _a;\n    const bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n    const info = this.widget.getLayoutInfo();\n    const defaultMinSize = new dom.Dimension(220, 2 * info.lineHeight);\n    const defaultTop = anchorBox.top;\n    // EAST\n    const eastPlacement = function () {\n      const width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);\n      const left = -info.borderWidth + anchorBox.left + anchorBox.width;\n      const maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n      const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n      return {\n        top: defaultTop,\n        left,\n        fit: width - size.width,\n        maxSizeTop,\n        maxSizeBottom,\n        minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width))\n      };\n    }();\n    // WEST\n    const westPlacement = function () {\n      const width = anchorBox.left - info.borderWidth - info.horizontalPadding;\n      const left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);\n      const maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n      const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n      return {\n        top: defaultTop,\n        left,\n        fit: width - size.width,\n        maxSizeTop,\n        maxSizeBottom,\n        minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width))\n      };\n    }();\n    // SOUTH\n    const southPacement = function () {\n      const left = anchorBox.left;\n      const top = -info.borderWidth + anchorBox.top + anchorBox.height;\n      const maxSizeBottom = new dom.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);\n      return {\n        top,\n        left,\n        fit: maxSizeBottom.height - size.height,\n        maxSizeBottom,\n        maxSizeTop: maxSizeBottom,\n        minSize: defaultMinSize.with(maxSizeBottom.width)\n      };\n    }();\n    // take first placement that fits or the first with \"least bad\" fit\n    const placements = [eastPlacement, westPlacement, southPacement];\n    const placement = (_a = placements.find(p => p.fit >= 0)) !== null && _a !== void 0 ? _a : placements.sort((a, b) => b.fit - a.fit)[0];\n    // top/bottom placement\n    const bottom = anchorBox.top + anchorBox.height - info.borderHeight;\n    let alignAtTop;\n    let height = size.height;\n    const maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);\n    if (height > maxHeight) {\n      height = maxHeight;\n    }\n    let maxSize;\n    if (preferAlignAtTop) {\n      if (height <= placement.maxSizeTop.height) {\n        alignAtTop = true;\n        maxSize = placement.maxSizeTop;\n      } else {\n        alignAtTop = false;\n        maxSize = placement.maxSizeBottom;\n      }\n    } else {\n      if (height <= placement.maxSizeBottom.height) {\n        alignAtTop = false;\n        maxSize = placement.maxSizeBottom;\n      } else {\n        alignAtTop = true;\n        maxSize = placement.maxSizeTop;\n      }\n    }\n    this._applyTopLeft({\n      left: placement.left,\n      top: alignAtTop ? placement.top : bottom - height\n    });\n    this.getDomNode().style.position = 'fixed';\n    this._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);\n    this._resizable.minSize = placement.minSize;\n    this._resizable.maxSize = maxSize;\n    this._resizable.layout(height, Math.min(maxSize.width, size.width));\n    this.widget.layout(this._resizable.size.width, this._resizable.size.height);\n  }\n  _applyTopLeft(topLeft) {\n    this._topLeft = topLeft;\n    this.getDomNode().style.left = `${this._topLeft.left}px`;\n    this.getDomNode().style.top = `${this._topLeft.top}px`;\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","dom","DomScrollableElement","Codicon","ThemeIcon","Emitter","MarkdownString","DisposableStore","MarkdownRenderer","ResizableHTMLElement","nls","IInstantiationService","canExpandCompletionItem","item","Boolean","completion","documentation","detail","label","SuggestDetailsWidget","constructor","_editor","instaService","_onDidClose","onDidClose","event","_onDidChangeContents","onDidChangeContents","_disposables","_renderDisposeable","_borderWidth","_size","Dimension","domNode","$","classList","add","_markdownRenderer","createInstance","editor","_body","_scrollbar","alwaysConsumeMouseWheel","append","getDomNode","_header","_close","asCSSSelector","close","title","localize","_type","_docs","_configureFont","onDidChangeConfiguration","e","hasChanged","dispose","options","getOptions","fontInfo","get","fontFamily","getMassagedFontFamily","fontSize","lineHeight","fontWeight","fontSizePx","lineHeightPx","style","fontFeatureSettings","height","width","getLayoutInfo","getOption","borderWidth","borderHeight","verticalPadding","horizontalPadding","renderLoading","textContent","remove","layout","size","fire","renderItem","explainMode","_a","_b","clear","md","score","word","filterText","textLabel","distance","idx","sortText","commitCharacters","join","appendCodeblock","provider","_debugDisplayName","clearContents","cappedDetail","substr","show","toggle","test","clearNode","hide","renderedContents","render","appendChild","element","onDidRenderAsync","clientHeight","userSelect","tabIndex","onmousedown","preventDefault","stopPropagation","onclick","scrollTop","newSize","equals","scanDomNode","scrollDown","much","scrollUp","scrollBottom","scrollHeight","pageDown","pageUp","SuggestDetailsOverlay","widget","_added","_preferAlignAtTop","_resizable","enableSashes","topLeftNow","sizeNow","deltaTop","deltaLeft","onDidWillResize","_topLeft","onDidResize","dimension","updateTopLeft","west","north","_applyTopLeft","top","left","done","undefined","_userSize","_anchorBox","_placeAtAnchor","getId","getPosition","addOverlayWidget","position","sessionEnded","clearSashHoverState","removeOverlayWidget","placeAtAnchor","anchor","preferAlignAtTop","anchorBox","getBoundingClientRect","bodyBox","getClientArea","ownerDocument","body","info","defaultMinSize","defaultTop","eastPlacement","maxSizeTop","maxSizeBottom","with","fit","minSize","Math","min","westPlacement","max","southPacement","placements","placement","find","p","sort","a","b","bottom","alignAtTop","maxHeight","maxSize","topLeft"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidgetDetails.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport * as nls from '../../../../nls.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nexport function canExpandCompletionItem(item) {\n    return !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);\n}\nlet SuggestDetailsWidget = class SuggestDetailsWidget {\n    constructor(_editor, instaService) {\n        this._editor = _editor;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        this._onDidChangeContents = new Emitter();\n        this.onDidChangeContents = this._onDidChangeContents.event;\n        this._disposables = new DisposableStore();\n        this._renderDisposeable = new DisposableStore();\n        this._borderWidth = 1;\n        this._size = new dom.Dimension(330, 0);\n        this.domNode = dom.$('.suggest-details');\n        this.domNode.classList.add('no-docs');\n        this._markdownRenderer = instaService.createInstance(MarkdownRenderer, { editor: _editor });\n        this._body = dom.$('.body');\n        this._scrollbar = new DomScrollableElement(this._body, {\n            alwaysConsumeMouseWheel: true,\n        });\n        dom.append(this.domNode, this._scrollbar.getDomNode());\n        this._disposables.add(this._scrollbar);\n        this._header = dom.append(this._body, dom.$('.header'));\n        this._close = dom.append(this._header, dom.$('span' + ThemeIcon.asCSSSelector(Codicon.close)));\n        this._close.title = nls.localize('details.close', \"Close\");\n        this._type = dom.append(this._header, dom.$('p.type'));\n        this._docs = dom.append(this._body, dom.$('p.docs'));\n        this._configureFont();\n        this._disposables.add(this._editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(50 /* EditorOption.fontInfo */)) {\n                this._configureFont();\n            }\n        }));\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._renderDisposeable.dispose();\n    }\n    _configureFont() {\n        const options = this._editor.getOptions();\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        const fontFamily = fontInfo.getMassagedFontFamily();\n        const fontSize = options.get(118 /* EditorOption.suggestFontSize */) || fontInfo.fontSize;\n        const lineHeight = options.get(119 /* EditorOption.suggestLineHeight */) || fontInfo.lineHeight;\n        const fontWeight = fontInfo.fontWeight;\n        const fontSizePx = `${fontSize}px`;\n        const lineHeightPx = `${lineHeight}px`;\n        this.domNode.style.fontSize = fontSizePx;\n        this.domNode.style.lineHeight = `${lineHeight / fontSize}`;\n        this.domNode.style.fontWeight = fontWeight;\n        this.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n        this._type.style.fontFamily = fontFamily;\n        this._close.style.height = lineHeightPx;\n        this._close.style.width = lineHeightPx;\n    }\n    getLayoutInfo() {\n        const lineHeight = this._editor.getOption(119 /* EditorOption.suggestLineHeight */) || this._editor.getOption(50 /* EditorOption.fontInfo */).lineHeight;\n        const borderWidth = this._borderWidth;\n        const borderHeight = borderWidth * 2;\n        return {\n            lineHeight,\n            borderWidth,\n            borderHeight,\n            verticalPadding: 22,\n            horizontalPadding: 14\n        };\n    }\n    renderLoading() {\n        this._type.textContent = nls.localize('loading', \"Loading...\");\n        this._docs.textContent = '';\n        this.domNode.classList.remove('no-docs', 'no-type');\n        this.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);\n        this._onDidChangeContents.fire(this);\n    }\n    renderItem(item, explainMode) {\n        var _a, _b;\n        this._renderDisposeable.clear();\n        let { detail, documentation } = item.completion;\n        if (explainMode) {\n            let md = '';\n            md += `score: ${item.score[0]}\\n`;\n            md += `prefix: ${(_a = item.word) !== null && _a !== void 0 ? _a : '(no prefix)'}\\n`;\n            md += `word: ${item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel}\\n`;\n            md += `distance: ${item.distance} (localityBonus-setting)\\n`;\n            md += `index: ${item.idx}, based on ${item.completion.sortText && `sortText: \"${item.completion.sortText}\"` || 'label'}\\n`;\n            md += `commit_chars: ${(_b = item.completion.commitCharacters) === null || _b === void 0 ? void 0 : _b.join('')}\\n`;\n            documentation = new MarkdownString().appendCodeblock('empty', md);\n            detail = `Provider: ${item.provider._debugDisplayName}`;\n        }\n        if (!explainMode && !canExpandCompletionItem(item)) {\n            this.clearContents();\n            return;\n        }\n        this.domNode.classList.remove('no-docs', 'no-type');\n        // --- details\n        if (detail) {\n            const cappedDetail = detail.length > 100000 ? `${detail.substr(0, 100000)}â€¦` : detail;\n            this._type.textContent = cappedDetail;\n            this._type.title = cappedDetail;\n            dom.show(this._type);\n            this._type.classList.toggle('auto-wrap', !/\\r?\\n^\\s+/gmi.test(cappedDetail));\n        }\n        else {\n            dom.clearNode(this._type);\n            this._type.title = '';\n            dom.hide(this._type);\n            this.domNode.classList.add('no-type');\n        }\n        // --- documentation\n        dom.clearNode(this._docs);\n        if (typeof documentation === 'string') {\n            this._docs.classList.remove('markdown-docs');\n            this._docs.textContent = documentation;\n        }\n        else if (documentation) {\n            this._docs.classList.add('markdown-docs');\n            dom.clearNode(this._docs);\n            const renderedContents = this._markdownRenderer.render(documentation);\n            this._docs.appendChild(renderedContents.element);\n            this._renderDisposeable.add(renderedContents);\n            this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(() => {\n                this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n                this._onDidChangeContents.fire(this);\n            }));\n        }\n        this.domNode.style.userSelect = 'text';\n        this.domNode.tabIndex = -1;\n        this._close.onmousedown = e => {\n            e.preventDefault();\n            e.stopPropagation();\n        };\n        this._close.onclick = e => {\n            e.preventDefault();\n            e.stopPropagation();\n            this._onDidClose.fire();\n        };\n        this._body.scrollTop = 0;\n        this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n        this._onDidChangeContents.fire(this);\n    }\n    clearContents() {\n        this.domNode.classList.add('no-docs');\n        this._type.textContent = '';\n        this._docs.textContent = '';\n    }\n    get size() {\n        return this._size;\n    }\n    layout(width, height) {\n        const newSize = new dom.Dimension(width, height);\n        if (!dom.Dimension.equals(newSize, this._size)) {\n            this._size = newSize;\n            dom.size(this.domNode, width, height);\n        }\n        this._scrollbar.scanDomNode();\n    }\n    scrollDown(much = 8) {\n        this._body.scrollTop += much;\n    }\n    scrollUp(much = 8) {\n        this._body.scrollTop -= much;\n    }\n    scrollTop() {\n        this._body.scrollTop = 0;\n    }\n    scrollBottom() {\n        this._body.scrollTop = this._body.scrollHeight;\n    }\n    pageDown() {\n        this.scrollDown(80);\n    }\n    pageUp() {\n        this.scrollUp(80);\n    }\n    set borderWidth(width) {\n        this._borderWidth = width;\n    }\n    get borderWidth() {\n        return this._borderWidth;\n    }\n};\nSuggestDetailsWidget = __decorate([\n    __param(1, IInstantiationService)\n], SuggestDetailsWidget);\nexport { SuggestDetailsWidget };\nexport class SuggestDetailsOverlay {\n    constructor(widget, _editor) {\n        this.widget = widget;\n        this._editor = _editor;\n        this._disposables = new DisposableStore();\n        this._added = false;\n        this._preferAlignAtTop = true;\n        this._resizable = new ResizableHTMLElement();\n        this._resizable.domNode.classList.add('suggest-details-container');\n        this._resizable.domNode.appendChild(widget.domNode);\n        this._resizable.enableSashes(false, true, true, false);\n        let topLeftNow;\n        let sizeNow;\n        let deltaTop = 0;\n        let deltaLeft = 0;\n        this._disposables.add(this._resizable.onDidWillResize(() => {\n            topLeftNow = this._topLeft;\n            sizeNow = this._resizable.size;\n        }));\n        this._disposables.add(this._resizable.onDidResize(e => {\n            if (topLeftNow && sizeNow) {\n                this.widget.layout(e.dimension.width, e.dimension.height);\n                let updateTopLeft = false;\n                if (e.west) {\n                    deltaLeft = sizeNow.width - e.dimension.width;\n                    updateTopLeft = true;\n                }\n                if (e.north) {\n                    deltaTop = sizeNow.height - e.dimension.height;\n                    updateTopLeft = true;\n                }\n                if (updateTopLeft) {\n                    this._applyTopLeft({\n                        top: topLeftNow.top + deltaTop,\n                        left: topLeftNow.left + deltaLeft,\n                    });\n                }\n            }\n            if (e.done) {\n                topLeftNow = undefined;\n                sizeNow = undefined;\n                deltaTop = 0;\n                deltaLeft = 0;\n                this._userSize = e.dimension;\n            }\n        }));\n        this._disposables.add(this.widget.onDidChangeContents(() => {\n            var _a;\n            if (this._anchorBox) {\n                this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, this._preferAlignAtTop);\n            }\n        }));\n    }\n    dispose() {\n        this._resizable.dispose();\n        this._disposables.dispose();\n        this.hide();\n    }\n    getId() {\n        return 'suggest.details';\n    }\n    getDomNode() {\n        return this._resizable.domNode;\n    }\n    getPosition() {\n        return null;\n    }\n    show() {\n        if (!this._added) {\n            this._editor.addOverlayWidget(this);\n            this.getDomNode().style.position = 'fixed';\n            this._added = true;\n        }\n    }\n    hide(sessionEnded = false) {\n        this._resizable.clearSashHoverState();\n        if (this._added) {\n            this._editor.removeOverlayWidget(this);\n            this._added = false;\n            this._anchorBox = undefined;\n            this._topLeft = undefined;\n        }\n        if (sessionEnded) {\n            this._userSize = undefined;\n            this.widget.clearContents();\n        }\n    }\n    placeAtAnchor(anchor, preferAlignAtTop) {\n        var _a;\n        const anchorBox = anchor.getBoundingClientRect();\n        this._anchorBox = anchorBox;\n        this._preferAlignAtTop = preferAlignAtTop;\n        this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, preferAlignAtTop);\n    }\n    _placeAtAnchor(anchorBox, size, preferAlignAtTop) {\n        var _a;\n        const bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n        const info = this.widget.getLayoutInfo();\n        const defaultMinSize = new dom.Dimension(220, 2 * info.lineHeight);\n        const defaultTop = anchorBox.top;\n        // EAST\n        const eastPlacement = (function () {\n            const width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);\n            const left = -info.borderWidth + anchorBox.left + anchorBox.width;\n            const maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n            const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n            return { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n        })();\n        // WEST\n        const westPlacement = (function () {\n            const width = anchorBox.left - info.borderWidth - info.horizontalPadding;\n            const left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);\n            const maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n            const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n            return { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n        })();\n        // SOUTH\n        const southPacement = (function () {\n            const left = anchorBox.left;\n            const top = -info.borderWidth + anchorBox.top + anchorBox.height;\n            const maxSizeBottom = new dom.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);\n            return { top, left, fit: maxSizeBottom.height - size.height, maxSizeBottom, maxSizeTop: maxSizeBottom, minSize: defaultMinSize.with(maxSizeBottom.width) };\n        })();\n        // take first placement that fits or the first with \"least bad\" fit\n        const placements = [eastPlacement, westPlacement, southPacement];\n        const placement = (_a = placements.find(p => p.fit >= 0)) !== null && _a !== void 0 ? _a : placements.sort((a, b) => b.fit - a.fit)[0];\n        // top/bottom placement\n        const bottom = anchorBox.top + anchorBox.height - info.borderHeight;\n        let alignAtTop;\n        let height = size.height;\n        const maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);\n        if (height > maxHeight) {\n            height = maxHeight;\n        }\n        let maxSize;\n        if (preferAlignAtTop) {\n            if (height <= placement.maxSizeTop.height) {\n                alignAtTop = true;\n                maxSize = placement.maxSizeTop;\n            }\n            else {\n                alignAtTop = false;\n                maxSize = placement.maxSizeBottom;\n            }\n        }\n        else {\n            if (height <= placement.maxSizeBottom.height) {\n                alignAtTop = false;\n                maxSize = placement.maxSizeBottom;\n            }\n            else {\n                alignAtTop = true;\n                maxSize = placement.maxSizeTop;\n            }\n        }\n        this._applyTopLeft({ left: placement.left, top: alignAtTop ? placement.top : bottom - height });\n        this.getDomNode().style.position = 'fixed';\n        this._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);\n        this._resizable.minSize = placement.minSize;\n        this._resizable.maxSize = maxSize;\n        this._resizable.layout(height, Math.min(maxSize.width, size.width));\n        this.widget.layout(this._resizable.size.width, this._resizable.size.height);\n    }\n    _applyTopLeft(topLeft) {\n        this._topLeft = topLeft;\n        this.getDomNode().style.left = `${this._topLeft.left}px`;\n        this.getDomNode().style.top = `${this._topLeft.top}px`;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}