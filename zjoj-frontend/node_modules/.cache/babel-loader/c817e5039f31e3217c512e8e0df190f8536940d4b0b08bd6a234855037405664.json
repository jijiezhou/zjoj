{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from '../../common/core/position.js';\nexport class ViewUserInputEvents {\n  constructor(coordinatesConverter) {\n    this.onKeyDown = null;\n    this.onKeyUp = null;\n    this.onContextMenu = null;\n    this.onMouseMove = null;\n    this.onMouseLeave = null;\n    this.onMouseDown = null;\n    this.onMouseUp = null;\n    this.onMouseDrag = null;\n    this.onMouseDrop = null;\n    this.onMouseDropCanceled = null;\n    this.onMouseWheel = null;\n    this._coordinatesConverter = coordinatesConverter;\n  }\n  emitKeyDown(e) {\n    var _a;\n    (_a = this.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  }\n  emitKeyUp(e) {\n    var _a;\n    (_a = this.onKeyUp) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  }\n  emitContextMenu(e) {\n    var _a;\n    (_a = this.onContextMenu) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseMove(e) {\n    var _a;\n    (_a = this.onMouseMove) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseLeave(e) {\n    var _a;\n    (_a = this.onMouseLeave) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseDown(e) {\n    var _a;\n    (_a = this.onMouseDown) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseUp(e) {\n    var _a;\n    (_a = this.onMouseUp) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseDrag(e) {\n    var _a;\n    (_a = this.onMouseDrag) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseDrop(e) {\n    var _a;\n    (_a = this.onMouseDrop) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n  }\n  emitMouseDropCanceled() {\n    var _a;\n    (_a = this.onMouseDropCanceled) === null || _a === void 0 ? void 0 : _a.call(this);\n  }\n  emitMouseWheel(e) {\n    var _a;\n    (_a = this.onMouseWheel) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  }\n  _convertViewToModelMouseEvent(e) {\n    if (e.target) {\n      return {\n        event: e.event,\n        target: this._convertViewToModelMouseTarget(e.target)\n      };\n    }\n    return e;\n  }\n  _convertViewToModelMouseTarget(target) {\n    return ViewUserInputEvents.convertViewToModelMouseTarget(target, this._coordinatesConverter);\n  }\n  static convertViewToModelMouseTarget(target, coordinatesConverter) {\n    const result = {\n      ...target\n    };\n    if (result.position) {\n      result.position = coordinatesConverter.convertViewPositionToModelPosition(result.position);\n    }\n    if (result.range) {\n      result.range = coordinatesConverter.convertViewRangeToModelRange(result.range);\n    }\n    if (result.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */ || result.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */) {\n      result.detail = this.convertViewToModelViewZoneData(result.detail, coordinatesConverter);\n    }\n    return result;\n  }\n  static convertViewToModelViewZoneData(data, coordinatesConverter) {\n    return {\n      viewZoneId: data.viewZoneId,\n      positionBefore: data.positionBefore ? coordinatesConverter.convertViewPositionToModelPosition(data.positionBefore) : data.positionBefore,\n      positionAfter: data.positionAfter ? coordinatesConverter.convertViewPositionToModelPosition(data.positionAfter) : data.positionAfter,\n      position: coordinatesConverter.convertViewPositionToModelPosition(data.position),\n      afterLineNumber: coordinatesConverter.convertViewPositionToModelPosition(new Position(data.afterLineNumber, 1)).lineNumber\n    };\n  }\n}","map":{"version":3,"names":["Position","ViewUserInputEvents","constructor","coordinatesConverter","onKeyDown","onKeyUp","onContextMenu","onMouseMove","onMouseLeave","onMouseDown","onMouseUp","onMouseDrag","onMouseDrop","onMouseDropCanceled","onMouseWheel","_coordinatesConverter","emitKeyDown","e","_a","call","emitKeyUp","emitContextMenu","_convertViewToModelMouseEvent","emitMouseMove","emitMouseLeave","emitMouseDown","emitMouseUp","emitMouseDrag","emitMouseDrop","emitMouseDropCanceled","emitMouseWheel","target","event","_convertViewToModelMouseTarget","convertViewToModelMouseTarget","result","position","convertViewPositionToModelPosition","range","convertViewRangeToModelRange","type","detail","convertViewToModelViewZoneData","data","viewZoneId","positionBefore","positionAfter","afterLineNumber","lineNumber"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/browser/view/viewUserInputEvents.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from '../../common/core/position.js';\nexport class ViewUserInputEvents {\n    constructor(coordinatesConverter) {\n        this.onKeyDown = null;\n        this.onKeyUp = null;\n        this.onContextMenu = null;\n        this.onMouseMove = null;\n        this.onMouseLeave = null;\n        this.onMouseDown = null;\n        this.onMouseUp = null;\n        this.onMouseDrag = null;\n        this.onMouseDrop = null;\n        this.onMouseDropCanceled = null;\n        this.onMouseWheel = null;\n        this._coordinatesConverter = coordinatesConverter;\n    }\n    emitKeyDown(e) {\n        var _a;\n        (_a = this.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(this, e);\n    }\n    emitKeyUp(e) {\n        var _a;\n        (_a = this.onKeyUp) === null || _a === void 0 ? void 0 : _a.call(this, e);\n    }\n    emitContextMenu(e) {\n        var _a;\n        (_a = this.onContextMenu) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseMove(e) {\n        var _a;\n        (_a = this.onMouseMove) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseLeave(e) {\n        var _a;\n        (_a = this.onMouseLeave) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseDown(e) {\n        var _a;\n        (_a = this.onMouseDown) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseUp(e) {\n        var _a;\n        (_a = this.onMouseUp) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseDrag(e) {\n        var _a;\n        (_a = this.onMouseDrag) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseDrop(e) {\n        var _a;\n        (_a = this.onMouseDrop) === null || _a === void 0 ? void 0 : _a.call(this, this._convertViewToModelMouseEvent(e));\n    }\n    emitMouseDropCanceled() {\n        var _a;\n        (_a = this.onMouseDropCanceled) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    emitMouseWheel(e) {\n        var _a;\n        (_a = this.onMouseWheel) === null || _a === void 0 ? void 0 : _a.call(this, e);\n    }\n    _convertViewToModelMouseEvent(e) {\n        if (e.target) {\n            return {\n                event: e.event,\n                target: this._convertViewToModelMouseTarget(e.target)\n            };\n        }\n        return e;\n    }\n    _convertViewToModelMouseTarget(target) {\n        return ViewUserInputEvents.convertViewToModelMouseTarget(target, this._coordinatesConverter);\n    }\n    static convertViewToModelMouseTarget(target, coordinatesConverter) {\n        const result = { ...target };\n        if (result.position) {\n            result.position = coordinatesConverter.convertViewPositionToModelPosition(result.position);\n        }\n        if (result.range) {\n            result.range = coordinatesConverter.convertViewRangeToModelRange(result.range);\n        }\n        if (result.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */ || result.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */) {\n            result.detail = this.convertViewToModelViewZoneData(result.detail, coordinatesConverter);\n        }\n        return result;\n    }\n    static convertViewToModelViewZoneData(data, coordinatesConverter) {\n        return {\n            viewZoneId: data.viewZoneId,\n            positionBefore: data.positionBefore ? coordinatesConverter.convertViewPositionToModelPosition(data.positionBefore) : data.positionBefore,\n            positionAfter: data.positionAfter ? coordinatesConverter.convertViewPositionToModelPosition(data.positionAfter) : data.positionAfter,\n            position: coordinatesConverter.convertViewPositionToModelPosition(data.position),\n            afterLineNumber: coordinatesConverter.convertViewPositionToModelPosition(new Position(data.afterLineNumber, 1)).lineNumber,\n        };\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,+BAA+B;AACxD,OAAO,MAAMC,mBAAmB,CAAC;EAC7BC,WAAWA,CAACC,oBAAoB,EAAE;IAC9B,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,CAACC,qBAAqB,GAAGZ,oBAAoB;EACrD;EACAa,WAAWA,CAACC,CAAC,EAAE;IACX,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACd,SAAS,MAAM,IAAI,IAAIc,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAEF,CAAC,CAAC;EAC/E;EACAG,SAASA,CAACH,CAAC,EAAE;IACT,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACb,OAAO,MAAM,IAAI,IAAIa,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAEF,CAAC,CAAC;EAC7E;EACAI,eAAeA,CAACJ,CAAC,EAAE;IACf,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACZ,aAAa,MAAM,IAAI,IAAIY,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACvH;EACAM,aAAaA,CAACN,CAAC,EAAE;IACb,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACX,WAAW,MAAM,IAAI,IAAIW,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACrH;EACAO,cAAcA,CAACP,CAAC,EAAE;IACd,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACV,YAAY,MAAM,IAAI,IAAIU,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACtH;EACAQ,aAAaA,CAACR,CAAC,EAAE;IACb,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACT,WAAW,MAAM,IAAI,IAAIS,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACrH;EACAS,WAAWA,CAACT,CAAC,EAAE;IACX,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACR,SAAS,MAAM,IAAI,IAAIQ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACnH;EACAU,aAAaA,CAACV,CAAC,EAAE;IACb,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACP,WAAW,MAAM,IAAI,IAAIO,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACrH;EACAW,aAAaA,CAACX,CAAC,EAAE;IACb,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACN,WAAW,MAAM,IAAI,IAAIM,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACG,6BAA6B,CAACL,CAAC,CAAC,CAAC;EACrH;EACAY,qBAAqBA,CAAA,EAAG;IACpB,IAAIX,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACL,mBAAmB,MAAM,IAAI,IAAIK,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,CAAC;EACtF;EACAW,cAAcA,CAACb,CAAC,EAAE;IACd,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACJ,YAAY,MAAM,IAAI,IAAII,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,IAAI,EAAEF,CAAC,CAAC;EAClF;EACAK,6BAA6BA,CAACL,CAAC,EAAE;IAC7B,IAAIA,CAAC,CAACc,MAAM,EAAE;MACV,OAAO;QACHC,KAAK,EAAEf,CAAC,CAACe,KAAK;QACdD,MAAM,EAAE,IAAI,CAACE,8BAA8B,CAAChB,CAAC,CAACc,MAAM;MACxD,CAAC;IACL;IACA,OAAOd,CAAC;EACZ;EACAgB,8BAA8BA,CAACF,MAAM,EAAE;IACnC,OAAO9B,mBAAmB,CAACiC,6BAA6B,CAACH,MAAM,EAAE,IAAI,CAAChB,qBAAqB,CAAC;EAChG;EACA,OAAOmB,6BAA6BA,CAACH,MAAM,EAAE5B,oBAAoB,EAAE;IAC/D,MAAMgC,MAAM,GAAG;MAAE,GAAGJ;IAAO,CAAC;IAC5B,IAAII,MAAM,CAACC,QAAQ,EAAE;MACjBD,MAAM,CAACC,QAAQ,GAAGjC,oBAAoB,CAACkC,kCAAkC,CAACF,MAAM,CAACC,QAAQ,CAAC;IAC9F;IACA,IAAID,MAAM,CAACG,KAAK,EAAE;MACdH,MAAM,CAACG,KAAK,GAAGnC,oBAAoB,CAACoC,4BAA4B,CAACJ,MAAM,CAACG,KAAK,CAAC;IAClF;IACA,IAAIH,MAAM,CAACK,IAAI,KAAK,CAAC,CAAC,0CAA0CL,MAAM,CAACK,IAAI,KAAK,CAAC,CAAC,yCAAyC;MACvHL,MAAM,CAACM,MAAM,GAAG,IAAI,CAACC,8BAA8B,CAACP,MAAM,CAACM,MAAM,EAAEtC,oBAAoB,CAAC;IAC5F;IACA,OAAOgC,MAAM;EACjB;EACA,OAAOO,8BAA8BA,CAACC,IAAI,EAAExC,oBAAoB,EAAE;IAC9D,OAAO;MACHyC,UAAU,EAAED,IAAI,CAACC,UAAU;MAC3BC,cAAc,EAAEF,IAAI,CAACE,cAAc,GAAG1C,oBAAoB,CAACkC,kCAAkC,CAACM,IAAI,CAACE,cAAc,CAAC,GAAGF,IAAI,CAACE,cAAc;MACxIC,aAAa,EAAEH,IAAI,CAACG,aAAa,GAAG3C,oBAAoB,CAACkC,kCAAkC,CAACM,IAAI,CAACG,aAAa,CAAC,GAAGH,IAAI,CAACG,aAAa;MACpIV,QAAQ,EAAEjC,oBAAoB,CAACkC,kCAAkC,CAACM,IAAI,CAACP,QAAQ,CAAC;MAChFW,eAAe,EAAE5C,oBAAoB,CAACkC,kCAAkC,CAAC,IAAIrC,QAAQ,CAAC2C,IAAI,CAACI,eAAe,EAAE,CAAC,CAAC,CAAC,CAACC;IACpH,CAAC;EACL;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}