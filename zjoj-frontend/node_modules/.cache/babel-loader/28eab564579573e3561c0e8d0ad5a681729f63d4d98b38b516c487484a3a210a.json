{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { addStandardDisposableListener, getDomNodePagePosition } from '../../../../base/browser/dom.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../../base/common/platform.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { localize } from '../../../../nls.js';\nexport class InlineDiffDeletedCodeMargin extends Disposable {\n  get visibility() {\n    return this._visibility;\n  }\n  set visibility(_visibility) {\n    if (this._visibility !== _visibility) {\n      this._visibility = _visibility;\n      this._diffActions.style.visibility = _visibility ? 'visible' : 'hidden';\n    }\n  }\n  constructor(_getViewZoneId, _marginDomNode, _modifiedEditor, _diff, _editor, _viewLineCounts, _originalTextModel, _contextMenuService, _clipboardService) {\n    super();\n    this._getViewZoneId = _getViewZoneId;\n    this._marginDomNode = _marginDomNode;\n    this._modifiedEditor = _modifiedEditor;\n    this._diff = _diff;\n    this._editor = _editor;\n    this._viewLineCounts = _viewLineCounts;\n    this._originalTextModel = _originalTextModel;\n    this._contextMenuService = _contextMenuService;\n    this._clipboardService = _clipboardService;\n    this._visibility = false;\n    // make sure the diff margin shows above overlay.\n    this._marginDomNode.style.zIndex = '10';\n    this._diffActions = document.createElement('div');\n    this._diffActions.className = ThemeIcon.asClassName(Codicon.lightBulb) + ' lightbulb-glyph';\n    this._diffActions.style.position = 'absolute';\n    const lineHeight = this._modifiedEditor.getOption(66 /* EditorOption.lineHeight */);\n    this._diffActions.style.right = '0px';\n    this._diffActions.style.visibility = 'hidden';\n    this._diffActions.style.height = `${lineHeight}px`;\n    this._diffActions.style.lineHeight = `${lineHeight}px`;\n    this._marginDomNode.appendChild(this._diffActions);\n    let currentLineNumberOffset = 0;\n    const useShadowDOM = _modifiedEditor.getOption(126 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n    const showContextMenu = (x, y) => {\n      var _a;\n      this._contextMenuService.showContextMenu({\n        domForShadowRoot: useShadowDOM ? (_a = _modifiedEditor.getDomNode()) !== null && _a !== void 0 ? _a : undefined : undefined,\n        getAnchor: () => ({\n          x,\n          y\n        }),\n        getActions: () => {\n          const actions = [];\n          const isDeletion = _diff.modified.isEmpty;\n          // default action\n          actions.push(new Action('diff.clipboard.copyDeletedContent', isDeletion ? _diff.original.length > 1 ? localize('diff.clipboard.copyDeletedLinesContent.label', \"Copy deleted lines\") : localize('diff.clipboard.copyDeletedLinesContent.single.label', \"Copy deleted line\") : _diff.original.length > 1 ? localize('diff.clipboard.copyChangedLinesContent.label', \"Copy changed lines\") : localize('diff.clipboard.copyChangedLinesContent.single.label', \"Copy changed line\"), undefined, true, async () => {\n            const originalText = this._originalTextModel.getValueInRange(_diff.original.toExclusiveRange());\n            await this._clipboardService.writeText(originalText);\n          }));\n          if (_diff.original.length > 1) {\n            actions.push(new Action('diff.clipboard.copyDeletedLineContent', isDeletion ? localize('diff.clipboard.copyDeletedLineContent.label', \"Copy deleted line ({0})\", _diff.original.startLineNumber + currentLineNumberOffset) : localize('diff.clipboard.copyChangedLineContent.label', \"Copy changed line ({0})\", _diff.original.startLineNumber + currentLineNumberOffset), undefined, true, async () => {\n              let lineContent = this._originalTextModel.getLineContent(_diff.original.startLineNumber + currentLineNumberOffset);\n              if (lineContent === '') {\n                // empty line -> new line\n                const eof = this._originalTextModel.getEndOfLineSequence();\n                lineContent = eof === 0 /* EndOfLineSequence.LF */ ? '\\n' : '\\r\\n';\n              }\n              await this._clipboardService.writeText(lineContent);\n            }));\n          }\n          const readOnly = _modifiedEditor.getOption(90 /* EditorOption.readOnly */);\n          if (!readOnly) {\n            actions.push(new Action('diff.inline.revertChange', localize('diff.inline.revertChange.label', \"Revert this change\"), undefined, true, async () => {\n              this._editor.revert(this._diff);\n            }));\n          }\n          return actions;\n        },\n        autoSelectFirstItem: true\n      });\n    };\n    this._register(addStandardDisposableListener(this._diffActions, 'mousedown', e => {\n      if (!e.leftButton) {\n        return;\n      }\n      const {\n        top,\n        height\n      } = getDomNodePagePosition(this._diffActions);\n      const pad = Math.floor(lineHeight / 3);\n      e.preventDefault();\n      showContextMenu(e.posx, top + height + pad);\n    }));\n    this._register(_modifiedEditor.onMouseMove(e => {\n      if ((e.target.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ || e.target.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */) && e.target.detail.viewZoneId === this._getViewZoneId()) {\n        currentLineNumberOffset = this._updateLightBulbPosition(this._marginDomNode, e.event.browserEvent.y, lineHeight);\n        this.visibility = true;\n      } else {\n        this.visibility = false;\n      }\n    }));\n    this._register(_modifiedEditor.onMouseDown(e => {\n      if (!e.event.leftButton) {\n        return;\n      }\n      if (e.target.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ || e.target.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */) {\n        const viewZoneId = e.target.detail.viewZoneId;\n        if (viewZoneId === this._getViewZoneId()) {\n          e.event.preventDefault();\n          currentLineNumberOffset = this._updateLightBulbPosition(this._marginDomNode, e.event.browserEvent.y, lineHeight);\n          showContextMenu(e.event.posx, e.event.posy + lineHeight);\n        }\n      }\n    }));\n  }\n  _updateLightBulbPosition(marginDomNode, y, lineHeight) {\n    const {\n      top\n    } = getDomNodePagePosition(marginDomNode);\n    const offset = y - top;\n    const lineNumberOffset = Math.floor(offset / lineHeight);\n    const newTop = lineNumberOffset * lineHeight;\n    this._diffActions.style.top = `${newTop}px`;\n    if (this._viewLineCounts) {\n      let acc = 0;\n      for (let i = 0; i < this._viewLineCounts.length; i++) {\n        acc += this._viewLineCounts[i];\n        if (lineNumberOffset < acc) {\n          return i;\n        }\n      }\n    }\n    return lineNumberOffset;\n  }\n}","map":{"version":3,"names":["addStandardDisposableListener","getDomNodePagePosition","Action","Codicon","Disposable","isIOS","ThemeIcon","localize","InlineDiffDeletedCodeMargin","visibility","_visibility","_diffActions","style","constructor","_getViewZoneId","_marginDomNode","_modifiedEditor","_diff","_editor","_viewLineCounts","_originalTextModel","_contextMenuService","_clipboardService","zIndex","document","createElement","className","asClassName","lightBulb","position","lineHeight","getOption","right","height","appendChild","currentLineNumberOffset","useShadowDOM","showContextMenu","x","y","_a","domForShadowRoot","getDomNode","undefined","getAnchor","getActions","actions","isDeletion","modified","isEmpty","push","original","length","originalText","getValueInRange","toExclusiveRange","writeText","startLineNumber","lineContent","getLineContent","eof","getEndOfLineSequence","readOnly","revert","autoSelectFirstItem","_register","e","leftButton","top","pad","Math","floor","preventDefault","posx","onMouseMove","target","type","detail","viewZoneId","_updateLightBulbPosition","event","browserEvent","onMouseDown","posy","marginDomNode","offset","lineNumberOffset","newTop","acc","i"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditor/inlineDiffDeletedCodeMargin.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { addStandardDisposableListener, getDomNodePagePosition } from '../../../../base/browser/dom.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../../base/common/platform.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { localize } from '../../../../nls.js';\nexport class InlineDiffDeletedCodeMargin extends Disposable {\n    get visibility() {\n        return this._visibility;\n    }\n    set visibility(_visibility) {\n        if (this._visibility !== _visibility) {\n            this._visibility = _visibility;\n            this._diffActions.style.visibility = _visibility ? 'visible' : 'hidden';\n        }\n    }\n    constructor(_getViewZoneId, _marginDomNode, _modifiedEditor, _diff, _editor, _viewLineCounts, _originalTextModel, _contextMenuService, _clipboardService) {\n        super();\n        this._getViewZoneId = _getViewZoneId;\n        this._marginDomNode = _marginDomNode;\n        this._modifiedEditor = _modifiedEditor;\n        this._diff = _diff;\n        this._editor = _editor;\n        this._viewLineCounts = _viewLineCounts;\n        this._originalTextModel = _originalTextModel;\n        this._contextMenuService = _contextMenuService;\n        this._clipboardService = _clipboardService;\n        this._visibility = false;\n        // make sure the diff margin shows above overlay.\n        this._marginDomNode.style.zIndex = '10';\n        this._diffActions = document.createElement('div');\n        this._diffActions.className = ThemeIcon.asClassName(Codicon.lightBulb) + ' lightbulb-glyph';\n        this._diffActions.style.position = 'absolute';\n        const lineHeight = this._modifiedEditor.getOption(66 /* EditorOption.lineHeight */);\n        this._diffActions.style.right = '0px';\n        this._diffActions.style.visibility = 'hidden';\n        this._diffActions.style.height = `${lineHeight}px`;\n        this._diffActions.style.lineHeight = `${lineHeight}px`;\n        this._marginDomNode.appendChild(this._diffActions);\n        let currentLineNumberOffset = 0;\n        const useShadowDOM = _modifiedEditor.getOption(126 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n        const showContextMenu = (x, y) => {\n            var _a;\n            this._contextMenuService.showContextMenu({\n                domForShadowRoot: useShadowDOM ? (_a = _modifiedEditor.getDomNode()) !== null && _a !== void 0 ? _a : undefined : undefined,\n                getAnchor: () => ({ x, y }),\n                getActions: () => {\n                    const actions = [];\n                    const isDeletion = _diff.modified.isEmpty;\n                    // default action\n                    actions.push(new Action('diff.clipboard.copyDeletedContent', isDeletion\n                        ? (_diff.original.length > 1\n                            ? localize('diff.clipboard.copyDeletedLinesContent.label', \"Copy deleted lines\")\n                            : localize('diff.clipboard.copyDeletedLinesContent.single.label', \"Copy deleted line\"))\n                        : (_diff.original.length > 1\n                            ? localize('diff.clipboard.copyChangedLinesContent.label', \"Copy changed lines\")\n                            : localize('diff.clipboard.copyChangedLinesContent.single.label', \"Copy changed line\")), undefined, true, async () => {\n                        const originalText = this._originalTextModel.getValueInRange(_diff.original.toExclusiveRange());\n                        await this._clipboardService.writeText(originalText);\n                    }));\n                    if (_diff.original.length > 1) {\n                        actions.push(new Action('diff.clipboard.copyDeletedLineContent', isDeletion\n                            ? localize('diff.clipboard.copyDeletedLineContent.label', \"Copy deleted line ({0})\", _diff.original.startLineNumber + currentLineNumberOffset)\n                            : localize('diff.clipboard.copyChangedLineContent.label', \"Copy changed line ({0})\", _diff.original.startLineNumber + currentLineNumberOffset), undefined, true, async () => {\n                            let lineContent = this._originalTextModel.getLineContent(_diff.original.startLineNumber + currentLineNumberOffset);\n                            if (lineContent === '') {\n                                // empty line -> new line\n                                const eof = this._originalTextModel.getEndOfLineSequence();\n                                lineContent = eof === 0 /* EndOfLineSequence.LF */ ? '\\n' : '\\r\\n';\n                            }\n                            await this._clipboardService.writeText(lineContent);\n                        }));\n                    }\n                    const readOnly = _modifiedEditor.getOption(90 /* EditorOption.readOnly */);\n                    if (!readOnly) {\n                        actions.push(new Action('diff.inline.revertChange', localize('diff.inline.revertChange.label', \"Revert this change\"), undefined, true, async () => {\n                            this._editor.revert(this._diff);\n                        }));\n                    }\n                    return actions;\n                },\n                autoSelectFirstItem: true\n            });\n        };\n        this._register(addStandardDisposableListener(this._diffActions, 'mousedown', e => {\n            if (!e.leftButton) {\n                return;\n            }\n            const { top, height } = getDomNodePagePosition(this._diffActions);\n            const pad = Math.floor(lineHeight / 3);\n            e.preventDefault();\n            showContextMenu(e.posx, top + height + pad);\n        }));\n        this._register(_modifiedEditor.onMouseMove((e) => {\n            if ((e.target.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ || e.target.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */) && e.target.detail.viewZoneId === this._getViewZoneId()) {\n                currentLineNumberOffset = this._updateLightBulbPosition(this._marginDomNode, e.event.browserEvent.y, lineHeight);\n                this.visibility = true;\n            }\n            else {\n                this.visibility = false;\n            }\n        }));\n        this._register(_modifiedEditor.onMouseDown((e) => {\n            if (!e.event.leftButton) {\n                return;\n            }\n            if (e.target.type === 8 /* MouseTargetType.CONTENT_VIEW_ZONE */ || e.target.type === 5 /* MouseTargetType.GUTTER_VIEW_ZONE */) {\n                const viewZoneId = e.target.detail.viewZoneId;\n                if (viewZoneId === this._getViewZoneId()) {\n                    e.event.preventDefault();\n                    currentLineNumberOffset = this._updateLightBulbPosition(this._marginDomNode, e.event.browserEvent.y, lineHeight);\n                    showContextMenu(e.event.posx, e.event.posy + lineHeight);\n                }\n            }\n        }));\n    }\n    _updateLightBulbPosition(marginDomNode, y, lineHeight) {\n        const { top } = getDomNodePagePosition(marginDomNode);\n        const offset = y - top;\n        const lineNumberOffset = Math.floor(offset / lineHeight);\n        const newTop = lineNumberOffset * lineHeight;\n        this._diffActions.style.top = `${newTop}px`;\n        if (this._viewLineCounts) {\n            let acc = 0;\n            for (let i = 0; i < this._viewLineCounts.length; i++) {\n                acc += this._viewLineCounts[i];\n                if (lineNumberOffset < acc) {\n                    return i;\n                }\n            }\n        }\n        return lineNumberOffset;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}