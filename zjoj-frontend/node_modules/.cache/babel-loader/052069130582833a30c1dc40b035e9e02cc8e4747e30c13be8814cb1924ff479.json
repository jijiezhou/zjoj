{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed } from \"vue\";\nconst useSelectedPath = (options, {\n  optionMap,\n  filteredLeafOptions,\n  showSearchPanel,\n  expandChild\n}) => {\n  const activeKey = ref();\n  const activeOption = computed(() => {\n    if (activeKey.value) return optionMap.get(activeKey.value);\n    return void 0;\n  });\n  const selectedPath = ref([]);\n  const displayColumns = computed(() => {\n    const columns = [options.value];\n    for (const key of selectedPath.value) {\n      const option = optionMap.get(key);\n      if (option == null ? void 0 : option.children) {\n        columns.push(option.children);\n      }\n    }\n    return columns;\n  });\n  const setSelectedPath = key => {\n    var _a;\n    const option = getTargetOption(key);\n    selectedPath.value = (_a = option == null ? void 0 : option.path.map(item => item.key)) != null ? _a : [];\n  };\n  const setActiveKey = key => {\n    activeKey.value = key;\n  };\n  const enabledOptions = computed(() => {\n    var _a;\n    if (showSearchPanel == null ? void 0 : showSearchPanel.value) {\n      return filteredLeafOptions.value.filter(item => !item.disabled);\n    }\n    if (activeOption.value && activeOption.value.parent) {\n      return (_a = activeOption.value.parent.children) == null ? void 0 : _a.filter(item => !item.disabled);\n    }\n    return options.value.filter(item => !item.disabled);\n  });\n  const getTargetOption = key => {\n    let target = key ? optionMap.get(key) : void 0;\n    if (expandChild.value) {\n      while (target && target.children && target.children.length > 0) {\n        target = target.children[0];\n      }\n    }\n    return target;\n  };\n  const getNextActiveNode = direction => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const _length = (_b = (_a = enabledOptions.value) == null ? void 0 : _a.length) != null ? _b : 0;\n    if (activeKey.value) {\n      const enabledIndex = (_d = (_c = enabledOptions.value) == null ? void 0 : _c.findIndex(item => item.key === activeKey.value)) != null ? _d : 0;\n      if (direction === \"next\") {\n        return (_e = enabledOptions.value) == null ? void 0 : _e[(_length + enabledIndex + 1) % _length];\n      }\n      return (_f = enabledOptions.value) == null ? void 0 : _f[(_length + enabledIndex - 1) % _length];\n    }\n    return (_g = enabledOptions.value) == null ? void 0 : _g[0];\n  };\n  return {\n    activeKey,\n    activeOption,\n    selectedPath,\n    displayColumns,\n    setActiveKey,\n    setSelectedPath,\n    getNextActiveNode\n  };\n};\nexport { useSelectedPath };","map":{"version":3,"names":["ref","computed","useSelectedPath","options","optionMap","filteredLeafOptions","showSearchPanel","expandChild","activeKey","activeOption","value","get","selectedPath","displayColumns","columns","key","option","children","push","setSelectedPath","_a","getTargetOption","path","map","item","setActiveKey","enabledOptions","filter","disabled","parent","target","length","getNextActiveNode","direction","_b","_c","_d","_e","_f","_g","_length","enabledIndex","findIndex"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/@arco-design/web-vue/es/cascader/hooks/use-selected-path.js"],"sourcesContent":["import { ref, computed } from \"vue\";\nconst useSelectedPath = (options, {\n  optionMap,\n  filteredLeafOptions,\n  showSearchPanel,\n  expandChild\n}) => {\n  const activeKey = ref();\n  const activeOption = computed(() => {\n    if (activeKey.value)\n      return optionMap.get(activeKey.value);\n    return void 0;\n  });\n  const selectedPath = ref([]);\n  const displayColumns = computed(() => {\n    const columns = [options.value];\n    for (const key of selectedPath.value) {\n      const option = optionMap.get(key);\n      if (option == null ? void 0 : option.children) {\n        columns.push(option.children);\n      }\n    }\n    return columns;\n  });\n  const setSelectedPath = (key) => {\n    var _a;\n    const option = getTargetOption(key);\n    selectedPath.value = (_a = option == null ? void 0 : option.path.map((item) => item.key)) != null ? _a : [];\n  };\n  const setActiveKey = (key) => {\n    activeKey.value = key;\n  };\n  const enabledOptions = computed(() => {\n    var _a;\n    if (showSearchPanel == null ? void 0 : showSearchPanel.value) {\n      return filteredLeafOptions.value.filter((item) => !item.disabled);\n    }\n    if (activeOption.value && activeOption.value.parent) {\n      return (_a = activeOption.value.parent.children) == null ? void 0 : _a.filter((item) => !item.disabled);\n    }\n    return options.value.filter((item) => !item.disabled);\n  });\n  const getTargetOption = (key) => {\n    let target = key ? optionMap.get(key) : void 0;\n    if (expandChild.value) {\n      while (target && target.children && target.children.length > 0) {\n        target = target.children[0];\n      }\n    }\n    return target;\n  };\n  const getNextActiveNode = (direction) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const _length = (_b = (_a = enabledOptions.value) == null ? void 0 : _a.length) != null ? _b : 0;\n    if (activeKey.value) {\n      const enabledIndex = (_d = (_c = enabledOptions.value) == null ? void 0 : _c.findIndex((item) => item.key === activeKey.value)) != null ? _d : 0;\n      if (direction === \"next\") {\n        return (_e = enabledOptions.value) == null ? void 0 : _e[(_length + enabledIndex + 1) % _length];\n      }\n      return (_f = enabledOptions.value) == null ? void 0 : _f[(_length + enabledIndex - 1) % _length];\n    }\n    return (_g = enabledOptions.value) == null ? void 0 : _g[0];\n  };\n  return {\n    activeKey,\n    activeOption,\n    selectedPath,\n    displayColumns,\n    setActiveKey,\n    setSelectedPath,\n    getNextActiveNode\n  };\n};\nexport { useSelectedPath };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}