{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { InlineDecoration, ViewModelDecoration } from '../viewModel.js';\nimport { filterValidationDecorations } from '../config/editorOptions.js';\nexport class ViewModelDecorations {\n  constructor(editorId, model, configuration, linesCollection, coordinatesConverter) {\n    this.editorId = editorId;\n    this.model = model;\n    this.configuration = configuration;\n    this._linesCollection = linesCollection;\n    this._coordinatesConverter = coordinatesConverter;\n    this._decorationsCache = Object.create(null);\n    this._cachedModelDecorationsResolver = null;\n    this._cachedModelDecorationsResolverViewRange = null;\n  }\n  _clearCachedModelDecorationsResolver() {\n    this._cachedModelDecorationsResolver = null;\n    this._cachedModelDecorationsResolverViewRange = null;\n  }\n  dispose() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  reset() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  onModelDecorationsChanged() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  onLineMappingChanged() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  _getOrCreateViewModelDecoration(modelDecoration) {\n    const id = modelDecoration.id;\n    let r = this._decorationsCache[id];\n    if (!r) {\n      const modelRange = modelDecoration.range;\n      const options = modelDecoration.options;\n      let viewRange;\n      if (options.isWholeLine) {\n        const start = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.startLineNumber, 1), 0 /* PositionAffinity.Left */, false, true);\n        const end = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.endLineNumber, this.model.getLineMaxColumn(modelRange.endLineNumber)), 1 /* PositionAffinity.Right */);\n        viewRange = new Range(start.lineNumber, start.column, end.lineNumber, end.column);\n      } else {\n        // For backwards compatibility reasons, we want injected text before any decoration.\n        // Thus, move decorations to the right.\n        viewRange = this._coordinatesConverter.convertModelRangeToViewRange(modelRange, 1 /* PositionAffinity.Right */);\n      }\n      r = new ViewModelDecoration(viewRange, options);\n      this._decorationsCache[id] = r;\n    }\n    return r;\n  }\n  getMinimapDecorationsInRange(range) {\n    return this._getDecorationsInRange(range, true, false).decorations;\n  }\n  getDecorationsViewportData(viewRange) {\n    let cacheIsValid = this._cachedModelDecorationsResolver !== null;\n    cacheIsValid = cacheIsValid && viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange);\n    if (!cacheIsValid) {\n      this._cachedModelDecorationsResolver = this._getDecorationsInRange(viewRange, false, false);\n      this._cachedModelDecorationsResolverViewRange = viewRange;\n    }\n    return this._cachedModelDecorationsResolver;\n  }\n  getInlineDecorationsOnLine(lineNumber, onlyMinimapDecorations = false, onlyMarginDecorations = false) {\n    const range = new Range(lineNumber, this._linesCollection.getViewLineMinColumn(lineNumber), lineNumber, this._linesCollection.getViewLineMaxColumn(lineNumber));\n    return this._getDecorationsInRange(range, onlyMinimapDecorations, onlyMarginDecorations).inlineDecorations[0];\n  }\n  _getDecorationsInRange(viewRange, onlyMinimapDecorations, onlyMarginDecorations) {\n    const modelDecorations = this._linesCollection.getDecorationsInRange(viewRange, this.editorId, filterValidationDecorations(this.configuration.options), onlyMinimapDecorations, onlyMarginDecorations);\n    const startLineNumber = viewRange.startLineNumber;\n    const endLineNumber = viewRange.endLineNumber;\n    const decorationsInViewport = [];\n    let decorationsInViewportLen = 0;\n    const inlineDecorations = [];\n    for (let j = startLineNumber; j <= endLineNumber; j++) {\n      inlineDecorations[j - startLineNumber] = [];\n    }\n    for (let i = 0, len = modelDecorations.length; i < len; i++) {\n      const modelDecoration = modelDecorations[i];\n      const decorationOptions = modelDecoration.options;\n      if (!isModelDecorationVisible(this.model, modelDecoration)) {\n        continue;\n      }\n      const viewModelDecoration = this._getOrCreateViewModelDecoration(modelDecoration);\n      const viewRange = viewModelDecoration.range;\n      decorationsInViewport[decorationsInViewportLen++] = viewModelDecoration;\n      if (decorationOptions.inlineClassName) {\n        const inlineDecoration = new InlineDecoration(viewRange, decorationOptions.inlineClassName, decorationOptions.inlineClassNameAffectsLetterSpacing ? 3 /* InlineDecorationType.RegularAffectingLetterSpacing */ : 0 /* InlineDecorationType.Regular */);\n        const intersectedStartLineNumber = Math.max(startLineNumber, viewRange.startLineNumber);\n        const intersectedEndLineNumber = Math.min(endLineNumber, viewRange.endLineNumber);\n        for (let j = intersectedStartLineNumber; j <= intersectedEndLineNumber; j++) {\n          inlineDecorations[j - startLineNumber].push(inlineDecoration);\n        }\n      }\n      if (decorationOptions.beforeContentClassName) {\n        if (startLineNumber <= viewRange.startLineNumber && viewRange.startLineNumber <= endLineNumber) {\n          const inlineDecoration = new InlineDecoration(new Range(viewRange.startLineNumber, viewRange.startColumn, viewRange.startLineNumber, viewRange.startColumn), decorationOptions.beforeContentClassName, 1 /* InlineDecorationType.Before */);\n          inlineDecorations[viewRange.startLineNumber - startLineNumber].push(inlineDecoration);\n        }\n      }\n      if (decorationOptions.afterContentClassName) {\n        if (startLineNumber <= viewRange.endLineNumber && viewRange.endLineNumber <= endLineNumber) {\n          const inlineDecoration = new InlineDecoration(new Range(viewRange.endLineNumber, viewRange.endColumn, viewRange.endLineNumber, viewRange.endColumn), decorationOptions.afterContentClassName, 2 /* InlineDecorationType.After */);\n          inlineDecorations[viewRange.endLineNumber - startLineNumber].push(inlineDecoration);\n        }\n      }\n    }\n    return {\n      decorations: decorationsInViewport,\n      inlineDecorations: inlineDecorations\n    };\n  }\n}\nexport function isModelDecorationVisible(model, decoration) {\n  if (decoration.options.hideInCommentTokens && isModelDecorationInComment(model, decoration)) {\n    return false;\n  }\n  if (decoration.options.hideInStringTokens && isModelDecorationInString(model, decoration)) {\n    return false;\n  }\n  return true;\n}\nexport function isModelDecorationInComment(model, decoration) {\n  return testTokensInRange(model, decoration.range, tokenType => tokenType === 1 /* StandardTokenType.Comment */);\n}\nexport function isModelDecorationInString(model, decoration) {\n  return testTokensInRange(model, decoration.range, tokenType => tokenType === 2 /* StandardTokenType.String */);\n}\n/**\n * Calls the callback for every token that intersects the range.\n * If the callback returns `false`, iteration stops and `false` is returned.\n * Otherwise, `true` is returned.\n */\nfunction testTokensInRange(model, range, callback) {\n  for (let lineNumber = range.startLineNumber; lineNumber <= range.endLineNumber; lineNumber++) {\n    const lineTokens = model.tokenization.getLineTokens(lineNumber);\n    const isFirstLine = lineNumber === range.startLineNumber;\n    const isEndLine = lineNumber === range.endLineNumber;\n    let tokenIdx = isFirstLine ? lineTokens.findTokenIndexAtOffset(range.startColumn - 1) : 0;\n    while (tokenIdx < lineTokens.getCount()) {\n      if (isEndLine) {\n        const startOffset = lineTokens.getStartOffset(tokenIdx);\n        if (startOffset > range.endColumn - 1) {\n          break;\n        }\n      }\n      const callbackResult = callback(lineTokens.getStandardTokenType(tokenIdx));\n      if (!callbackResult) {\n        return false;\n      }\n      tokenIdx++;\n    }\n  }\n  return true;\n}","map":{"version":3,"names":["Position","Range","InlineDecoration","ViewModelDecoration","filterValidationDecorations","ViewModelDecorations","constructor","editorId","model","configuration","linesCollection","coordinatesConverter","_linesCollection","_coordinatesConverter","_decorationsCache","Object","create","_cachedModelDecorationsResolver","_cachedModelDecorationsResolverViewRange","_clearCachedModelDecorationsResolver","dispose","reset","onModelDecorationsChanged","onLineMappingChanged","_getOrCreateViewModelDecoration","modelDecoration","id","r","modelRange","range","options","viewRange","isWholeLine","start","convertModelPositionToViewPosition","startLineNumber","end","endLineNumber","getLineMaxColumn","lineNumber","column","convertModelRangeToViewRange","getMinimapDecorationsInRange","_getDecorationsInRange","decorations","getDecorationsViewportData","cacheIsValid","equalsRange","getInlineDecorationsOnLine","onlyMinimapDecorations","onlyMarginDecorations","getViewLineMinColumn","getViewLineMaxColumn","inlineDecorations","modelDecorations","getDecorationsInRange","decorationsInViewport","decorationsInViewportLen","j","i","len","length","decorationOptions","isModelDecorationVisible","viewModelDecoration","inlineClassName","inlineDecoration","inlineClassNameAffectsLetterSpacing","intersectedStartLineNumber","Math","max","intersectedEndLineNumber","min","push","beforeContentClassName","startColumn","afterContentClassName","endColumn","decoration","hideInCommentTokens","isModelDecorationInComment","hideInStringTokens","isModelDecorationInString","testTokensInRange","tokenType","callback","lineTokens","tokenization","getLineTokens","isFirstLine","isEndLine","tokenIdx","findTokenIndexAtOffset","getCount","startOffset","getStartOffset","callbackResult","getStandardTokenType"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelDecorations.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { InlineDecoration, ViewModelDecoration } from '../viewModel.js';\nimport { filterValidationDecorations } from '../config/editorOptions.js';\nexport class ViewModelDecorations {\n    constructor(editorId, model, configuration, linesCollection, coordinatesConverter) {\n        this.editorId = editorId;\n        this.model = model;\n        this.configuration = configuration;\n        this._linesCollection = linesCollection;\n        this._coordinatesConverter = coordinatesConverter;\n        this._decorationsCache = Object.create(null);\n        this._cachedModelDecorationsResolver = null;\n        this._cachedModelDecorationsResolverViewRange = null;\n    }\n    _clearCachedModelDecorationsResolver() {\n        this._cachedModelDecorationsResolver = null;\n        this._cachedModelDecorationsResolverViewRange = null;\n    }\n    dispose() {\n        this._decorationsCache = Object.create(null);\n        this._clearCachedModelDecorationsResolver();\n    }\n    reset() {\n        this._decorationsCache = Object.create(null);\n        this._clearCachedModelDecorationsResolver();\n    }\n    onModelDecorationsChanged() {\n        this._decorationsCache = Object.create(null);\n        this._clearCachedModelDecorationsResolver();\n    }\n    onLineMappingChanged() {\n        this._decorationsCache = Object.create(null);\n        this._clearCachedModelDecorationsResolver();\n    }\n    _getOrCreateViewModelDecoration(modelDecoration) {\n        const id = modelDecoration.id;\n        let r = this._decorationsCache[id];\n        if (!r) {\n            const modelRange = modelDecoration.range;\n            const options = modelDecoration.options;\n            let viewRange;\n            if (options.isWholeLine) {\n                const start = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.startLineNumber, 1), 0 /* PositionAffinity.Left */, false, true);\n                const end = this._coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.endLineNumber, this.model.getLineMaxColumn(modelRange.endLineNumber)), 1 /* PositionAffinity.Right */);\n                viewRange = new Range(start.lineNumber, start.column, end.lineNumber, end.column);\n            }\n            else {\n                // For backwards compatibility reasons, we want injected text before any decoration.\n                // Thus, move decorations to the right.\n                viewRange = this._coordinatesConverter.convertModelRangeToViewRange(modelRange, 1 /* PositionAffinity.Right */);\n            }\n            r = new ViewModelDecoration(viewRange, options);\n            this._decorationsCache[id] = r;\n        }\n        return r;\n    }\n    getMinimapDecorationsInRange(range) {\n        return this._getDecorationsInRange(range, true, false).decorations;\n    }\n    getDecorationsViewportData(viewRange) {\n        let cacheIsValid = (this._cachedModelDecorationsResolver !== null);\n        cacheIsValid = cacheIsValid && (viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange));\n        if (!cacheIsValid) {\n            this._cachedModelDecorationsResolver = this._getDecorationsInRange(viewRange, false, false);\n            this._cachedModelDecorationsResolverViewRange = viewRange;\n        }\n        return this._cachedModelDecorationsResolver;\n    }\n    getInlineDecorationsOnLine(lineNumber, onlyMinimapDecorations = false, onlyMarginDecorations = false) {\n        const range = new Range(lineNumber, this._linesCollection.getViewLineMinColumn(lineNumber), lineNumber, this._linesCollection.getViewLineMaxColumn(lineNumber));\n        return this._getDecorationsInRange(range, onlyMinimapDecorations, onlyMarginDecorations).inlineDecorations[0];\n    }\n    _getDecorationsInRange(viewRange, onlyMinimapDecorations, onlyMarginDecorations) {\n        const modelDecorations = this._linesCollection.getDecorationsInRange(viewRange, this.editorId, filterValidationDecorations(this.configuration.options), onlyMinimapDecorations, onlyMarginDecorations);\n        const startLineNumber = viewRange.startLineNumber;\n        const endLineNumber = viewRange.endLineNumber;\n        const decorationsInViewport = [];\n        let decorationsInViewportLen = 0;\n        const inlineDecorations = [];\n        for (let j = startLineNumber; j <= endLineNumber; j++) {\n            inlineDecorations[j - startLineNumber] = [];\n        }\n        for (let i = 0, len = modelDecorations.length; i < len; i++) {\n            const modelDecoration = modelDecorations[i];\n            const decorationOptions = modelDecoration.options;\n            if (!isModelDecorationVisible(this.model, modelDecoration)) {\n                continue;\n            }\n            const viewModelDecoration = this._getOrCreateViewModelDecoration(modelDecoration);\n            const viewRange = viewModelDecoration.range;\n            decorationsInViewport[decorationsInViewportLen++] = viewModelDecoration;\n            if (decorationOptions.inlineClassName) {\n                const inlineDecoration = new InlineDecoration(viewRange, decorationOptions.inlineClassName, decorationOptions.inlineClassNameAffectsLetterSpacing ? 3 /* InlineDecorationType.RegularAffectingLetterSpacing */ : 0 /* InlineDecorationType.Regular */);\n                const intersectedStartLineNumber = Math.max(startLineNumber, viewRange.startLineNumber);\n                const intersectedEndLineNumber = Math.min(endLineNumber, viewRange.endLineNumber);\n                for (let j = intersectedStartLineNumber; j <= intersectedEndLineNumber; j++) {\n                    inlineDecorations[j - startLineNumber].push(inlineDecoration);\n                }\n            }\n            if (decorationOptions.beforeContentClassName) {\n                if (startLineNumber <= viewRange.startLineNumber && viewRange.startLineNumber <= endLineNumber) {\n                    const inlineDecoration = new InlineDecoration(new Range(viewRange.startLineNumber, viewRange.startColumn, viewRange.startLineNumber, viewRange.startColumn), decorationOptions.beforeContentClassName, 1 /* InlineDecorationType.Before */);\n                    inlineDecorations[viewRange.startLineNumber - startLineNumber].push(inlineDecoration);\n                }\n            }\n            if (decorationOptions.afterContentClassName) {\n                if (startLineNumber <= viewRange.endLineNumber && viewRange.endLineNumber <= endLineNumber) {\n                    const inlineDecoration = new InlineDecoration(new Range(viewRange.endLineNumber, viewRange.endColumn, viewRange.endLineNumber, viewRange.endColumn), decorationOptions.afterContentClassName, 2 /* InlineDecorationType.After */);\n                    inlineDecorations[viewRange.endLineNumber - startLineNumber].push(inlineDecoration);\n                }\n            }\n        }\n        return {\n            decorations: decorationsInViewport,\n            inlineDecorations: inlineDecorations\n        };\n    }\n}\nexport function isModelDecorationVisible(model, decoration) {\n    if (decoration.options.hideInCommentTokens && isModelDecorationInComment(model, decoration)) {\n        return false;\n    }\n    if (decoration.options.hideInStringTokens && isModelDecorationInString(model, decoration)) {\n        return false;\n    }\n    return true;\n}\nexport function isModelDecorationInComment(model, decoration) {\n    return testTokensInRange(model, decoration.range, (tokenType) => tokenType === 1 /* StandardTokenType.Comment */);\n}\nexport function isModelDecorationInString(model, decoration) {\n    return testTokensInRange(model, decoration.range, (tokenType) => tokenType === 2 /* StandardTokenType.String */);\n}\n/**\n * Calls the callback for every token that intersects the range.\n * If the callback returns `false`, iteration stops and `false` is returned.\n * Otherwise, `true` is returned.\n */\nfunction testTokensInRange(model, range, callback) {\n    for (let lineNumber = range.startLineNumber; lineNumber <= range.endLineNumber; lineNumber++) {\n        const lineTokens = model.tokenization.getLineTokens(lineNumber);\n        const isFirstLine = lineNumber === range.startLineNumber;\n        const isEndLine = lineNumber === range.endLineNumber;\n        let tokenIdx = isFirstLine ? lineTokens.findTokenIndexAtOffset(range.startColumn - 1) : 0;\n        while (tokenIdx < lineTokens.getCount()) {\n            if (isEndLine) {\n                const startOffset = lineTokens.getStartOffset(tokenIdx);\n                if (startOffset > range.endColumn - 1) {\n                    break;\n                }\n            }\n            const callbackResult = callback(lineTokens.getStandardTokenType(tokenIdx));\n            if (!callbackResult) {\n                return false;\n            }\n            tokenIdx++;\n        }\n    }\n    return true;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}