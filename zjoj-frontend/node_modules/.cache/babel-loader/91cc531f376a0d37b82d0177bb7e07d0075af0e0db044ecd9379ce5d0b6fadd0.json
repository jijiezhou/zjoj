{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n  constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n    super(null, action, options);\n    this.actionItem = null;\n    this._onDidChangeVisibility = this._register(new Emitter());\n    this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n    this.menuActionsOrProvider = menuActionsOrProvider;\n    this.contextMenuProvider = contextMenuProvider;\n    this.options = options;\n    if (this.options.actionRunner) {\n      this.actionRunner = this.options.actionRunner;\n    }\n  }\n  render(container) {\n    this.actionItem = container;\n    const labelRenderer = el => {\n      this.element = append(el, $('a.action-label'));\n      let classNames = [];\n      if (typeof this.options.classNames === 'string') {\n        classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n      } else if (this.options.classNames) {\n        classNames = this.options.classNames;\n      }\n      // todo@aeschli: remove codicon, should come through `this.options.classNames`\n      if (!classNames.find(c => c === 'icon')) {\n        classNames.push('codicon');\n      }\n      this.element.classList.add(...classNames);\n      this.element.setAttribute('role', 'button');\n      this.element.setAttribute('aria-haspopup', 'true');\n      this.element.setAttribute('aria-expanded', 'false');\n      this.element.title = this._action.label || '';\n      this.element.ariaLabel = this._action.label || '';\n      return null;\n    };\n    const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n    const options = {\n      contextMenuProvider: this.contextMenuProvider,\n      labelRenderer: labelRenderer,\n      menuAsChild: this.options.menuAsChild,\n      actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n      actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider,\n      skipTelemetry: this.options.skipTelemetry\n    };\n    this.dropdownMenu = this._register(new DropdownMenu(container, options));\n    this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n      var _a;\n      (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n      this._onDidChangeVisibility.fire(visible);\n    }));\n    this.dropdownMenu.menuOptions = {\n      actionViewItemProvider: this.options.actionViewItemProvider,\n      actionRunner: this.actionRunner,\n      getKeyBinding: this.options.keybindingProvider,\n      context: this._context\n    };\n    if (this.options.anchorAlignmentProvider) {\n      const that = this;\n      this.dropdownMenu.menuOptions = {\n        ...this.dropdownMenu.menuOptions,\n        get anchorAlignment() {\n          return that.options.anchorAlignmentProvider();\n        }\n      };\n    }\n    this.updateTooltip();\n    this.updateEnabled();\n  }\n  getTooltip() {\n    let title = null;\n    if (this.action.tooltip) {\n      title = this.action.tooltip;\n    } else if (this.action.label) {\n      title = this.action.label;\n    }\n    return title !== null && title !== void 0 ? title : undefined;\n  }\n  setActionContext(newContext) {\n    super.setActionContext(newContext);\n    if (this.dropdownMenu) {\n      if (this.dropdownMenu.menuOptions) {\n        this.dropdownMenu.menuOptions.context = newContext;\n      } else {\n        this.dropdownMenu.menuOptions = {\n          context: newContext\n        };\n      }\n    }\n  }\n  show() {\n    var _a;\n    (_a = this.dropdownMenu) === null || _a === void 0 ? void 0 : _a.show();\n  }\n  updateEnabled() {\n    var _a, _b;\n    const disabled = !this.action.enabled;\n    (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n    (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n  }\n}","map":{"version":3,"names":["$","append","BaseActionViewItem","DropdownMenu","Emitter","DropdownMenuActionViewItem","constructor","action","menuActionsOrProvider","contextMenuProvider","options","Object","create","actionItem","_onDidChangeVisibility","_register","onDidChangeVisibility","event","actionRunner","render","container","labelRenderer","el","element","classNames","split","filter","s","find","c","push","classList","add","setAttribute","title","_action","label","ariaLabel","isActionsArray","Array","isArray","menuAsChild","actions","undefined","actionProvider","skipTelemetry","dropdownMenu","visible","_a","fire","menuOptions","actionViewItemProvider","getKeyBinding","keybindingProvider","context","_context","anchorAlignmentProvider","that","anchorAlignment","updateTooltip","updateEnabled","getTooltip","tooltip","setActionContext","newContext","show","_b","disabled","enabled","toggle"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js"],"sourcesContent":["import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            this.element.ariaLabel = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider,\n            skipTelemetry: this.options.skipTelemetry\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = {\n                ...this.dropdownMenu.menuOptions,\n                get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                }\n            };\n        }\n        this.updateTooltip();\n        this.updateEnabled();\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (this.action.label) {\n            title = this.action.label;\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    show() {\n        var _a;\n        (_a = this.dropdownMenu) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.action.enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}