{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar StandaloneColorPickerController_1, StandaloneColorPickerWidget_1;\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { StandaloneColorPickerParticipant } from './colorHoverParticipant.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { EditorHoverStatusBar } from '../../hover/browser/contentHover.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { DefaultDocumentColorProvider } from './defaultDocumentColorProvider.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport './colorPicker.css';\nlet StandaloneColorPickerController = StandaloneColorPickerController_1 = class StandaloneColorPickerController extends Disposable {\n  constructor(_editor, _contextKeyService, _modelService, _keybindingService, _instantiationService, _languageFeatureService, _languageConfigurationService) {\n    super();\n    this._editor = _editor;\n    this._modelService = _modelService;\n    this._keybindingService = _keybindingService;\n    this._instantiationService = _instantiationService;\n    this._languageFeatureService = _languageFeatureService;\n    this._languageConfigurationService = _languageConfigurationService;\n    this._standaloneColorPickerWidget = null;\n    this._standaloneColorPickerVisible = EditorContextKeys.standaloneColorPickerVisible.bindTo(_contextKeyService);\n    this._standaloneColorPickerFocused = EditorContextKeys.standaloneColorPickerFocused.bindTo(_contextKeyService);\n  }\n  showOrFocus() {\n    var _a;\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    if (!this._standaloneColorPickerVisible.get()) {\n      this._standaloneColorPickerWidget = new StandaloneColorPickerWidget(this._editor, this._standaloneColorPickerVisible, this._standaloneColorPickerFocused, this._instantiationService, this._modelService, this._keybindingService, this._languageFeatureService, this._languageConfigurationService);\n    } else if (!this._standaloneColorPickerFocused.get()) {\n      (_a = this._standaloneColorPickerWidget) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  }\n  hide() {\n    var _a;\n    this._standaloneColorPickerFocused.set(false);\n    this._standaloneColorPickerVisible.set(false);\n    (_a = this._standaloneColorPickerWidget) === null || _a === void 0 ? void 0 : _a.hide();\n    this._editor.focus();\n  }\n  insertColor() {\n    var _a;\n    (_a = this._standaloneColorPickerWidget) === null || _a === void 0 ? void 0 : _a.updateEditor();\n    this.hide();\n  }\n  static get(editor) {\n    return editor.getContribution(StandaloneColorPickerController_1.ID);\n  }\n};\nStandaloneColorPickerController.ID = 'editor.contrib.standaloneColorPickerController';\nStandaloneColorPickerController = StandaloneColorPickerController_1 = __decorate([__param(1, IContextKeyService), __param(2, IModelService), __param(3, IKeybindingService), __param(4, IInstantiationService), __param(5, ILanguageFeaturesService), __param(6, ILanguageConfigurationService)], StandaloneColorPickerController);\nexport { StandaloneColorPickerController };\nregisterEditorContribution(StandaloneColorPickerController.ID, StandaloneColorPickerController, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nconst PADDING = 8;\nconst CLOSE_BUTTON_WIDTH = 22;\nlet StandaloneColorPickerWidget = StandaloneColorPickerWidget_1 = class StandaloneColorPickerWidget extends Disposable {\n  constructor(_editor, _standaloneColorPickerVisible, _standaloneColorPickerFocused, _instantiationService, _modelService, _keybindingService, _languageFeaturesService, _languageConfigurationService) {\n    var _a;\n    super();\n    this._editor = _editor;\n    this._standaloneColorPickerVisible = _standaloneColorPickerVisible;\n    this._standaloneColorPickerFocused = _standaloneColorPickerFocused;\n    this._modelService = _modelService;\n    this._keybindingService = _keybindingService;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._languageConfigurationService = _languageConfigurationService;\n    this.allowEditorOverflow = true;\n    this._position = undefined;\n    this._body = document.createElement('div');\n    this._colorHover = null;\n    this._selectionSetInEditor = false;\n    this._onResult = this._register(new Emitter());\n    this.onResult = this._onResult.event;\n    this._standaloneColorPickerVisible.set(true);\n    this._standaloneColorPickerParticipant = _instantiationService.createInstance(StandaloneColorPickerParticipant, this._editor);\n    this._position = (_a = this._editor._getViewModel()) === null || _a === void 0 ? void 0 : _a.getPrimaryCursorState().modelState.position;\n    const editorSelection = this._editor.getSelection();\n    const selection = editorSelection ? {\n      startLineNumber: editorSelection.startLineNumber,\n      startColumn: editorSelection.startColumn,\n      endLineNumber: editorSelection.endLineNumber,\n      endColumn: editorSelection.endColumn\n    } : {\n      startLineNumber: 0,\n      endLineNumber: 0,\n      endColumn: 0,\n      startColumn: 0\n    };\n    const focusTracker = this._register(dom.trackFocus(this._body));\n    this._register(focusTracker.onDidBlur(_ => {\n      this.hide();\n    }));\n    this._register(focusTracker.onDidFocus(_ => {\n      this.focus();\n    }));\n    // When the cursor position changes, hide the color picker\n    this._register(this._editor.onDidChangeCursorPosition(() => {\n      // Do not hide the color picker when the cursor changes position due to the keybindings\n      if (!this._selectionSetInEditor) {\n        this.hide();\n      } else {\n        this._selectionSetInEditor = false;\n      }\n    }));\n    this._register(this._editor.onMouseMove(e => {\n      var _a;\n      const classList = (_a = e.target.element) === null || _a === void 0 ? void 0 : _a.classList;\n      if (classList && classList.contains('colorpicker-color-decoration')) {\n        this.hide();\n      }\n    }));\n    this._register(this.onResult(result => {\n      this._render(result.value, result.foundInEditor);\n    }));\n    this._start(selection);\n    this._body.style.zIndex = '50';\n    this._editor.addContentWidget(this);\n  }\n  updateEditor() {\n    if (this._colorHover) {\n      this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover);\n    }\n  }\n  getId() {\n    return StandaloneColorPickerWidget_1.ID;\n  }\n  getDomNode() {\n    return this._body;\n  }\n  getPosition() {\n    if (!this._position) {\n      return null;\n    }\n    const positionPreference = this._editor.getOption(60 /* EditorOption.hover */).above;\n    return {\n      position: this._position,\n      secondaryPosition: this._position,\n      preference: positionPreference ? [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */] : [2 /* ContentWidgetPositionPreference.BELOW */, 1 /* ContentWidgetPositionPreference.ABOVE */],\n      positionAffinity: 2 /* PositionAffinity.None */\n    };\n  }\n  hide() {\n    this.dispose();\n    this._standaloneColorPickerVisible.set(false);\n    this._standaloneColorPickerFocused.set(false);\n    this._editor.removeContentWidget(this);\n    this._editor.focus();\n  }\n  focus() {\n    this._standaloneColorPickerFocused.set(true);\n    this._body.focus();\n  }\n  async _start(selection) {\n    const computeAsyncResult = await this._computeAsync(selection);\n    if (!computeAsyncResult) {\n      return;\n    }\n    this._onResult.fire(new StandaloneColorPickerResult(computeAsyncResult.result, computeAsyncResult.foundInEditor));\n  }\n  async _computeAsync(range) {\n    if (!this._editor.hasModel()) {\n      return null;\n    }\n    const colorInfo = {\n      range: range,\n      color: {\n        red: 0,\n        green: 0,\n        blue: 0,\n        alpha: 1\n      }\n    };\n    const colorHoverResult = await this._standaloneColorPickerParticipant.createColorHover(colorInfo, new DefaultDocumentColorProvider(this._modelService, this._languageConfigurationService), this._languageFeaturesService.colorProvider);\n    if (!colorHoverResult) {\n      return null;\n    }\n    return {\n      result: colorHoverResult.colorHover,\n      foundInEditor: colorHoverResult.foundInEditor\n    };\n  }\n  _render(colorHover, foundInEditor) {\n    const fragment = document.createDocumentFragment();\n    const statusBar = this._register(new EditorHoverStatusBar(this._keybindingService));\n    let colorPickerWidget;\n    const context = {\n      fragment,\n      statusBar,\n      setColorPicker: widget => colorPickerWidget = widget,\n      onContentsChanged: () => {},\n      hide: () => this.hide()\n    };\n    this._colorHover = colorHover;\n    this._register(this._standaloneColorPickerParticipant.renderHoverParts(context, [colorHover]));\n    if (colorPickerWidget === undefined) {\n      return;\n    }\n    this._body.classList.add('standalone-colorpicker-body');\n    this._body.style.maxHeight = Math.max(this._editor.getLayoutInfo().height / 4, 250) + 'px';\n    this._body.style.maxWidth = Math.max(this._editor.getLayoutInfo().width * 0.66, 500) + 'px';\n    this._body.tabIndex = 0;\n    this._body.appendChild(fragment);\n    colorPickerWidget.layout();\n    const colorPickerBody = colorPickerWidget.body;\n    const saturationBoxWidth = colorPickerBody.saturationBox.domNode.clientWidth;\n    const widthOfOriginalColorBox = colorPickerBody.domNode.clientWidth - saturationBoxWidth - CLOSE_BUTTON_WIDTH - PADDING;\n    const enterButton = colorPickerWidget.body.enterButton;\n    enterButton === null || enterButton === void 0 ? void 0 : enterButton.onClicked(() => {\n      this.updateEditor();\n      this.hide();\n    });\n    const colorPickerHeader = colorPickerWidget.header;\n    const pickedColorNode = colorPickerHeader.pickedColorNode;\n    pickedColorNode.style.width = saturationBoxWidth + PADDING + 'px';\n    const originalColorNode = colorPickerHeader.originalColorNode;\n    originalColorNode.style.width = widthOfOriginalColorBox + 'px';\n    const closeButton = colorPickerWidget.header.closeButton;\n    closeButton === null || closeButton === void 0 ? void 0 : closeButton.onClicked(() => {\n      this.hide();\n    });\n    // When found in the editor, highlight the selection in the editor\n    if (foundInEditor) {\n      if (enterButton) {\n        enterButton.button.textContent = 'Replace';\n      }\n      this._selectionSetInEditor = true;\n      this._editor.setSelection(colorHover.range);\n    }\n    this._editor.layoutContentWidget(this);\n  }\n};\nStandaloneColorPickerWidget.ID = 'editor.contrib.standaloneColorPickerWidget';\nStandaloneColorPickerWidget = StandaloneColorPickerWidget_1 = __decorate([__param(3, IInstantiationService), __param(4, IModelService), __param(5, IKeybindingService), __param(6, ILanguageFeaturesService), __param(7, ILanguageConfigurationService)], StandaloneColorPickerWidget);\nexport { StandaloneColorPickerWidget };\nclass StandaloneColorPickerResult {\n  // The color picker result consists of: an array of color results and a boolean indicating if the color was found in the editor\n  constructor(value, foundInEditor) {\n    this.value = value;\n    this.foundInEditor = foundInEditor;\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","StandaloneColorPickerController_1","StandaloneColorPickerWidget_1","Disposable","StandaloneColorPickerParticipant","IInstantiationService","EditorHoverStatusBar","IKeybindingService","Emitter","ILanguageFeaturesService","registerEditorContribution","EditorContextKeys","IContextKeyService","IModelService","ILanguageConfigurationService","DefaultDocumentColorProvider","dom","StandaloneColorPickerController","constructor","_editor","_contextKeyService","_modelService","_keybindingService","_instantiationService","_languageFeatureService","_languageConfigurationService","_standaloneColorPickerWidget","_standaloneColorPickerVisible","standaloneColorPickerVisible","bindTo","_standaloneColorPickerFocused","standaloneColorPickerFocused","showOrFocus","_a","hasModel","get","StandaloneColorPickerWidget","focus","hide","set","insertColor","updateEditor","editor","getContribution","ID","PADDING","CLOSE_BUTTON_WIDTH","_languageFeaturesService","allowEditorOverflow","_position","undefined","_body","document","createElement","_colorHover","_selectionSetInEditor","_onResult","_register","onResult","event","_standaloneColorPickerParticipant","createInstance","_getViewModel","getPrimaryCursorState","modelState","position","editorSelection","getSelection","selection","startLineNumber","startColumn","endLineNumber","endColumn","focusTracker","trackFocus","onDidBlur","_","onDidFocus","onDidChangeCursorPosition","onMouseMove","e","classList","element","contains","result","_render","value","foundInEditor","_start","style","zIndex","addContentWidget","updateEditorModel","getId","getDomNode","getPosition","positionPreference","getOption","above","secondaryPosition","preference","positionAffinity","dispose","removeContentWidget","computeAsyncResult","_computeAsync","fire","StandaloneColorPickerResult","range","colorInfo","color","red","green","blue","alpha","colorHoverResult","createColorHover","colorProvider","colorHover","fragment","createDocumentFragment","statusBar","colorPickerWidget","context","setColorPicker","widget","onContentsChanged","renderHoverParts","add","maxHeight","Math","max","getLayoutInfo","height","maxWidth","width","tabIndex","appendChild","layout","colorPickerBody","body","saturationBoxWidth","saturationBox","domNode","clientWidth","widthOfOriginalColorBox","enterButton","onClicked","colorPickerHeader","header","pickedColorNode","originalColorNode","closeButton","button","textContent","setSelection","layoutContentWidget"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar StandaloneColorPickerController_1, StandaloneColorPickerWidget_1;\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { StandaloneColorPickerParticipant } from './colorHoverParticipant.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { EditorHoverStatusBar } from '../../hover/browser/contentHover.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { DefaultDocumentColorProvider } from './defaultDocumentColorProvider.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport './colorPicker.css';\nlet StandaloneColorPickerController = StandaloneColorPickerController_1 = class StandaloneColorPickerController extends Disposable {\n    constructor(_editor, _contextKeyService, _modelService, _keybindingService, _instantiationService, _languageFeatureService, _languageConfigurationService) {\n        super();\n        this._editor = _editor;\n        this._modelService = _modelService;\n        this._keybindingService = _keybindingService;\n        this._instantiationService = _instantiationService;\n        this._languageFeatureService = _languageFeatureService;\n        this._languageConfigurationService = _languageConfigurationService;\n        this._standaloneColorPickerWidget = null;\n        this._standaloneColorPickerVisible = EditorContextKeys.standaloneColorPickerVisible.bindTo(_contextKeyService);\n        this._standaloneColorPickerFocused = EditorContextKeys.standaloneColorPickerFocused.bindTo(_contextKeyService);\n    }\n    showOrFocus() {\n        var _a;\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (!this._standaloneColorPickerVisible.get()) {\n            this._standaloneColorPickerWidget = new StandaloneColorPickerWidget(this._editor, this._standaloneColorPickerVisible, this._standaloneColorPickerFocused, this._instantiationService, this._modelService, this._keybindingService, this._languageFeatureService, this._languageConfigurationService);\n        }\n        else if (!this._standaloneColorPickerFocused.get()) {\n            (_a = this._standaloneColorPickerWidget) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    }\n    hide() {\n        var _a;\n        this._standaloneColorPickerFocused.set(false);\n        this._standaloneColorPickerVisible.set(false);\n        (_a = this._standaloneColorPickerWidget) === null || _a === void 0 ? void 0 : _a.hide();\n        this._editor.focus();\n    }\n    insertColor() {\n        var _a;\n        (_a = this._standaloneColorPickerWidget) === null || _a === void 0 ? void 0 : _a.updateEditor();\n        this.hide();\n    }\n    static get(editor) {\n        return editor.getContribution(StandaloneColorPickerController_1.ID);\n    }\n};\nStandaloneColorPickerController.ID = 'editor.contrib.standaloneColorPickerController';\nStandaloneColorPickerController = StandaloneColorPickerController_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IModelService),\n    __param(3, IKeybindingService),\n    __param(4, IInstantiationService),\n    __param(5, ILanguageFeaturesService),\n    __param(6, ILanguageConfigurationService)\n], StandaloneColorPickerController);\nexport { StandaloneColorPickerController };\nregisterEditorContribution(StandaloneColorPickerController.ID, StandaloneColorPickerController, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nconst PADDING = 8;\nconst CLOSE_BUTTON_WIDTH = 22;\nlet StandaloneColorPickerWidget = StandaloneColorPickerWidget_1 = class StandaloneColorPickerWidget extends Disposable {\n    constructor(_editor, _standaloneColorPickerVisible, _standaloneColorPickerFocused, _instantiationService, _modelService, _keybindingService, _languageFeaturesService, _languageConfigurationService) {\n        var _a;\n        super();\n        this._editor = _editor;\n        this._standaloneColorPickerVisible = _standaloneColorPickerVisible;\n        this._standaloneColorPickerFocused = _standaloneColorPickerFocused;\n        this._modelService = _modelService;\n        this._keybindingService = _keybindingService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._languageConfigurationService = _languageConfigurationService;\n        this.allowEditorOverflow = true;\n        this._position = undefined;\n        this._body = document.createElement('div');\n        this._colorHover = null;\n        this._selectionSetInEditor = false;\n        this._onResult = this._register(new Emitter());\n        this.onResult = this._onResult.event;\n        this._standaloneColorPickerVisible.set(true);\n        this._standaloneColorPickerParticipant = _instantiationService.createInstance(StandaloneColorPickerParticipant, this._editor);\n        this._position = (_a = this._editor._getViewModel()) === null || _a === void 0 ? void 0 : _a.getPrimaryCursorState().modelState.position;\n        const editorSelection = this._editor.getSelection();\n        const selection = editorSelection ?\n            {\n                startLineNumber: editorSelection.startLineNumber,\n                startColumn: editorSelection.startColumn,\n                endLineNumber: editorSelection.endLineNumber,\n                endColumn: editorSelection.endColumn\n            } : { startLineNumber: 0, endLineNumber: 0, endColumn: 0, startColumn: 0 };\n        const focusTracker = this._register(dom.trackFocus(this._body));\n        this._register(focusTracker.onDidBlur(_ => {\n            this.hide();\n        }));\n        this._register(focusTracker.onDidFocus(_ => {\n            this.focus();\n        }));\n        // When the cursor position changes, hide the color picker\n        this._register(this._editor.onDidChangeCursorPosition(() => {\n            // Do not hide the color picker when the cursor changes position due to the keybindings\n            if (!this._selectionSetInEditor) {\n                this.hide();\n            }\n            else {\n                this._selectionSetInEditor = false;\n            }\n        }));\n        this._register(this._editor.onMouseMove((e) => {\n            var _a;\n            const classList = (_a = e.target.element) === null || _a === void 0 ? void 0 : _a.classList;\n            if (classList && classList.contains('colorpicker-color-decoration')) {\n                this.hide();\n            }\n        }));\n        this._register(this.onResult((result) => {\n            this._render(result.value, result.foundInEditor);\n        }));\n        this._start(selection);\n        this._body.style.zIndex = '50';\n        this._editor.addContentWidget(this);\n    }\n    updateEditor() {\n        if (this._colorHover) {\n            this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover);\n        }\n    }\n    getId() {\n        return StandaloneColorPickerWidget_1.ID;\n    }\n    getDomNode() {\n        return this._body;\n    }\n    getPosition() {\n        if (!this._position) {\n            return null;\n        }\n        const positionPreference = this._editor.getOption(60 /* EditorOption.hover */).above;\n        return {\n            position: this._position,\n            secondaryPosition: this._position,\n            preference: positionPreference ? [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */] : [2 /* ContentWidgetPositionPreference.BELOW */, 1 /* ContentWidgetPositionPreference.ABOVE */],\n            positionAffinity: 2 /* PositionAffinity.None */\n        };\n    }\n    hide() {\n        this.dispose();\n        this._standaloneColorPickerVisible.set(false);\n        this._standaloneColorPickerFocused.set(false);\n        this._editor.removeContentWidget(this);\n        this._editor.focus();\n    }\n    focus() {\n        this._standaloneColorPickerFocused.set(true);\n        this._body.focus();\n    }\n    async _start(selection) {\n        const computeAsyncResult = await this._computeAsync(selection);\n        if (!computeAsyncResult) {\n            return;\n        }\n        this._onResult.fire(new StandaloneColorPickerResult(computeAsyncResult.result, computeAsyncResult.foundInEditor));\n    }\n    async _computeAsync(range) {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const colorInfo = {\n            range: range,\n            color: { red: 0, green: 0, blue: 0, alpha: 1 }\n        };\n        const colorHoverResult = await this._standaloneColorPickerParticipant.createColorHover(colorInfo, new DefaultDocumentColorProvider(this._modelService, this._languageConfigurationService), this._languageFeaturesService.colorProvider);\n        if (!colorHoverResult) {\n            return null;\n        }\n        return { result: colorHoverResult.colorHover, foundInEditor: colorHoverResult.foundInEditor };\n    }\n    _render(colorHover, foundInEditor) {\n        const fragment = document.createDocumentFragment();\n        const statusBar = this._register(new EditorHoverStatusBar(this._keybindingService));\n        let colorPickerWidget;\n        const context = {\n            fragment,\n            statusBar,\n            setColorPicker: (widget) => colorPickerWidget = widget,\n            onContentsChanged: () => { },\n            hide: () => this.hide()\n        };\n        this._colorHover = colorHover;\n        this._register(this._standaloneColorPickerParticipant.renderHoverParts(context, [colorHover]));\n        if (colorPickerWidget === undefined) {\n            return;\n        }\n        this._body.classList.add('standalone-colorpicker-body');\n        this._body.style.maxHeight = Math.max(this._editor.getLayoutInfo().height / 4, 250) + 'px';\n        this._body.style.maxWidth = Math.max(this._editor.getLayoutInfo().width * 0.66, 500) + 'px';\n        this._body.tabIndex = 0;\n        this._body.appendChild(fragment);\n        colorPickerWidget.layout();\n        const colorPickerBody = colorPickerWidget.body;\n        const saturationBoxWidth = colorPickerBody.saturationBox.domNode.clientWidth;\n        const widthOfOriginalColorBox = colorPickerBody.domNode.clientWidth - saturationBoxWidth - CLOSE_BUTTON_WIDTH - PADDING;\n        const enterButton = colorPickerWidget.body.enterButton;\n        enterButton === null || enterButton === void 0 ? void 0 : enterButton.onClicked(() => {\n            this.updateEditor();\n            this.hide();\n        });\n        const colorPickerHeader = colorPickerWidget.header;\n        const pickedColorNode = colorPickerHeader.pickedColorNode;\n        pickedColorNode.style.width = saturationBoxWidth + PADDING + 'px';\n        const originalColorNode = colorPickerHeader.originalColorNode;\n        originalColorNode.style.width = widthOfOriginalColorBox + 'px';\n        const closeButton = colorPickerWidget.header.closeButton;\n        closeButton === null || closeButton === void 0 ? void 0 : closeButton.onClicked(() => {\n            this.hide();\n        });\n        // When found in the editor, highlight the selection in the editor\n        if (foundInEditor) {\n            if (enterButton) {\n                enterButton.button.textContent = 'Replace';\n            }\n            this._selectionSetInEditor = true;\n            this._editor.setSelection(colorHover.range);\n        }\n        this._editor.layoutContentWidget(this);\n    }\n};\nStandaloneColorPickerWidget.ID = 'editor.contrib.standaloneColorPickerWidget';\nStandaloneColorPickerWidget = StandaloneColorPickerWidget_1 = __decorate([\n    __param(3, IInstantiationService),\n    __param(4, IModelService),\n    __param(5, IKeybindingService),\n    __param(6, ILanguageFeaturesService),\n    __param(7, ILanguageConfigurationService)\n], StandaloneColorPickerWidget);\nexport { StandaloneColorPickerWidget };\nclass StandaloneColorPickerResult {\n    // The color picker result consists of: an array of color results and a boolean indicating if the color was found in the editor\n    constructor(value, foundInEditor) {\n        this.value = value;\n        this.foundInEditor = foundInEditor;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}