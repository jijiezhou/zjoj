{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../core/range.js';\nimport { Selection } from '../core/selection.js';\nexport class SurroundSelectionCommand {\n  constructor(range, charBeforeSelection, charAfterSelection) {\n    this._range = range;\n    this._charBeforeSelection = charBeforeSelection;\n    this._charAfterSelection = charAfterSelection;\n  }\n  getEditOperations(model, builder) {\n    builder.addTrackedEditOperation(new Range(this._range.startLineNumber, this._range.startColumn, this._range.startLineNumber, this._range.startColumn), this._charBeforeSelection);\n    builder.addTrackedEditOperation(new Range(this._range.endLineNumber, this._range.endColumn, this._range.endLineNumber, this._range.endColumn), this._charAfterSelection);\n  }\n  computeCursorState(model, helper) {\n    const inverseEditOperations = helper.getInverseEditOperations();\n    const firstOperationRange = inverseEditOperations[0].range;\n    const secondOperationRange = inverseEditOperations[1].range;\n    return new Selection(firstOperationRange.endLineNumber, firstOperationRange.endColumn, secondOperationRange.endLineNumber, secondOperationRange.endColumn - this._charAfterSelection.length);\n  }\n}\n/**\n * A surround selection command that runs after composition finished.\n */\nexport class CompositionSurroundSelectionCommand {\n  constructor(_position, _text, _charAfter) {\n    this._position = _position;\n    this._text = _text;\n    this._charAfter = _charAfter;\n  }\n  getEditOperations(model, builder) {\n    builder.addTrackedEditOperation(new Range(this._position.lineNumber, this._position.column, this._position.lineNumber, this._position.column), this._text + this._charAfter);\n  }\n  computeCursorState(model, helper) {\n    const inverseEditOperations = helper.getInverseEditOperations();\n    const opRange = inverseEditOperations[0].range;\n    return new Selection(opRange.endLineNumber, opRange.startColumn, opRange.endLineNumber, opRange.endColumn - this._charAfter.length);\n  }\n}","map":{"version":3,"names":["Range","Selection","SurroundSelectionCommand","constructor","range","charBeforeSelection","charAfterSelection","_range","_charBeforeSelection","_charAfterSelection","getEditOperations","model","builder","addTrackedEditOperation","startLineNumber","startColumn","endLineNumber","endColumn","computeCursorState","helper","inverseEditOperations","getInverseEditOperations","firstOperationRange","secondOperationRange","length","CompositionSurroundSelectionCommand","_position","_text","_charAfter","lineNumber","column","opRange"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/editor/common/commands/surroundSelectionCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../core/range.js';\nimport { Selection } from '../core/selection.js';\nexport class SurroundSelectionCommand {\n    constructor(range, charBeforeSelection, charAfterSelection) {\n        this._range = range;\n        this._charBeforeSelection = charBeforeSelection;\n        this._charAfterSelection = charAfterSelection;\n    }\n    getEditOperations(model, builder) {\n        builder.addTrackedEditOperation(new Range(this._range.startLineNumber, this._range.startColumn, this._range.startLineNumber, this._range.startColumn), this._charBeforeSelection);\n        builder.addTrackedEditOperation(new Range(this._range.endLineNumber, this._range.endColumn, this._range.endLineNumber, this._range.endColumn), this._charAfterSelection);\n    }\n    computeCursorState(model, helper) {\n        const inverseEditOperations = helper.getInverseEditOperations();\n        const firstOperationRange = inverseEditOperations[0].range;\n        const secondOperationRange = inverseEditOperations[1].range;\n        return new Selection(firstOperationRange.endLineNumber, firstOperationRange.endColumn, secondOperationRange.endLineNumber, secondOperationRange.endColumn - this._charAfterSelection.length);\n    }\n}\n/**\n * A surround selection command that runs after composition finished.\n */\nexport class CompositionSurroundSelectionCommand {\n    constructor(_position, _text, _charAfter) {\n        this._position = _position;\n        this._text = _text;\n        this._charAfter = _charAfter;\n    }\n    getEditOperations(model, builder) {\n        builder.addTrackedEditOperation(new Range(this._position.lineNumber, this._position.column, this._position.lineNumber, this._position.column), this._text + this._charAfter);\n    }\n    computeCursorState(model, helper) {\n        const inverseEditOperations = helper.getInverseEditOperations();\n        const opRange = inverseEditOperations[0].range;\n        return new Selection(opRange.endLineNumber, opRange.startColumn, opRange.endLineNumber, opRange.endColumn - this._charAfter.length);\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,KAAK,QAAQ,kBAAkB;AACxC,SAASC,SAAS,QAAQ,sBAAsB;AAChD,OAAO,MAAMC,wBAAwB,CAAC;EAClCC,WAAWA,CAACC,KAAK,EAAEC,mBAAmB,EAAEC,kBAAkB,EAAE;IACxD,IAAI,CAACC,MAAM,GAAGH,KAAK;IACnB,IAAI,CAACI,oBAAoB,GAAGH,mBAAmB;IAC/C,IAAI,CAACI,mBAAmB,GAAGH,kBAAkB;EACjD;EACAI,iBAAiBA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC9BA,OAAO,CAACC,uBAAuB,CAAC,IAAIb,KAAK,CAAC,IAAI,CAACO,MAAM,CAACO,eAAe,EAAE,IAAI,CAACP,MAAM,CAACQ,WAAW,EAAE,IAAI,CAACR,MAAM,CAACO,eAAe,EAAE,IAAI,CAACP,MAAM,CAACQ,WAAW,CAAC,EAAE,IAAI,CAACP,oBAAoB,CAAC;IACjLI,OAAO,CAACC,uBAAuB,CAAC,IAAIb,KAAK,CAAC,IAAI,CAACO,MAAM,CAACS,aAAa,EAAE,IAAI,CAACT,MAAM,CAACU,SAAS,EAAE,IAAI,CAACV,MAAM,CAACS,aAAa,EAAE,IAAI,CAACT,MAAM,CAACU,SAAS,CAAC,EAAE,IAAI,CAACR,mBAAmB,CAAC;EAC5K;EACAS,kBAAkBA,CAACP,KAAK,EAAEQ,MAAM,EAAE;IAC9B,MAAMC,qBAAqB,GAAGD,MAAM,CAACE,wBAAwB,CAAC,CAAC;IAC/D,MAAMC,mBAAmB,GAAGF,qBAAqB,CAAC,CAAC,CAAC,CAAChB,KAAK;IAC1D,MAAMmB,oBAAoB,GAAGH,qBAAqB,CAAC,CAAC,CAAC,CAAChB,KAAK;IAC3D,OAAO,IAAIH,SAAS,CAACqB,mBAAmB,CAACN,aAAa,EAAEM,mBAAmB,CAACL,SAAS,EAAEM,oBAAoB,CAACP,aAAa,EAAEO,oBAAoB,CAACN,SAAS,GAAG,IAAI,CAACR,mBAAmB,CAACe,MAAM,CAAC;EAChM;AACJ;AACA;AACA;AACA;AACA,OAAO,MAAMC,mCAAmC,CAAC;EAC7CtB,WAAWA,CAACuB,SAAS,EAAEC,KAAK,EAAEC,UAAU,EAAE;IACtC,IAAI,CAACF,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,UAAU,GAAGA,UAAU;EAChC;EACAlB,iBAAiBA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC9BA,OAAO,CAACC,uBAAuB,CAAC,IAAIb,KAAK,CAAC,IAAI,CAAC0B,SAAS,CAACG,UAAU,EAAE,IAAI,CAACH,SAAS,CAACI,MAAM,EAAE,IAAI,CAACJ,SAAS,CAACG,UAAU,EAAE,IAAI,CAACH,SAAS,CAACI,MAAM,CAAC,EAAE,IAAI,CAACH,KAAK,GAAG,IAAI,CAACC,UAAU,CAAC;EAChL;EACAV,kBAAkBA,CAACP,KAAK,EAAEQ,MAAM,EAAE;IAC9B,MAAMC,qBAAqB,GAAGD,MAAM,CAACE,wBAAwB,CAAC,CAAC;IAC/D,MAAMU,OAAO,GAAGX,qBAAqB,CAAC,CAAC,CAAC,CAAChB,KAAK;IAC9C,OAAO,IAAIH,SAAS,CAAC8B,OAAO,CAACf,aAAa,EAAEe,OAAO,CAAChB,WAAW,EAAEgB,OAAO,CAACf,aAAa,EAAEe,OAAO,CAACd,SAAS,GAAG,IAAI,CAACW,UAAU,CAACJ,MAAM,CAAC;EACvI;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}