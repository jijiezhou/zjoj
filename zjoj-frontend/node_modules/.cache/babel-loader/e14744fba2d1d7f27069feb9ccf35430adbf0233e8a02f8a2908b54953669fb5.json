{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n  ariaContainer = document.createElement('div');\n  ariaContainer.className = 'monaco-aria-container';\n  const createAlertContainer = () => {\n    const element = document.createElement('div');\n    element.className = 'monaco-alert';\n    element.setAttribute('role', 'alert');\n    element.setAttribute('aria-atomic', 'true');\n    ariaContainer.appendChild(element);\n    return element;\n  };\n  alertContainer = createAlertContainer();\n  alertContainer2 = createAlertContainer();\n  const createStatusContainer = () => {\n    const element = document.createElement('div');\n    element.className = 'monaco-status';\n    element.setAttribute('aria-live', 'polite');\n    element.setAttribute('aria-atomic', 'true');\n    ariaContainer.appendChild(element);\n    return element;\n  };\n  statusContainer = createStatusContainer();\n  statusContainer2 = createStatusContainer();\n  parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n  if (!ariaContainer) {\n    return;\n  }\n  // Use alternate containers such that duplicated messages get read out by screen readers #99466\n  if (alertContainer.textContent !== msg) {\n    dom.clearNode(alertContainer2);\n    insertMessage(alertContainer, msg);\n  } else {\n    dom.clearNode(alertContainer);\n    insertMessage(alertContainer2, msg);\n  }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n  if (!ariaContainer) {\n    return;\n  }\n  if (statusContainer.textContent !== msg) {\n    dom.clearNode(statusContainer2);\n    insertMessage(statusContainer, msg);\n  } else {\n    dom.clearNode(statusContainer);\n    insertMessage(statusContainer2, msg);\n  }\n}\nfunction insertMessage(target, msg) {\n  dom.clearNode(target);\n  if (msg.length > MAX_MESSAGE_LENGTH) {\n    msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n  }\n  target.textContent = msg;\n  // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n  target.style.visibility = 'hidden';\n  target.style.visibility = 'visible';\n}","map":{"version":3,"names":["dom","MAX_MESSAGE_LENGTH","ariaContainer","alertContainer","alertContainer2","statusContainer","statusContainer2","setARIAContainer","parent","document","createElement","className","createAlertContainer","element","setAttribute","appendChild","createStatusContainer","alert","msg","textContent","clearNode","insertMessage","status","target","length","substr","style","visibility"],"sources":["/Users/zj/projects/zjoj/zjoj-frontend/node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n    ariaContainer = document.createElement('div');\n    ariaContainer.className = 'monaco-aria-container';\n    const createAlertContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-alert';\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    alertContainer = createAlertContainer();\n    alertContainer2 = createAlertContainer();\n    const createStatusContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-status';\n        element.setAttribute('aria-live', 'polite');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    statusContainer = createStatusContainer();\n    statusContainer2 = createStatusContainer();\n    parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    // Use alternate containers such that duplicated messages get read out by screen readers #99466\n    if (alertContainer.textContent !== msg) {\n        dom.clearNode(alertContainer2);\n        insertMessage(alertContainer, msg);\n    }\n    else {\n        dom.clearNode(alertContainer);\n        insertMessage(alertContainer2, msg);\n    }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    if (statusContainer.textContent !== msg) {\n        dom.clearNode(statusContainer2);\n        insertMessage(statusContainer, msg);\n    }\n    else {\n        dom.clearNode(statusContainer);\n        insertMessage(statusContainer2, msg);\n    }\n}\nfunction insertMessage(target, msg) {\n    dom.clearNode(target);\n    if (msg.length > MAX_MESSAGE_LENGTH) {\n        msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n    }\n    target.textContent = msg;\n    // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n    target.style.visibility = 'hidden';\n    target.style.visibility = 'visible';\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}